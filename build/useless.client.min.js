var $jscomp={scope:{},getGlobal:function(l){return"undefined"!=typeof window&&window===l?l:"undefined"!=typeof global?global:l}};$jscomp.global=$jscomp.getGlobal(this);$jscomp.patches={};$jscomp.patch=function(l,m){($jscomp.patches[l]=$jscomp.patches[l]||[]).push(m);for(var b=$jscomp.global,a=l.split("."),c=0;c<a.length-1&&b;c++)b=b[a[c]];a=a[a.length-1];b&&b[a]instanceof Function&&(b[a]=m(b[a]))};
$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(l,m,b){if(b.get||b.set)throw new TypeError("ES3 does not support getters and setters.");l!=Array.prototype&&l!=Object.prototype&&(l[m]=b.value)};$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};if(!$jscomp.global.Symbol){$jscomp.global.Symbol=$jscomp.Symbol;var l=[],m=function(b){return function(a){l=[];a=b(a);for(var c=[],d=0,e=a.length;d<e;d++){var f;a:if(f=a[d],f.length<$jscomp.SYMBOL_PREFIX.length)f=!1;else{for(var h=0;h<$jscomp.SYMBOL_PREFIX.length;h++)if(f[h]!=$jscomp.SYMBOL_PREFIX[h]){f=!1;break a}f=!0}f?l.push(a[d]):c.push(a[d])}return c}};$jscomp.patch("Object.keys",m);$jscomp.patch("Object.getOwnPropertyNames",m);$jscomp.patch("Object.getOwnPropertySymbols",
function(b){return function(a){m.unused=Object.getOwnPropertyNames(a);l.push.apply(b(a));return l}})}};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(l){return $jscomp.SYMBOL_PREFIX+l+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var l=$jscomp.global.Symbol.iterator;l||(l=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[l]&&$jscomp.defineProperty(Array.prototype,l,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(l){var m=0;return $jscomp.iteratorPrototype(function(){return m<l.length?{done:!1,value:l[m++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(l){$jscomp.initSymbolIterator();l={next:l};l[$jscomp.global.Symbol.iterator]=function(){return this};return l};$jscomp.makeIterator=function(l){$jscomp.initSymbolIterator();var m=l[Symbol.iterator];return m?m.call(l):$jscomp.arrayIterator(l)};
(function(l){function m(a){if(b[a])return b[a].exports;var c=b[a]={exports:{},id:a,loaded:!1};l[a].call(c.exports,c,c.exports,m);c.loaded=!0;return c.exports}var b={};m.m=l;m.c=b;m.p="";return m(0)})([function(l,m,b){$uselessFile="useless.client.js";_=b(1);_=function(){_.mixin({zipWith:function(a,b){return _.reduce(_.rest(a),function(a,e){return _.times(Math.max(a&&a.length||0,e&&e.length||0),function(f){return b(a&&a[f],e&&e[f])})},_.first(a))}});if("a1 b2 c3"!==_.zipWith([["a","b","c"],[1,2,3]],
function(a,b){return a+b}).join(" "))throw Error("_.zipWith broken");return _}();_.tests={};_.deferTest=_.withTest=function(a,b,d){d()};b(2);b(3);b(4);b(5);b(6);b(7);b(8);b(9);b(10);b(11);b(13);b(14);b(15);b(16);b(17);b(18);b(19);b(20);b(21);b(22);b(24);b(25);b(26);b(27);b(28);b(29);b(30);b(31);b(32);b(33);b(34);b(35)},function(l,m,b){var a,c;(function(){function b(a){return function(b,c,d,e){c=z(c,e,4);var f=!u(b)&&g.keys(b),h=(f||b).length,k=0<a?0:h-1;3>arguments.length&&(d=b[f?f[k]:k],k+=a);for(var n=
c,p=d;0<=k&&k<h;k+=a)var l=f?f[k]:k,p=n(p,b[l],l,b);return p}}function e(a){return function(b,c,d){c=t(c,d);d=w(b);for(var e=0<a?0:d-1;0<=e&&e<d;e+=a)if(c(b[e],e,b))return e;return-1}}function f(a,b,c){return function(d,e,f){var h=0,k=w(d);if("number"==typeof f)0<a?h=0<=f?f:Math.max(f+k,h):k=0<=f?Math.min(f+1,k):f+k+1;else if(c&&f&&k)return f=c(d,e),d[f]===e?f:-1;if(e!==e)return f=b(r.call(d,h,k),g.isNaN),0<=f?f+h:-1;for(f=0<a?h:k-1;0<=f&&f<k;f+=a)if(d[f]===e)return f;return-1}}function h(a,b){var c=
J.length,d=a.constructor,d=g.isFunction(d)&&d.prototype||x,e="constructor";for(g.has(a,e)&&!g.contains(b,e)&&b.push(e);c--;)e=J[c],e in a&&a[e]!==d[e]&&!g.contains(b,e)&&b.push(e)}var k=this,n=k._,p=Array.prototype,x=Object.prototype,q=p.push,r=p.slice,v=x.toString,Q=x.hasOwnProperty,C=Array.isArray,K=Object.keys,D=Function.prototype.bind,L=Object.create,E=function(){},g=function(a){if(a instanceof g)return a;if(!(this instanceof g))return new g(a);this._wrapped=a};"undefined"!==typeof l&&l.exports&&
(m=l.exports=g);m._=g;g.VERSION="1.8.3";var z=function(a,b,c){if(void 0===b)return a;switch(null==c?3:c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return function(){return a.apply(b,arguments)}},t=function(a,b,c){return null==a?g.identity:g.isFunction(a)?z(a,b,c):g.isObject(a)?g.matcher(a):g.property(a)};g.iteratee=function(a,b){return t(a,
b,Infinity)};var A=function(a,b){return function(c){var d=arguments.length;if(2>d||null==c)return c;for(var e=1;e<d;e++)for(var f=arguments[e],h=a(f),g=h.length,k=0;k<g;k++){var n=h[k];b&&void 0!==c[n]||(c[n]=f[n])}return c}},M=function(a){if(!g.isObject(a))return{};if(L)return L(a);E.prototype=a;a=new E;E.prototype=null;return a},B=function(a){return function(b){return null==b?void 0:b[a]}},S=Math.pow(2,53)-1,w=B("length"),u=function(a){a=w(a);return"number"==typeof a&&0<=a&&a<=S};g.each=g.forEach=
function(a,b,c){b=z(b,c);var d;if(u(a))for(c=0,d=a.length;c<d;c++)b(a[c],c,a);else{var e=g.keys(a);c=0;for(d=e.length;c<d;c++)b(a[e[c]],e[c],a)}return a};g.map=g.collect=function(a,b,c){b=t(b,c);c=!u(a)&&g.keys(a);for(var d=(c||a).length,e=Array(d),f=0;f<d;f++){var h=c?c[f]:f;e[f]=b(a[h],h,a)}return e};g.reduce=g.foldl=g.inject=b(1);g.reduceRight=g.foldr=b(-1);g.find=g.detect=function(a,b,c){b=u(a)?g.findIndex(a,b,c):g.findKey(a,b,c);if(void 0!==b&&-1!==b)return a[b]};g.filter=g.select=function(a,
b,c){var d=[];b=t(b,c);g.each(a,function(a,c,e){b(a,c,e)&&d.push(a)});return d};g.reject=function(a,b,c){return g.filter(a,g.negate(t(b)),c)};g.every=g.all=function(a,b,c){b=t(b,c);c=!u(a)&&g.keys(a);for(var d=(c||a).length,e=0;e<d;e++){var f=c?c[e]:e;if(!b(a[f],f,a))return!1}return!0};g.some=g.any=function(a,b,c){b=t(b,c);c=!u(a)&&g.keys(a);for(var d=(c||a).length,e=0;e<d;e++){var f=c?c[e]:e;if(b(a[f],f,a))return!0}return!1};g.contains=g.includes=g.include=function(a,b,c,d){u(a)||(a=g.values(a));
if("number"!=typeof c||d)c=0;return 0<=g.indexOf(a,b,c)};g.invoke=function(a,b){var c=r.call(arguments,2),d=g.isFunction(b);return g.map(a,function(a){var e=d?b:a[b];return null==e?e:e.apply(a,c)})};g.pluck=function(a,b){return g.map(a,g.property(b))};g.where=function(a,b){return g.filter(a,g.matcher(b))};g.findWhere=function(a,b){return g.find(a,g.matcher(b))};g.max=function(a,b,c){var d=-Infinity,e=-Infinity,f;if(null==b&&null!=a){a=u(a)?a:g.values(a);for(var h=0,k=a.length;h<k;h++)c=a[h],c>d&&
(d=c)}else b=t(b,c),g.each(a,function(a,c,h){f=b(a,c,h);if(f>e||-Infinity===f&&-Infinity===d)d=a,e=f});return d};g.min=function(a,b,c){var d=Infinity,e=Infinity,f;if(null==b&&null!=a){a=u(a)?a:g.values(a);for(var h=0,k=a.length;h<k;h++)c=a[h],c<d&&(d=c)}else b=t(b,c),g.each(a,function(a,c,h){f=b(a,c,h);if(f<e||Infinity===f&&Infinity===d)d=a,e=f});return d};g.shuffle=function(a){a=u(a)?a:g.values(a);for(var b=a.length,c=Array(b),d=0,e;d<b;d++)e=g.random(0,d),e!==d&&(c[d]=c[e]),c[e]=a[d];return c};
g.sample=function(a,b,c){return null==b||c?(u(a)||(a=g.values(a)),a[g.random(a.length-1)]):g.shuffle(a).slice(0,Math.max(0,b))};g.sortBy=function(a,b,c){b=t(b,c);return g.pluck(g.map(a,function(a,c,d){return{value:a,index:c,criteria:b(a,c,d)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(c<d||void 0===d)return-1}return a.index-b.index}),"value")};var F=function(a){return function(b,c,d){var e={};c=t(c,d);g.each(b,function(d,f){var h=c(d,f,b);a(e,d,h)});
return e}};g.groupBy=F(function(a,b,c){g.has(a,c)?a[c].push(b):a[c]=[b]});g.indexBy=F(function(a,b,c){a[c]=b});g.countBy=F(function(a,b,c){g.has(a,c)?a[c]++:a[c]=1});g.toArray=function(a){return a?g.isArray(a)?r.call(a):u(a)?g.map(a,g.identity):g.values(a):[]};g.size=function(a){return null==a?0:u(a)?a.length:g.keys(a).length};g.partition=function(a,b,c){b=t(b,c);var d=[],e=[];g.each(a,function(a,c,f){(b(a,c,f)?d:e).push(a)});return[d,e]};g.first=g.head=g.take=function(a,b,c){return null==a?void 0:
null==b||c?a[0]:g.initial(a,a.length-b)};g.initial=function(a,b,c){return r.call(a,0,Math.max(0,a.length-(null==b||c?1:b)))};g.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:g.rest(a,Math.max(0,a.length-b))};g.rest=g.tail=g.drop=function(a,b,c){return r.call(a,null==b||c?1:b)};g.compact=function(a){return g.filter(a,g.identity)};var y=function(a,b,c,d){var e=[],f=0;d=d||0;for(var h=w(a);d<h;d++){var k=a[d];if(u(k)&&(g.isArray(k)||g.isArguments(k))){b||(k=y(k,b,c));var n=0,p=k.length;
for(e.length+=p;n<p;)e[f++]=k[n++]}else c||(e[f++]=k)}return e};g.flatten=function(a,b){return y(a,b,!1)};g.without=function(a){return g.difference(a,r.call(arguments,1))};g.uniq=g.unique=function(a,b,c,d){g.isBoolean(b)||(d=c,c=b,b=!1);null!=c&&(c=t(c,d));d=[];for(var e=[],f=0,h=w(a);f<h;f++){var k=a[f],n=c?c(k,f,a):k;b?(f&&e===n||d.push(k),e=n):c?g.contains(e,n)||(e.push(n),d.push(k)):g.contains(d,k)||d.push(k)}return d};g.union=function(){return g.uniq(y(arguments,!0,!0))};g.intersection=function(a){for(var b=
[],c=arguments.length,d=0,e=w(a);d<e;d++){var f=a[d];if(!g.contains(b,f)){for(var h=1;h<c&&g.contains(arguments[h],f);h++);h===c&&b.push(f)}}return b};g.difference=function(a){var b=y(arguments,!0,!0,1);return g.filter(a,function(a){return!g.contains(b,a)})};g.zip=function(){return g.unzip(arguments)};g.unzip=function(a){for(var b=a&&g.max(a,w).length||0,c=Array(b),d=0;d<b;d++)c[d]=g.pluck(a,d);return c};g.object=function(a,b){for(var c={},d=0,e=w(a);d<e;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c};
g.findIndex=e(1);g.findLastIndex=e(-1);g.sortedIndex=function(a,b,c,d){c=t(c,d,1);b=c(b);d=0;for(var e=w(a);d<e;){var f=Math.floor((d+e)/2);c(a[f])<b?d=f+1:e=f}return d};g.indexOf=f(1,g.findIndex,g.sortedIndex);g.lastIndexOf=f(-1,g.findLastIndex);g.range=function(a,b,c){null==b&&(b=a||0,a=0);c=c||1;b=Math.max(Math.ceil((b-a)/c),0);for(var d=Array(b),e=0;e<b;e++,a+=c)d[e]=a;return d};var O=function(a,b,c,d,e){if(!(d instanceof b))return a.apply(c,e);b=M(a.prototype);a=a.apply(b,e);return g.isObject(a)?
a:b};g.bind=function(a,b){if(D&&a.bind===D)return D.apply(a,r.call(arguments,1));if(!g.isFunction(a))throw new TypeError("Bind must be called on a function");var c=r.call(arguments,2),d=function(){return O(a,d,b,this,c.concat(r.call(arguments)))};return d};g.partial=function(a){var b=r.call(arguments,1),c=function(){for(var d=0,e=b.length,f=Array(e),h=0;h<e;h++)f[h]=b[h]===g?arguments[d++]:b[h];for(;d<arguments.length;)f.push(arguments[d++]);return O(a,c,this,this,f)};return c};g.bindAll=function(a){var b,
c=arguments.length,d;if(1>=c)throw Error("bindAll must be passed function names");for(b=1;b<c;b++)d=arguments[b],a[d]=g.bind(a[d],a);return a};g.memoize=function(a,b){var c=function(d){var e=c.cache,f=""+(b?b.apply(this,arguments):d);g.has(e,f)||(e[f]=a.apply(this,arguments));return e[f]};c.cache={};return c};g.delay=function(a,b){var c=r.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)};g.defer=g.partial(g.delay,g,1);g.throttle=function(a,b,c){var d,e,f,h=null,k=0;c||(c=
{});var n=function(){k=!1===c.leading?0:g.now();h=null;f=a.apply(d,e);h||(d=e=null)};return function(){var p=g.now();k||!1!==c.leading||(k=p);var l=b-(p-k);d=this;e=arguments;0>=l||l>b?(h&&(clearTimeout(h),h=null),k=p,f=a.apply(d,e),h||(d=e=null)):h||!1===c.trailing||(h=setTimeout(n,l));return f}};g.debounce=function(a,b,c){var d,e,f,h,k,n=function(){var p=g.now()-h;p<b&&0<=p?d=setTimeout(n,b-p):(d=null,c||(k=a.apply(f,e),d||(f=e=null)))};return function(){f=this;e=arguments;h=g.now();var p=c&&!d;
d||(d=setTimeout(n,b));p&&(k=a.apply(f,e),f=e=null);return k}};g.wrap=function(a,b){return g.partial(b,a)};g.negate=function(a){return function(){return!a.apply(this,arguments)}};g.compose=function(){var a=arguments,b=a.length-1;return function(){for(var c=b,d=a[b].apply(this,arguments);c--;)d=a[c].call(this,d);return d}};g.after=function(a,b){return function(){if(1>--a)return b.apply(this,arguments)}};g.before=function(a,b){var c;return function(){0<--a&&(c=b.apply(this,arguments));1>=a&&(b=null);
return c}};g.once=g.partial(g.before,2);var P=!{toString:null}.propertyIsEnumerable("toString"),J="valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString".split(" ");g.keys=function(a){if(!g.isObject(a))return[];if(K)return K(a);var b=[],c;for(c in a)g.has(a,c)&&b.push(c);P&&h(a,b);return b};g.allKeys=function(a){if(!g.isObject(a))return[];var b=[],c;for(c in a)b.push(c);P&&h(a,b);return b};g.values=function(a){for(var b=g.keys(a),c=b.length,d=Array(c),e=0;e<c;e++)d[e]=
a[b[e]];return d};g.mapObject=function(a,b,c){b=t(b,c);c=g.keys(a);for(var d=c.length,e={},f,h=0;h<d;h++)f=c[h],e[f]=b(a[f],f,a);return e};g.pairs=function(a){for(var b=g.keys(a),c=b.length,d=Array(c),e=0;e<c;e++)d[e]=[b[e],a[b[e]]];return d};g.invert=function(a){for(var b={},c=g.keys(a),d=0,e=c.length;d<e;d++)b[a[c[d]]]=c[d];return b};g.functions=g.methods=function(a){var b=[],c;for(c in a)g.isFunction(a[c])&&b.push(c);return b.sort()};g.extend=A(g.allKeys);g.extendOwn=g.assign=A(g.keys);g.findKey=
function(a,b,c){b=t(b,c);c=g.keys(a);for(var d,e=0,f=c.length;e<f;e++)if(d=c[e],b(a[d],d,a))return d};g.pick=function(a,b,c){var d={},e=a,f,h;if(null==e)return d;g.isFunction(b)?(h=g.allKeys(e),f=z(b,c)):(h=y(arguments,!1,!1,1),f=function(a,b,c){return b in c},e=Object(e));for(var k=0,n=h.length;k<n;k++){var p=h[k],l=e[p];f(l,p,e)&&(d[p]=l)}return d};g.omit=function(a,b,c){if(g.isFunction(b))b=g.negate(b);else{var d=g.map(y(arguments,!1,!1,1),String);b=function(a,b){return!g.contains(d,b)}}return g.pick(a,
b,c)};g.defaults=A(g.allKeys,!0);g.create=function(a,b){var c=M(a);b&&g.extendOwn(c,b);return c};g.clone=function(a){return g.isObject(a)?g.isArray(a)?a.slice():g.extend({},a):a};g.tap=function(a,b){b(a);return a};g.isMatch=function(a,b){var c=g.keys(b),d=c.length;if(null==a)return!d;for(var e=Object(a),f=0;f<d;f++){var h=c[f];if(b[h]!==e[h]||!(h in e))return!1}return!0};var G=function(a,b,c,d){if(a===b)return 0!==a||1/a===1/b;if(null==a||null==b)return a===b;a instanceof g&&(a=a._wrapped);b instanceof
g&&(b=b._wrapped);var e=v.call(a);if(e!==v.call(b))return!1;switch(e){case "[object RegExp]":case "[object String]":return""+a===""+b;case "[object Number]":return+a!==+a?+b!==+b:0===+a?1/+a===1/b:+a===+b;case "[object Date]":case "[object Boolean]":return+a===+b}e="[object Array]"===e;if(!e){if("object"!=typeof a||"object"!=typeof b)return!1;var f=a.constructor,h=b.constructor;if(f!==h&&!(g.isFunction(f)&&f instanceof f&&g.isFunction(h)&&h instanceof h)&&"constructor"in a&&"constructor"in b)return!1}c=
c||[];d=d||[];for(f=c.length;f--;)if(c[f]===a)return d[f]===b;c.push(a);d.push(b);if(e){f=a.length;if(f!==b.length)return!1;for(;f--;)if(!G(a[f],b[f],c,d))return!1}else{e=g.keys(a);f=e.length;if(g.keys(b).length!==f)return!1;for(;f--;)if(h=e[f],!g.has(b,h)||!G(a[h],b[h],c,d))return!1}c.pop();d.pop();return!0};g.isEqual=function(a,b){return G(a,b)};g.isEmpty=function(a){return null==a?!0:u(a)&&(g.isArray(a)||g.isString(a)||g.isArguments(a))?0===a.length:0===g.keys(a).length};g.isElement=function(a){return!(!a||
1!==a.nodeType)};g.isArray=C||function(a){return"[object Array]"===v.call(a)};g.isObject=function(a){var b=typeof a;return"function"===b||"object"===b&&!!a};g.each("Arguments Function String Number Date RegExp Error".split(" "),function(a){g["is"+a]=function(b){return v.call(b)==="[object "+a+"]"}});g.isArguments(arguments)||(g.isArguments=function(a){return g.has(a,"callee")});"function"!=typeof/./&&"object"!=typeof Int8Array&&(g.isFunction=function(a){return"function"==typeof a||!1});g.isFinite=
function(a){return isFinite(a)&&!isNaN(parseFloat(a))};g.isNaN=function(a){return g.isNumber(a)&&a!==+a};g.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"===v.call(a)};g.isNull=function(a){return null===a};g.isUndefined=function(a){return void 0===a};g.has=function(a,b){return null!=a&&Q.call(a,b)};g.noConflict=function(){k._=n;return this};g.identity=function(a){return a};g.constant=function(a){return function(){return a}};g.noop=function(){};g.property=B;g.propertyOf=function(a){return null==
a?function(){}:function(b){return a[b]}};g.matcher=g.matches=function(a){a=g.extendOwn({},a);return function(b){return g.isMatch(b,a)}};g.times=function(a,b,c){var d=Array(Math.max(0,a));b=z(b,c,1);for(c=0;c<a;c++)d[c]=b(c);return d};g.random=function(a,b){null==b&&(b=a,a=0);return a+Math.floor(Math.random()*(b-a+1))};g.now=Date.now||function(){return(new Date).getTime()};C={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};A=g.invert(C);B=function(a){var b=function(b){return a[b]},
c="(?:"+g.keys(a).join("|")+")",d=RegExp(c),e=RegExp(c,"g");return function(a){a=null==a?"":""+a;return d.test(a)?a.replace(e,b):a}};g.escape=B(C);g.unescape=B(A);g.result=function(a,b,c){b=null==a?void 0:a[b];void 0===b&&(b=c);return g.isFunction(b)?b.call(a):b};var T=0;g.uniqueId=function(a){var b=++T+"";return a?a+b:b};g.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,U={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},
V=/\\|'|\r|\n|\u2028|\u2029/g,W=function(a){return"\\"+U[a]};g.template=function(a,b,c){!b&&c&&(b=c);b=g.defaults({},b,g.templateSettings);c=RegExp([(b.escape||H).source,(b.interpolate||H).source,(b.evaluate||H).source].join("|")+"|$","g");var d=0,e="__p+='";a.replace(c,function(b,c,f,h,g){e+=a.slice(d,g).replace(V,W);d=g+b.length;c?e+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'":f?e+="'+\n((__t=("+f+"))==null?'':__t)+\n'":h&&(e+="';\n"+h+"\n__p+='");return b});e+="';\n";b.variable||(e="with(obj||{}){\n"+
e+"}\n");e="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+e+"return __p;\n";try{var f=new Function(b.variable||"obj","_",e)}catch(h){throw h.source=e,h;}c=function(a){return f.call(this,a,g)};c.source="function("+(b.variable||"obj")+"){\n"+e+"}";return c};g.chain=function(a){a=g(a);a._chain=!0;return a};var I=function(a,b){return a._chain?g(b).chain():b};g.mixin=function(a){g.each(g.functions(a),function(b){var c=g[b]=a[b];g.prototype[b]=function(){var a=
[this._wrapped];q.apply(a,arguments);return I(this,c.apply(g,a))}})};g.mixin(g);g.each("pop push reverse shift sort splice unshift".split(" "),function(a){var b=p[a];g.prototype[a]=function(){var c=this._wrapped;b.apply(c,arguments);"shift"!==a&&"splice"!==a||0!==c.length||delete c[0];return I(this,c)}});g.each(["concat","join","slice"],function(a){var b=p[a];g.prototype[a]=function(){return I(this,b.apply(this._wrapped,arguments))}});g.prototype.value=function(){return this._wrapped};g.prototype.valueOf=
g.prototype.toJSON=g.prototype.value;g.prototype.toString=function(){return""+this._wrapped};!(a=[],c=function(){return g}.apply(m,a),void 0!==c&&(l.exports=c))}).call(this)},function(l,m){unicode_hack=function(){var b={Cn:"[\u0378\u0379\u037f-\u0383\u038b\u038d\u03a2\u0528-\u0530\u0557\u0558\u0560\u0588\u058b-\u0590\u05c8-\u05cf\u05eb-\u05ef\u05f5-\u05ff\u0604\u0605\u061c\u061d\u070e\u074b\u074c\u07b2-\u07bf\u07fb-\u07ff\u082e\u082f\u083f\u085c\u085d\u085f-\u08ff\u0978\u0980\u0984\u098d\u098e\u0991\u0992\u09a9\u09b1\u09b3-\u09b5\u09ba\u09bb\u09c5\u09c6\u09c9\u09ca\u09cf-\u09d6\u09d8-\u09db\u09de\u09e4\u09e5\u09fc-\u0a00\u0a04\u0a0b-\u0a0e\u0a11\u0a12\u0a29\u0a31\u0a34\u0a37\u0a3a\u0a3b\u0a3d\u0a43-\u0a46\u0a49\u0a4a\u0a4e-\u0a50\u0a52-\u0a58\u0a5d\u0a5f-\u0a65\u0a76-\u0a80\u0a84\u0a8e\u0a92\u0aa9\u0ab1\u0ab4\u0aba\u0abb\u0ac6\u0aca\u0ace\u0acf\u0ad1-\u0adf\u0ae4\u0ae5\u0af0\u0af2-\u0b00\u0b04\u0b0d\u0b0e\u0b11\u0b12\u0b29\u0b31\u0b34\u0b3a\u0b3b\u0b45\u0b46\u0b49\u0b4a\u0b4e-\u0b55\u0b58-\u0b5b\u0b5e\u0b64\u0b65\u0b78-\u0b81\u0b84\u0b8b-\u0b8d\u0b91\u0b96-\u0b98\u0b9b\u0b9d\u0ba0-\u0ba2\u0ba5-\u0ba7\u0bab-\u0bad\u0bba-\u0bbd\u0bc3-\u0bc5\u0bc9\u0bce\u0bcf\u0bd1-\u0bd6\u0bd8-\u0be5\u0bfb-\u0c00\u0c04\u0c0d\u0c11\u0c29\u0c34\u0c3a-\u0c3c\u0c45\u0c49\u0c4e-\u0c54\u0c57\u0c5a-\u0c5f\u0c64\u0c65\u0c70-\u0c77\u0c80\u0c81\u0c84\u0c8d\u0c91\u0ca9\u0cb4\u0cba\u0cbb\u0cc5\u0cc9\u0cce-\u0cd4\u0cd7-\u0cdd\u0cdf\u0ce4\u0ce5\u0cf0\u0cf3-\u0d01\u0d04\u0d0d\u0d11\u0d3b\u0d3c\u0d45\u0d49\u0d4f-\u0d56\u0d58-\u0d5f\u0d64\u0d65\u0d76-\u0d78\u0d80\u0d81\u0d84\u0d97-\u0d99\u0db2\u0dbc\u0dbe\u0dbf\u0dc7-\u0dc9\u0dcb-\u0dce\u0dd5\u0dd7\u0de0-\u0df1\u0df5-\u0e00\u0e3b-\u0e3e\u0e5c-\u0e80\u0e83\u0e85\u0e86\u0e89\u0e8b\u0e8c\u0e8e-\u0e93\u0e98\u0ea0\u0ea4\u0ea6\u0ea8\u0ea9\u0eac\u0eba\u0ebe\u0ebf\u0ec5\u0ec7\u0ece\u0ecf\u0eda\u0edb\u0ede-\u0eff\u0f48\u0f6d-\u0f70\u0f98\u0fbd\u0fcd\u0fdb-\u0fff\u10c6-\u10cf\u10fd-\u10ff\u1249\u124e\u124f\u1257\u1259\u125e\u125f\u1289\u128e\u128f\u12b1\u12b6\u12b7\u12bf\u12c1\u12c6\u12c7\u12d7\u1311\u1316\u1317\u135b\u135c\u137d-\u137f\u139a-\u139f\u13f5-\u13ff\u169d-\u169f\u16f1-\u16ff\u170d\u1715-\u171f\u1737-\u173f\u1754-\u175f\u176d\u1771\u1774-\u177f\u17de\u17df\u17ea-\u17ef\u17fa-\u17ff\u180f\u181a-\u181f\u1878-\u187f\u18ab-\u18af\u18f6-\u18ff\u191d-\u191f\u192c-\u192f\u193c-\u193f\u1941-\u1943\u196e\u196f\u1975-\u197f\u19ac-\u19af\u19ca-\u19cf\u19db-\u19dd\u1a1c\u1a1d\u1a5f\u1a7d\u1a7e\u1a8a-\u1a8f\u1a9a-\u1a9f\u1aae-\u1aff\u1b4c-\u1b4f\u1b7d-\u1b7f\u1bab-\u1bad\u1bba-\u1bbf\u1bf4-\u1bfb\u1c38-\u1c3a\u1c4a-\u1c4c\u1c80-\u1ccf\u1cf3-\u1cff\u1de7-\u1dfb\u1f16\u1f17\u1f1e\u1f1f\u1f46\u1f47\u1f4e\u1f4f\u1f58\u1f5a\u1f5c\u1f5e\u1f7e\u1f7f\u1fb5\u1fc5\u1fd4\u1fd5\u1fdc\u1ff0\u1ff1\u1ff5\u1fff\u2065-\u2069\u2072\u2073\u208f\u209d-\u209f\u20ba-\u20cf\u20f1-\u20ff\u218a-\u218f\u23f4-\u23ff\u2427-\u243f\u244b-\u245f\u2700\u27cb\u27cd\u2b4d-\u2b4f\u2b5a-\u2bff\u2c2f\u2c5f\u2cf2-\u2cf8\u2d26-\u2d2f\u2d66-\u2d6e\u2d71-\u2d7e\u2d97-\u2d9f\u2da7\u2daf\u2db7\u2dbf\u2dc7\u2dcf\u2dd7\u2ddf\u2e32-\u2e7f\u2e9a\u2ef4-\u2eff\u2fd6-\u2fef\u2ffc-\u2fff\u3040\u3097\u3098\u3100-\u3104\u312e-\u3130\u318f\u31bb-\u31bf\u31e4-\u31ef\u321f\u32ff\u4db6-\u4dbf\u9fcc-\u9fff\ua48d-\ua48f\ua4c7-\ua4cf\ua62c-\ua63f\ua674-\ua67b\ua698-\ua69f\ua6f8-\ua6ff\ua78f\ua792-\ua79f\ua7aa-\ua7f9\ua82c-\ua82f\ua83a-\ua83f\ua878-\ua87f\ua8c5-\ua8cd\ua8da-\ua8df\ua8fc-\ua8ff\ua954-\ua95e\ua97d-\ua97f\ua9ce\ua9da-\ua9dd\ua9e0-\ua9ff\uaa37-\uaa3f\uaa4e\uaa4f\uaa5a\uaa5b\uaa7c-\uaa7f\uaac3-\uaada\uaae0-\uab00\uab07\uab08\uab0f\uab10\uab17-\uab1f\uab27\uab2f-\uabbf\uabee\uabef\uabfa-\uabff\ud7a4-\ud7af\ud7c7-\ud7ca\ud7fc-\ud7ff\ufa2e\ufa2f\ufa6e\ufa6f\ufada-\ufaff\ufb07-\ufb12\ufb18-\ufb1c\ufb37\ufb3d\ufb3f\ufb42\ufb45\ufbc2-\ufbd2\ufd40-\ufd4f\ufd90\ufd91\ufdc8-\ufdef\ufdfe\ufdff\ufe1a-\ufe1f\ufe27-\ufe2f\ufe53\ufe67\ufe6c-\ufe6f\ufe75\ufefd\ufefe\uff00\uffbf-\uffc1\uffc8\uffc9\uffd0\uffd1\uffd8\uffd9\uffdd-\uffdf\uffe7\uffef-\ufff8\ufffe\uffff]",
Lu:"[A-Z\u00c0-\u00d6\u00d8-\u00de\u0100\u0102\u0104\u0106\u0108\u010a\u010c\u010e\u0110\u0112\u0114\u0116\u0118\u011a\u011c\u011e\u0120\u0122\u0124\u0126\u0128\u012a\u012c\u012e\u0130\u0132\u0134\u0136\u0139\u013b\u013d\u013f\u0141\u0143\u0145\u0147\u014a\u014c\u014e\u0150\u0152\u0154\u0156\u0158\u015a\u015c\u015e\u0160\u0162\u0164\u0166\u0168\u016a\u016c\u016e\u0170\u0172\u0174\u0176\u0178\u0179\u017b\u017d\u0181\u0182\u0184\u0186\u0187\u0189-\u018b\u018e-\u0191\u0193\u0194\u0196-\u0198\u019c\u019d\u019f\u01a0\u01a2\u01a4\u01a6\u01a7\u01a9\u01ac\u01ae\u01af\u01b1-\u01b3\u01b5\u01b7\u01b8\u01bc\u01c4\u01c7\u01ca\u01cd\u01cf\u01d1\u01d3\u01d5\u01d7\u01d9\u01db\u01de\u01e0\u01e2\u01e4\u01e6\u01e8\u01ea\u01ec\u01ee\u01f1\u01f4\u01f6-\u01f8\u01fa\u01fc\u01fe\u0200\u0202\u0204\u0206\u0208\u020a\u020c\u020e\u0210\u0212\u0214\u0216\u0218\u021a\u021c\u021e\u0220\u0222\u0224\u0226\u0228\u022a\u022c\u022e\u0230\u0232\u023a\u023b\u023d\u023e\u0241\u0243-\u0246\u0248\u024a\u024c\u024e\u0370\u0372\u0376\u0386\u0388-\u038a\u038c\u038e\u038f\u0391-\u03a1\u03a3-\u03ab\u03cf\u03d2-\u03d4\u03d8\u03da\u03dc\u03de\u03e0\u03e2\u03e4\u03e6\u03e8\u03ea\u03ec\u03ee\u03f4\u03f7\u03f9\u03fa\u03fd-\u042f\u0460\u0462\u0464\u0466\u0468\u046a\u046c\u046e\u0470\u0472\u0474\u0476\u0478\u047a\u047c\u047e\u0480\u048a\u048c\u048e\u0490\u0492\u0494\u0496\u0498\u049a\u049c\u049e\u04a0\u04a2\u04a4\u04a6\u04a8\u04aa\u04ac\u04ae\u04b0\u04b2\u04b4\u04b6\u04b8\u04ba\u04bc\u04be\u04c0\u04c1\u04c3\u04c5\u04c7\u04c9\u04cb\u04cd\u04d0\u04d2\u04d4\u04d6\u04d8\u04da\u04dc\u04de\u04e0\u04e2\u04e4\u04e6\u04e8\u04ea\u04ec\u04ee\u04f0\u04f2\u04f4\u04f6\u04f8\u04fa\u04fc\u04fe\u0500\u0502\u0504\u0506\u0508\u050a\u050c\u050e\u0510\u0512\u0514\u0516\u0518\u051a\u051c\u051e\u0520\u0522\u0524\u0526\u0531-\u0556\u10a0-\u10c5\u1e00\u1e02\u1e04\u1e06\u1e08\u1e0a\u1e0c\u1e0e\u1e10\u1e12\u1e14\u1e16\u1e18\u1e1a\u1e1c\u1e1e\u1e20\u1e22\u1e24\u1e26\u1e28\u1e2a\u1e2c\u1e2e\u1e30\u1e32\u1e34\u1e36\u1e38\u1e3a\u1e3c\u1e3e\u1e40\u1e42\u1e44\u1e46\u1e48\u1e4a\u1e4c\u1e4e\u1e50\u1e52\u1e54\u1e56\u1e58\u1e5a\u1e5c\u1e5e\u1e60\u1e62\u1e64\u1e66\u1e68\u1e6a\u1e6c\u1e6e\u1e70\u1e72\u1e74\u1e76\u1e78\u1e7a\u1e7c\u1e7e\u1e80\u1e82\u1e84\u1e86\u1e88\u1e8a\u1e8c\u1e8e\u1e90\u1e92\u1e94\u1e9e\u1ea0\u1ea2\u1ea4\u1ea6\u1ea8\u1eaa\u1eac\u1eae\u1eb0\u1eb2\u1eb4\u1eb6\u1eb8\u1eba\u1ebc\u1ebe\u1ec0\u1ec2\u1ec4\u1ec6\u1ec8\u1eca\u1ecc\u1ece\u1ed0\u1ed2\u1ed4\u1ed6\u1ed8\u1eda\u1edc\u1ede\u1ee0\u1ee2\u1ee4\u1ee6\u1ee8\u1eea\u1eec\u1eee\u1ef0\u1ef2\u1ef4\u1ef6\u1ef8\u1efa\u1efc\u1efe\u1f08-\u1f0f\u1f18-\u1f1d\u1f28-\u1f2f\u1f38-\u1f3f\u1f48-\u1f4d\u1f59\u1f5b\u1f5d\u1f5f\u1f68-\u1f6f\u1fb8-\u1fbb\u1fc8-\u1fcb\u1fd8-\u1fdb\u1fe8-\u1fec\u1ff8-\u1ffb\u2102\u2107\u210b-\u210d\u2110-\u2112\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u2130-\u2133\u213e\u213f\u2145\u2183\u2c00-\u2c2e\u2c60\u2c62-\u2c64\u2c67\u2c69\u2c6b\u2c6d-\u2c70\u2c72\u2c75\u2c7e-\u2c80\u2c82\u2c84\u2c86\u2c88\u2c8a\u2c8c\u2c8e\u2c90\u2c92\u2c94\u2c96\u2c98\u2c9a\u2c9c\u2c9e\u2ca0\u2ca2\u2ca4\u2ca6\u2ca8\u2caa\u2cac\u2cae\u2cb0\u2cb2\u2cb4\u2cb6\u2cb8\u2cba\u2cbc\u2cbe\u2cc0\u2cc2\u2cc4\u2cc6\u2cc8\u2cca\u2ccc\u2cce\u2cd0\u2cd2\u2cd4\u2cd6\u2cd8\u2cda\u2cdc\u2cde\u2ce0\u2ce2\u2ceb\u2ced\ua640\ua642\ua644\ua646\ua648\ua64a\ua64c\ua64e\ua650\ua652\ua654\ua656\ua658\ua65a\ua65c\ua65e\ua660\ua662\ua664\ua666\ua668\ua66a\ua66c\ua680\ua682\ua684\ua686\ua688\ua68a\ua68c\ua68e\ua690\ua692\ua694\ua696\ua722\ua724\ua726\ua728\ua72a\ua72c\ua72e\ua732\ua734\ua736\ua738\ua73a\ua73c\ua73e\ua740\ua742\ua744\ua746\ua748\ua74a\ua74c\ua74e\ua750\ua752\ua754\ua756\ua758\ua75a\ua75c\ua75e\ua760\ua762\ua764\ua766\ua768\ua76a\ua76c\ua76e\ua779\ua77b\ua77d\ua77e\ua780\ua782\ua784\ua786\ua78b\ua78d\ua790\ua7a0\ua7a2\ua7a4\ua7a6\ua7a8\uff21-\uff3a]",
Ll:"[a-z\u00aa\u00b5\u00ba\u00df-\u00f6\u00f8-\u00ff\u0101\u0103\u0105\u0107\u0109\u010b\u010d\u010f\u0111\u0113\u0115\u0117\u0119\u011b\u011d\u011f\u0121\u0123\u0125\u0127\u0129\u012b\u012d\u012f\u0131\u0133\u0135\u0137\u0138\u013a\u013c\u013e\u0140\u0142\u0144\u0146\u0148\u0149\u014b\u014d\u014f\u0151\u0153\u0155\u0157\u0159\u015b\u015d\u015f\u0161\u0163\u0165\u0167\u0169\u016b\u016d\u016f\u0171\u0173\u0175\u0177\u017a\u017c\u017e-\u0180\u0183\u0185\u0188\u018c\u018d\u0192\u0195\u0199-\u019b\u019e\u01a1\u01a3\u01a5\u01a8\u01aa\u01ab\u01ad\u01b0\u01b4\u01b6\u01b9\u01ba\u01bd-\u01bf\u01c6\u01c9\u01cc\u01ce\u01d0\u01d2\u01d4\u01d6\u01d8\u01da\u01dc\u01dd\u01df\u01e1\u01e3\u01e5\u01e7\u01e9\u01eb\u01ed\u01ef\u01f0\u01f3\u01f5\u01f9\u01fb\u01fd\u01ff\u0201\u0203\u0205\u0207\u0209\u020b\u020d\u020f\u0211\u0213\u0215\u0217\u0219\u021b\u021d\u021f\u0221\u0223\u0225\u0227\u0229\u022b\u022d\u022f\u0231\u0233-\u0239\u023c\u023f\u0240\u0242\u0247\u0249\u024b\u024d\u024f-\u0293\u0295-\u02af\u0371\u0373\u0377\u037b-\u037d\u0390\u03ac-\u03ce\u03d0\u03d1\u03d5-\u03d7\u03d9\u03db\u03dd\u03df\u03e1\u03e3\u03e5\u03e7\u03e9\u03eb\u03ed\u03ef-\u03f3\u03f5\u03f8\u03fb\u03fc\u0430-\u045f\u0461\u0463\u0465\u0467\u0469\u046b\u046d\u046f\u0471\u0473\u0475\u0477\u0479\u047b\u047d\u047f\u0481\u048b\u048d\u048f\u0491\u0493\u0495\u0497\u0499\u049b\u049d\u049f\u04a1\u04a3\u04a5\u04a7\u04a9\u04ab\u04ad\u04af\u04b1\u04b3\u04b5\u04b7\u04b9\u04bb\u04bd\u04bf\u04c2\u04c4\u04c6\u04c8\u04ca\u04cc\u04ce\u04cf\u04d1\u04d3\u04d5\u04d7\u04d9\u04db\u04dd\u04df\u04e1\u04e3\u04e5\u04e7\u04e9\u04eb\u04ed\u04ef\u04f1\u04f3\u04f5\u04f7\u04f9\u04fb\u04fd\u04ff\u0501\u0503\u0505\u0507\u0509\u050b\u050d\u050f\u0511\u0513\u0515\u0517\u0519\u051b\u051d\u051f\u0521\u0523\u0525\u0527\u0561-\u0587\u1d00-\u1d2b\u1d62-\u1d77\u1d79-\u1d9a\u1e01\u1e03\u1e05\u1e07\u1e09\u1e0b\u1e0d\u1e0f\u1e11\u1e13\u1e15\u1e17\u1e19\u1e1b\u1e1d\u1e1f\u1e21\u1e23\u1e25\u1e27\u1e29\u1e2b\u1e2d\u1e2f\u1e31\u1e33\u1e35\u1e37\u1e39\u1e3b\u1e3d\u1e3f\u1e41\u1e43\u1e45\u1e47\u1e49\u1e4b\u1e4d\u1e4f\u1e51\u1e53\u1e55\u1e57\u1e59\u1e5b\u1e5d\u1e5f\u1e61\u1e63\u1e65\u1e67\u1e69\u1e6b\u1e6d\u1e6f\u1e71\u1e73\u1e75\u1e77\u1e79\u1e7b\u1e7d\u1e7f\u1e81\u1e83\u1e85\u1e87\u1e89\u1e8b\u1e8d\u1e8f\u1e91\u1e93\u1e95-\u1e9d\u1e9f\u1ea1\u1ea3\u1ea5\u1ea7\u1ea9\u1eab\u1ead\u1eaf\u1eb1\u1eb3\u1eb5\u1eb7\u1eb9\u1ebb\u1ebd\u1ebf\u1ec1\u1ec3\u1ec5\u1ec7\u1ec9\u1ecb\u1ecd\u1ecf\u1ed1\u1ed3\u1ed5\u1ed7\u1ed9\u1edb\u1edd\u1edf\u1ee1\u1ee3\u1ee5\u1ee7\u1ee9\u1eeb\u1eed\u1eef\u1ef1\u1ef3\u1ef5\u1ef7\u1ef9\u1efb\u1efd\u1eff-\u1f07\u1f10-\u1f15\u1f20-\u1f27\u1f30-\u1f37\u1f40-\u1f45\u1f50-\u1f57\u1f60-\u1f67\u1f70-\u1f7d\u1f80-\u1f87\u1f90-\u1f97\u1fa0-\u1fa7\u1fb0-\u1fb4\u1fb6\u1fb7\u1fbe\u1fc2-\u1fc4\u1fc6\u1fc7\u1fd0-\u1fd3\u1fd6\u1fd7\u1fe0-\u1fe7\u1ff2-\u1ff4\u1ff6\u1ff7\u210a\u210e\u210f\u2113\u212f\u2134\u2139\u213c\u213d\u2146-\u2149\u214e\u2184\u2c30-\u2c5e\u2c61\u2c65\u2c66\u2c68\u2c6a\u2c6c\u2c71\u2c73\u2c74\u2c76-\u2c7c\u2c81\u2c83\u2c85\u2c87\u2c89\u2c8b\u2c8d\u2c8f\u2c91\u2c93\u2c95\u2c97\u2c99\u2c9b\u2c9d\u2c9f\u2ca1\u2ca3\u2ca5\u2ca7\u2ca9\u2cab\u2cad\u2caf\u2cb1\u2cb3\u2cb5\u2cb7\u2cb9\u2cbb\u2cbd\u2cbf\u2cc1\u2cc3\u2cc5\u2cc7\u2cc9\u2ccb\u2ccd\u2ccf\u2cd1\u2cd3\u2cd5\u2cd7\u2cd9\u2cdb\u2cdd\u2cdf\u2ce1\u2ce3\u2ce4\u2cec\u2cee\u2d00-\u2d25\ua641\ua643\ua645\ua647\ua649\ua64b\ua64d\ua64f\ua651\ua653\ua655\ua657\ua659\ua65b\ua65d\ua65f\ua661\ua663\ua665\ua667\ua669\ua66b\ua66d\ua681\ua683\ua685\ua687\ua689\ua68b\ua68d\ua68f\ua691\ua693\ua695\ua697\ua723\ua725\ua727\ua729\ua72b\ua72d\ua72f-\ua731\ua733\ua735\ua737\ua739\ua73b\ua73d\ua73f\ua741\ua743\ua745\ua747\ua749\ua74b\ua74d\ua74f\ua751\ua753\ua755\ua757\ua759\ua75b\ua75d\ua75f\ua761\ua763\ua765\ua767\ua769\ua76b\ua76d\ua76f\ua771-\ua778\ua77a\ua77c\ua77f\ua781\ua783\ua785\ua787\ua78c\ua78e\ua791\ua7a1\ua7a3\ua7a5\ua7a7\ua7a9\ua7fa\ufb00-\ufb06\ufb13-\ufb17\uff41-\uff5a]",
Lt:"[\u01c5\u01c8\u01cb\u01f2\u1f88-\u1f8f\u1f98-\u1f9f\u1fa8-\u1faf\u1fbc\u1fcc\u1ffc]",Lm:"[\u02b0-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0374\u037a\u0559\u0640\u06e5\u06e6\u07f4\u07f5\u07fa\u081a\u0824\u0828\u0971\u0e46\u0ec6\u10fc\u17d7\u1843\u1aa7\u1c78-\u1c7d\u1d2c-\u1d61\u1d78\u1d9b-\u1dbf\u2071\u207f\u2090-\u209c\u2c7d\u2d6f\u2e2f\u3005\u3031-\u3035\u303b\u309d\u309e\u30fc-\u30fe\ua015\ua4f8-\ua4fd\ua60c\ua67f\ua717-\ua71f\ua770\ua788\ua9cf\uaa70\uaadd\uff70\uff9e\uff9f]",Lo:"[\u01bb\u01c0-\u01c3\u0294\u05d0-\u05ea\u05f0-\u05f2\u0620-\u063f\u0641-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u0800-\u0815\u0840-\u0858\u0904-\u0939\u093d\u0950\u0958-\u0961\u0972-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e45\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0edc\u0edd\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10d0-\u10fa\u1100-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17dc\u1820-\u1842\u1844-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bc0-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c77\u1ce9-\u1cec\u1cee-\u1cf1\u2135-\u2138\u2d30-\u2d65\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3006\u303c\u3041-\u3096\u309f\u30a1-\u30fa\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcb\ua000-\ua014\ua016-\ua48c\ua4d0-\ua4f7\ua500-\ua60b\ua610-\ua61f\ua62a\ua62b\ua66e\ua6a0-\ua6e5\ua7fb-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa6f\uaa71-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb\uaadc\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff66-\uff6f\uff71-\uff9d\uffa0-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]",
Mn:"[\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u0900-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962\u0963\u0981\u09bc\u09c1-\u09c4\u09cd\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b62\u0b63\u0b82\u0bc0\u0bcd\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc6\u0ccc\u0ccd\u0ce2\u0ce3\u0d41-\u0d44\u0d4d\u0d62\u0d63\u0dca\u0dd2-\u0dd4\u0dd6\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1be6\u1be8\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfc-\u1dff\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe26]",
Me:"[\u0488\u0489\u20dd-\u20e0\u20e2-\u20e4\ua670-\ua672]",Mc:"[\u0903\u093b\u093e-\u0940\u0949-\u094c\u094e\u094f\u0982\u0983\u09be-\u09c0\u09c7\u09c8\u09cb\u09cc\u09d7\u0a03\u0a3e-\u0a40\u0a83\u0abe-\u0ac0\u0ac9\u0acb\u0acc\u0b02\u0b03\u0b3e\u0b40\u0b47\u0b48\u0b4b\u0b4c\u0b57\u0bbe\u0bbf\u0bc1\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcc\u0bd7\u0c01-\u0c03\u0c41-\u0c44\u0c82\u0c83\u0cbe\u0cc0-\u0cc4\u0cc7\u0cc8\u0cca\u0ccb\u0cd5\u0cd6\u0d02\u0d03\u0d3e-\u0d40\u0d46-\u0d48\u0d4a-\u0d4c\u0d57\u0d82\u0d83\u0dcf-\u0dd1\u0dd8-\u0ddf\u0df2\u0df3\u0f3e\u0f3f\u0f7f\u102b\u102c\u1031\u1038\u103b\u103c\u1056\u1057\u1062-\u1064\u1067-\u106d\u1083\u1084\u1087-\u108c\u108f\u109a-\u109c\u17b6\u17be-\u17c5\u17c7\u17c8\u1923-\u1926\u1929-\u192b\u1930\u1931\u1933-\u1938\u19b0-\u19c0\u19c8\u19c9\u1a19-\u1a1b\u1a55\u1a57\u1a61\u1a63\u1a64\u1a6d-\u1a72\u1b04\u1b35\u1b3b\u1b3d-\u1b41\u1b43\u1b44\u1b82\u1ba1\u1ba6\u1ba7\u1baa\u1be7\u1bea-\u1bec\u1bee\u1bf2\u1bf3\u1c24-\u1c2b\u1c34\u1c35\u1ce1\u1cf2\ua823\ua824\ua827\ua880\ua881\ua8b4-\ua8c3\ua952\ua953\ua983\ua9b4\ua9b5\ua9ba\ua9bb\ua9bd-\ua9c0\uaa2f\uaa30\uaa33\uaa34\uaa4d\uaa7b\uabe3\uabe4\uabe6\uabe7\uabe9\uabea\uabec]",
Nd:"[0-9\u0660-\u0669\u06f0-\u06f9\u07c0-\u07c9\u0966-\u096f\u09e6-\u09ef\u0a66-\u0a6f\u0ae6-\u0aef\u0b66-\u0b6f\u0be6-\u0bef\u0c66-\u0c6f\u0ce6-\u0cef\u0d66-\u0d6f\u0e50-\u0e59\u0ed0-\u0ed9\u0f20-\u0f29\u1040-\u1049\u1090-\u1099\u17e0-\u17e9\u1810-\u1819\u1946-\u194f\u19d0-\u19d9\u1a80-\u1a89\u1a90-\u1a99\u1b50-\u1b59\u1bb0-\u1bb9\u1c40-\u1c49\u1c50-\u1c59\ua620-\ua629\ua8d0-\ua8d9\ua900-\ua909\ua9d0-\ua9d9\uaa50-\uaa59\uabf0-\uabf9\uff10-\uff19]",Nl:"[\u16ee-\u16f0\u2160-\u2182\u2185-\u2188\u3007\u3021-\u3029\u3038-\u303a\ua6e6-\ua6ef]",
No:"[\u00b2\u00b3\u00b9\u00bc-\u00be\u09f4-\u09f9\u0b72-\u0b77\u0bf0-\u0bf2\u0c78-\u0c7e\u0d70-\u0d75\u0f2a-\u0f33\u1369-\u137c\u17f0-\u17f9\u19da\u2070\u2074-\u2079\u2080-\u2089\u2150-\u215f\u2189\u2460-\u249b\u24ea-\u24ff\u2776-\u2793\u2cfd\u3192-\u3195\u3220-\u3229\u3251-\u325f\u3280-\u3289\u32b1-\u32bf\ua830-\ua835]",Zs:"[ \u00a0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000]",Zl:"[\u2028]",Zp:"[\u2029]",Cc:"[\x00-\u001f\u007f-\u009f]",Cf:"[\u00ad\u0600-\u0603\u06dd\u070f\u17b4\u17b5\u200b-\u200f\u202a-\u202e\u2060-\u2064\u206a-\u206f\ufeff\ufff9-\ufffb]",
Cs:"[\ud800-\udfff]",Co:"[\ue000-\uf8ff]",Ps:"[([{\u0f3a\u0f3c\u169b\u201a\u201e\u2045\u207d\u208d\u2329\u2768\u276a\u276c\u276e\u2770\u2772\u2774\u27c5\u27e6\u27e8\u27ea\u27ec\u27ee\u2983\u2985\u2987\u2989\u298b\u298d\u298f\u2991\u2993\u2995\u2997\u29d8\u29da\u29fc\u2e22\u2e24\u2e26\u2e28\u3008\u300a\u300c\u300e\u3010\u3014\u3016\u3018\u301a\u301d\ufd3e\ufe17\ufe35\ufe37\ufe39\ufe3b\ufe3d\ufe3f\ufe41\ufe43\ufe47\ufe59\ufe5b\ufe5d\uff08\uff3b\uff5b\uff5f\uff62]",Pd:"[-\u058a\u05be\u1400\u1806\u2010-\u2015\u2e17\u2e1a\u301c\u3030\u30a0\ufe31\ufe32\ufe58\ufe63\uff0d]",
Pc:"[_\u203f\u2040\u2054\ufe33\ufe34\ufe4d-\ufe4f\uff3f]",Pe:"[)]}\u0f3b\u0f3d\u169c\u2046\u207e\u208e\u232a\u2769\u276b\u276d\u276f\u2771\u2773\u2775\u27c6\u27e7\u27e9\u27eb\u27ed\u27ef\u2984\u2986\u2988\u298a\u298c\u298e\u2990\u2992\u2994\u2996\u2998\u29d9\u29db\u29fd\u2e23\u2e25\u2e27\u2e29\u3009\u300b\u300d\u300f\u3011\u3015\u3017\u3019\u301b\u301e\u301f\ufd3f\ufe18\ufe36\ufe38\ufe3a\ufe3c\ufe3e\ufe40\ufe42\ufe44\ufe48\ufe5a\ufe5c\ufe5e\uff09\uff3d\uff5d\uff60\uff63]",Sm:"[+<->|~\u00ac\u00b1\u00d7\u00f7\u03f6\u0606-\u0608\u2044\u2052\u207a-\u207c\u208a-\u208c\u2118\u2140-\u2144\u214b\u2190-\u2194\u219a\u219b\u21a0\u21a3\u21a6\u21ae\u21ce\u21cf\u21d2\u21d4\u21f4-\u22ff\u2308-\u230b\u2320\u2321\u237c\u239b-\u23b3\u23dc-\u23e1\u25b7\u25c1\u25f8-\u25ff\u266f\u27c0-\u27c4\u27c7-\u27ca\u27cc\u27ce-\u27e5\u27f0-\u27ff\u2900-\u2982\u2999-\u29d7\u29dc-\u29fb\u29fe-\u2aff\u2b30-\u2b44\u2b47-\u2b4c\ufb29\ufe62\ufe64-\ufe66\uff0b\uff1c-\uff1e\uff5c\uff5e\uffe2\uffe9-\uffec]",
Po:"[!-#%-'*,./:;?@\\\u00a1\u00b7\u00bf\u037e\u0387\u055a-\u055f\u0589\u05c0\u05c3\u05c6\u05f3\u05f4\u0609\u060a\u060c\u060d\u061b\u061e\u061f\u066a-\u066d\u06d4\u0700-\u070d\u07f7-\u07f9\u0830-\u083e\u085e\u0964\u0965\u0970\u0df4\u0e4f\u0e5a\u0e5b\u0f04-\u0f12\u0f85\u0fd0-\u0fd4\u0fd9\u0fda\u104a-\u104f\u10fb\u1361-\u1368\u166d\u166e\u16eb-\u16ed\u1735\u1736\u17d4-\u17d6\u17d8-\u17da\u1800-\u1805\u1807-\u180a\u1944\u1945\u1a1e\u1a1f\u1aa0-\u1aa6\u1aa8-\u1aad\u1b5a-\u1b60\u1bfc-\u1bff\u1c3b-\u1c3f\u1c7e\u1c7f\u1cd3\u2016\u2017\u2020-\u2027\u2030-\u2038\u203b-\u203e\u2041-\u2043\u2047-\u2051\u2053\u2055-\u205e\u2cf9-\u2cfc\u2cfe\u2cff\u2d70\u2e00\u2e01\u2e06-\u2e08\u2e0b\u2e0e-\u2e16\u2e18\u2e19\u2e1b\u2e1e\u2e1f\u2e2a-\u2e2e\u2e30\u2e31\u3001-\u3003\u303d\u30fb\ua4fe\ua4ff\ua60d-\ua60f\ua673\ua67e\ua6f2-\ua6f7\ua874-\ua877\ua8ce\ua8cf\ua8f8-\ua8fa\ua92e\ua92f\ua95f\ua9c1-\ua9cd\ua9de\ua9df\uaa5c-\uaa5f\uaade\uaadf\uabeb\ufe10-\ufe16\ufe19\ufe30\ufe45\ufe46\ufe49-\ufe4c\ufe50-\ufe52\ufe54-\ufe57\ufe5f-\ufe61\ufe68\ufe6a\ufe6b\uff01-\uff03\uff05-\uff07\uff0a\uff0c\uff0e\uff0f\uff1a\uff1b\uff1f\uff20\uff3c\uff61\uff64\uff65]",
Sk:"[^`\u00a8\u00af\u00b4\u00b8\u02c2-\u02c5\u02d2-\u02df\u02e5-\u02eb\u02ed\u02ef-\u02ff\u0375\u0384\u0385\u1fbd\u1fbf-\u1fc1\u1fcd-\u1fcf\u1fdd-\u1fdf\u1fed-\u1fef\u1ffd\u1ffe\u309b\u309c\ua700-\ua716\ua720\ua721\ua789\ua78a\ufbb2-\ufbc1\uff3e\uff40\uffe3]",Sc:"[$\u00a2-\u00a5\u060b\u09f2\u09f3\u09fb\u0af1\u0bf9\u0e3f\u17db\u20a0-\u20b9\ua838\ufdfc\ufe69\uff04\uffe0\uffe1\uffe5\uffe6]",Pi:"[\u00ab\u2018\u201b\u201c\u201f\u2039\u2e02\u2e04\u2e09\u2e0c\u2e1c\u2e20]",So:"[\u00a6\u00a7\u00a9\u00ae\u00b0\u00b6\u0482\u060e\u060f\u06de\u06e9\u06fd\u06fe\u07f6\u09fa\u0b70\u0bf3-\u0bf8\u0bfa\u0c7f\u0d79\u0f01-\u0f03\u0f13-\u0f17\u0f1a-\u0f1f\u0f34\u0f36\u0f38\u0fbe-\u0fc5\u0fc7-\u0fcc\u0fce\u0fcf\u0fd5-\u0fd8\u109e\u109f\u1360\u1390-\u1399\u1940\u19de-\u19ff\u1b61-\u1b6a\u1b74-\u1b7c\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116\u2117\u211e-\u2123\u2125\u2127\u2129\u212e\u213a\u213b\u214a\u214c\u214d\u214f\u2195-\u2199\u219c-\u219f\u21a1\u21a2\u21a4\u21a5\u21a7-\u21ad\u21af-\u21cd\u21d0\u21d1\u21d3\u21d5-\u21f3\u2300-\u2307\u230c-\u231f\u2322-\u2328\u232b-\u237b\u237d-\u239a\u23b4-\u23db\u23e2-\u23f3\u2400-\u2426\u2440-\u244a\u249c-\u24e9\u2500-\u25b6\u25b8-\u25c0\u25c2-\u25f7\u2600-\u266e\u2670-\u26ff\u2701-\u2767\u2794-\u27bf\u2800-\u28ff\u2b00-\u2b2f\u2b45\u2b46\u2b50-\u2b59\u2ce5-\u2cea\u2e80-\u2e99\u2e9b-\u2ef3\u2f00-\u2fd5\u2ff0-\u2ffb\u3004\u3012\u3013\u3020\u3036\u3037\u303e\u303f\u3190\u3191\u3196-\u319f\u31c0-\u31e3\u3200-\u321e\u322a-\u3250\u3260-\u327f\u328a-\u32b0\u32c0-\u32fe\u3300-\u33ff\u4dc0-\u4dff\ua490-\ua4c6\ua828-\ua82b\ua836\ua837\ua839\uaa77-\uaa79\ufdfd\uffe4\uffe8\uffed\uffee\ufffc\ufffd]",
Pf:"[\u00bb\u2019\u201d\u203a\u2e03\u2e05\u2e0a\u2e0d\u2e1d\u2e21]"},a={},c;for(c in b)a[c[0]]=a[c[0]]?b[c].substring(0,b[c].length-1)+a[c[0]].substring(1):b[c];for(c in a)b[c]=a[c];return function(a){var c="";a instanceof RegExp&&(c=(a.global?"g":"")+(a.ignoreCase?"i":"")+(a.multiline?"m":""),a=a.source);a=a.replace(/\\p\{(..?)\}/g,function(a,c){return b[c]||a});return new RegExp(a,c)}}()},function(l,m){Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(b){var a=
"",c,d,e,f,h,k,n=0;for(b=Base64._utf8_encode(b);n<b.length;)c=b.charCodeAt(n++),d=b.charCodeAt(n++),e=b.charCodeAt(n++),f=c>>2,c=(c&3)<<4|d>>4,h=(d&15)<<2|e>>6,k=e&63,isNaN(d)?h=k=64:isNaN(e)&&(k=64),a=a+Base64._keyStr.charAt(f)+Base64._keyStr.charAt(c)+Base64._keyStr.charAt(h)+Base64._keyStr.charAt(k);return a},decode:function(b){var a="",c,d,e,f,h,k=0;for(b=b.replace(/[^A-Za-z0-9\+\/\=]/g,"");k<b.length;)c=Base64._keyStr.indexOf(b.charAt(k++)),d=Base64._keyStr.indexOf(b.charAt(k++)),f=Base64._keyStr.indexOf(b.charAt(k++)),
h=Base64._keyStr.indexOf(b.charAt(k++)),c=c<<2|d>>4,d=(d&15)<<4|f>>2,e=(f&3)<<6|h,a+=String.fromCharCode(c),64!=f&&(a+=String.fromCharCode(d)),64!=h&&(a+=String.fromCharCode(e));return a=Base64._utf8_decode(a)},_utf8_encode:function(b){b=b.replace(/\r\n/g,"\n");for(var a="",c=0;c<b.length;c++){var d=b.charCodeAt(c);128>d?a+=String.fromCharCode(d):(127<d&&2048>d?a+=String.fromCharCode(d>>6|192):(a+=String.fromCharCode(d>>12|224),a+=String.fromCharCode(d>>6&63|128)),a+=String.fromCharCode(d&63|128))}return a},
_utf8_decode:function(b){var a="",c=0,d;for(c1=c2=0;c<b.length;)d=b.charCodeAt(c),128>d?(a+=String.fromCharCode(d),c++):191<d&&224>d?(c2=b.charCodeAt(c+1),a+=String.fromCharCode((d&31)<<6|c2&63),c+=2):(c2=b.charCodeAt(c+1),c3=b.charCodeAt(c+2),a+=String.fromCharCode((d&15)<<12|(c2&63)<<6|c3&63),c+=3);return a}}},function(l,m){(function(b){(function(){var a=function(){if("undefined"!==typeof window&&window.window===window&&void 0!==window.navigator){var a=navigator.platform,c=navigator.userAgent,f=
a+"\n"+c;return _.extend({engine:"browser",browserEngine:0<=c.indexOf("AppleWebKit")?"WebKit":void 0,browser:0<=c.indexOf("Firefox")?"Firefox":0<=c.indexOf("Chrome")?"Chrome":0<=c.indexOf("Safari")?"Safari":0<=c.indexOf("Trident")?"IE":void 0},0<=a.indexOf("Linux arm")||0<=f.indexOf("Android")?{touch:!0,system:"Android"}:0<=f.indexOf("iPad")?{touch:!0,system:"iOS",device:"iPad"}:0<=f.indexOf("iPhone")||0<=f.indexOf("iPod")?{touch:!0,system:"iOS",device:"iPhone"}:{})}return"undefined"!==typeof b&&
b.global===b?{engine:"node"}:{}}(),c="browser"===a.engine?window:"node"===a.engine?b:void 0;c.property=function(a,b,f){if(a in c)throw Error("cannot redefine global "+a);return Object.defineProperty(c,a,Object.assign({},b instanceof Function?{get:b,set:function(){throw Error("cannot set global "+a);}}:b,{enumerable:!0},f))};c["const"]=function(a,b,f){return c.property(a,{value:b,writable:!1},f)};c["const"]("$global",c);c["const"]("$platform",{engine:a.engine,system:a.system,device:a.device,touch:a.touch||
!1,IE:"IE"===a.browser,Firefox:"Firefox"===a.browser,Safari:"Safari"===a.browser,Chrome:"Chrome"===a.browser,WebKit:"WebKit"===a.browserEngine,Browser:"browser"===a.engine,NodeJS:"node"===a.engine,iPad:"iPad"===a.device,iPhone:"iPhone"===a.device,iOS:"iOS"===a.system})})()}).call(m,function(){return this}())},function(l,m){_.extend(_,{asArray:function(b){return void 0!==b.length?[].slice.call(b,0):[b]}});_.extend(_,{numArgs:function(b){return void 0===b._ac?b.length:b._ac},restArg:function(b){return b._ra||
!1},noArgs:function(b){return 0===_.numArgs(b)&&!b._ra},hasArgs:function(b){return 0<_.numArgs(b)&&!b._ra},oneArg:function(b){return 1===_.numArgs(b)&&!b._ra},withRestArg:$restArg=function(b){Object.defineProperty(b,"_ra",{enumerable:!1,writable:!0,value:!0});return b},withArgs:function(b,a,c){void 0!==b&&Object.defineProperty(c,"_ac",{enumerable:!1,writable:!0,value:b});void 0!==a&&Object.defineProperty(c,"_ra",{enumerable:!1,writable:!0,value:a});return c},withSameArgs:function(b,a){return _.withArgs(_.numArgs(b),
_.restArg(b),a)}});(function(){var b=function(a,b){return _[a]=b(_[a])};b("memoize",function(a){return function(b){return _.withSameArgs(b,a(b))}});b("partial",function(a){return $restArg(function(b){return _.withArgs(Math.max(0,_.numArgs(b)-(arguments.length-1)),b._ra,a.apply(this,arguments))})});b("bind",function(a){return $restArg(function(b,d){return _.withArgs(Math.max(0,_.numArgs(b)-(arguments.length-2)),b._ra,a.apply(this,arguments))})})})()},function(l,m){_.debugEcho=function(){return[this].concat(_.asArray(arguments))};
_.call=function(b,a,c){return b.apply(a,_.rest(arguments,2))};_.arity=function(b,a){return function(){return a.apply(this,_.first(arguments,b))}};_.arity0=function(b){return function(){return b.call(this)}};_.arity1=function(b){return function(a){return b.call(this,a)}};_.arity2=function(b){return function(a,c){return b.call(this,a,c)}};_.arity3=function(b){return function(a,c,d){return b.call(this,a,c,d)}};_.arityFn=function(b){return _["arity"+b]};_.tails=$restArg(function(b){var a=_.rest(arguments);
return function(){return b.apply(this,_.asArray(arguments).concat(a))}});_.tails2=$restArg(function(b){var a=_.rest(arguments);return function(c){return b.apply(this,[c].concat(a))}});_.tails3=$restArg(function(b){var a=_.rest(arguments);return function(c,d){return b.apply(this,[c,d].concat(a))}});_.callsTo=function(b){return $restArg(function(){return _.callsWith.apply(null,arguments)(b)})};_.tailsTo=function(b,a){return $restArg(function(){return _.tailsWith.apply(null,arguments)(b)})};_.callsWith=
$restArg(function(){var b=_.asArray(arguments);return function(a){return _.withSameArgs(a,function(){return a.apply(this,b.concat(_.asArray(arguments)))})}});_.tailsWith=$restArg(function(){var b=_.asArray(arguments);return function(a){return _.withSameArgs(a,function(){return a.apply(this,_.asArray(arguments).concat(b))})}});_.argumentAppendingWrapper=function(b,a){return _.withSameArgs(b,function(){var c=this,d=_.asArray(arguments);return a(function(){return b.apply(c,d.concat(_.asArray(arguments)))})})};
_.argumentPrependingWrapper=function(b,a){return _.withSameArgs(b,function(){var c=this,d=_.asArray(arguments);return a(function(){return b.apply(c,_.asArray(arguments).concat(d))})})};_["new"]=$restArg(function(b,a,c,d,e){switch(arguments.length){case 1:return new b;case 2:return new b(a);case 3:return new b(a,c);case 4:return new b(a,c,d);case 5:return new b(a,c,d,e);default:_.notImplemented()}});_.flipN=function(b){return $restArg(function(){return b.apply(this,_.asArray(arguments).reverse())})};
_.flip=function(b){if(_.restArg(b))return _.flipN(b);switch(_.numArgs(b)){case 0:case 1:return b;case 2:return _.flip2(b);case 3:return _.flip3(b);default:throw Error("flip: unsupported arity");}};_.flip2=function(b){return function(a,c){return b.call(this,c,a)}};_.flip3=function(b){return function(a,c,d){return b.call(this,d,c,a)}};_.or=function(b,a){return function(){return b.apply(this,arguments)||a.apply(this,arguments)}};_.and=function(b,a){return function(){return b.apply(this,arguments)&&a.apply(this,
arguments)}};_.not=function(b){return function(){return!b.apply(this,arguments)}};_.extend(_,{Y:function(b){var a=b(function(){return a.apply(this,arguments)});return a}});(function(){_.hyperOperator=function(b,a,c,d){var e=_.arityFn(b)||_.identity,f=(c||_.goDeeperWhenFirstArgumentIsGood)(b,d||_.isNonTrivial);return function(){var b=_.last(arguments);return _.Y(function(c){var d=_.tails(a,e(c));return function(){return(f(arguments)?d:b).apply(this,arguments)}}).apply(this,_.initial(arguments))}};
_.goDeeperWhenFirstArgumentIsGood=function(b,a){return function(b){return 0<b.length?a(b[0]):!1}};_.goDeeperAlwaysIfPossible=function(b,a){return 0===b?_.constant(!1):1===b?function(b){return a(b[0])}:2===b?function(b){return a(b[0])||a(b[1])}:function(b){return _.some(_.asArray(b),a)}};_.goDeeperOnlyWhenNessesary=function(b,a){return 0===b?_.constant(!1):1===b?function(b){return a(b[0])}:2===b?function(b){return a(b[0])&&a(b[1])}:function(b){return _.every(_.asArray(b),a)}};_.isTrivial=function(b){return _.isEmpty(b)||
_.isString(b)||_.isNumber(b)||!(_.isStrictlyObject(b)||_.isArray(b))||_.isPrototypeInstance(b)||_.isMeta(b)};_.isMeta=_.constant(!1);_.isNonTrivial=_.not(_.isTrivial);_.binary=2;_.unary=1})();_.higherOrder=_.callsTo;_.eval=function(b){return _.isFunction(b)?b.call(this):b};_.evals=function(b){var a=arguments;return function(b){return _.isFunction(b)?b.apply(this,a):b}};_.method=function(b){var a=_.rest(arguments);return function(c){return c[b].apply(c,a)}};_.asFreeFunction=function(b){return function(a,
c){return b.apply(a,_.rest(arguments))}};_.asMethod=function(b){return function(){return b.apply(void 0,[this].concat(_.asArray(arguments)))}};_.once=function(b){var a=!1;return function(){if(!a)return a=!0,b.apply(this,arguments)}};_.withTimeout=function(b,a,c){var d=!1,e=setTimeout(function(){d=!0;b.expired&&b.expired(c)},b.maxTime);a(function(){d||(clearTimeout(e),c&&c.apply(this,arguments))})};_.sequence=function(b){var a=_.isArray(b)?b:_.asArray(arguments),c=a.length;return 0===c?_.identity:
function(b){for(var e=0;e<c;e++)b=a[e].call(this,b);return b}};_.seq=_.sequence;_.then=function(b,a){return function(c){var d=b.apply(this,arguments);return d instanceof Promise?d.then(a.bind(this)):a.call(this,d)}}},function(l,m){_.typeOf=function(b){return typeof b};_.instanceOf=function(b){return function(a){return a instanceof b}};_.count=function(b){return b.length};_.array=_.tuple=function(){return _.asArray(arguments)};_.cons=function(b,a){return[b].concat(a||[])};_.atIndex=function(b){return function(a){return a[b]}};
_.takesFirst=_.higherOrder(_.first);_.takesLast=_.higherOrder(_.last);_.applies=function(b,a,c){return function(){return b.apply(a,c)}};_.prepends=function(b){return function(a){return b+a}};_.appends=function(b){return function(a){return a+b}};_.join=function(b,a){return b.join(a)};_.joinWith=_.flip2(_.join);_.joinsWith=_.higherOrder(_.joinWith);_.split=function(b,a){return b.split(a)};_.splitWith=_.flip2(_.split);_.splitsWith=_.higherOrder(_.splitWith);_.sum=function(b,a){return(b||0)+(a||0)};_.subtract=
function(b,a){return(b||0)-(a||0)};_.mul=function(b,a){return(b||0)*(a||0)};_.equal=function(b,a){return b===a};_.sums=_.plus=_.higherOrder(_.sum);_.subtracts=_.minus=_.higherOrder(_.subtract);_.muls=_.higherOrder(_.mul);_.equals=_.higherOrder(_.equal);_.less=function(b,a){return b<a};_.lessOrEqual=function(b,a){return b<=a};_.greater=function(b,a){return b>a};_.greaterOrEqual=function(b,a){return b>=a};_.isNegative=function(b){return 0>b};_.largest=function(b,a){return isNaN(b)&&isNaN(a)?NaN:isNaN(b)?
a:isNaN(a)?b:Math.max(b,a)};_.notZero=function(b){return 0!==b};_.propertyOf=function(b){return function(a){return b[a]}};_.oneOf=$restArg(function(){return _.propertyOf(_.index(_.asArray(arguments)))})},function(l,m){_.isTypeOf=function(b,a){return a instanceof b};_.isPrototypeInstance=function(b){return b&&b.constructor&&_.isPrototypeConstructor(b.constructor)};_.isPrototypeConstructor=function(b){return b&&void 0!==b.$definition||!1};_.coerceToNaN=function(b){return _.isFinite(b)?b:Number.NaN};
_.coerceToArray=function(b){return void 0===b?[]:_.isArray(b)?b:[b]};_.coerceToFunction=function(b){return _.isFunction(b)?b:_.constant(b)};_.isArrayLike=function(b){return b instanceof Array||$platform.Browser&&b instanceof NodeList};_.isArray=function(b){return b instanceof Array};_.mixin({matches:function(b){return 0===arguments.length&&_.constant(!0)||_.tails2(_.match,b)},match:function(b,a){return b===a||_.isArray(b)&&_.isArray(a)&&_.arrayMatch(b,a)||_.isObject(b)&&_.isObject(a)&&_.objectMatch(b,
a)||_.isTypeOf(RegExp,a)&&_.isString(b)&&null!==b.match(a)},arrayMatch:function(b,a){return _.every(a,_.propertyOf(_.index(b)))},objectMatch:function(b,a){return _.reduce(_.pairs(a),function(a,d){return a&&_.match(b[d[0]],d[1])},!0)}});_.isScalar=function(b){return void 0===b||null===b||b.constructor===String||b.constructor===Number||b.constructor===Boolean};_.isNonPOD=function(b){return!_.isPOD(b)};_.isPOD=function(b){return _.isScalar(b)||b&&(b.constructor===Object||b.constructor===Array)};_.extend(_,
{isEmpty:function(b){return void 0===_.coerceToUndefined(b)},isNonempty:function(b){return void 0!==_.coerceToUndefined(b)},isEmptyObject:function(b){return!_.isArray(b)&&!_.isFunction(b)&&_.isObject(b)&&0===_.keys(b).length},isStrictlyObject:function(b){return b&&"object"===typeof b?!0:!1},isEmptyArray:function(b){return _.isArray(b)&&0===b.length},isNonemptyString:function(b){return"string"===typeof b&&0<b.length},coerceToObject:function(b){return _.isStrictlyObject(b)?b:{}},coerceToEmpty:function(b){if(_.isArray(b))return[];
if(_.isStrictlyObject(b))return{}},coerceToUndefined:function(b){return void 0===b||null===b||b===Math.NaN||""===b||_.isPOD(b)&&(_.isEmptyObject(b)||0===b.length)?void 0:b}})},function(l,m){_.hasStdlib=!0;_.throwsError=_.higherOrder(_.throwError=function(b){throw b instanceof Error?b:Error(b);});_["throws"]=_.higherOrder(_["throw"]=function(b){throw b;});_.overrideThis=_.throwsError("override this");_.notImplemented=_.throwsError("not implemented");_.mixin({values2:function(b){return _.isArrayLike(b)?
b:_.isStrictlyObject(b)?_.values(b):_.isEmpty(b)?[]:[b]}});_.mixin({map2:function(b,a,c){return _.isArrayLike(b)?_.map(b,a,c):b instanceof Set?_.mapSet(b,a,c):_.isStrictlyObject(b)?_.mapObject(b,a,c):a.call(c,b)}});_.mapSet=function(b,a,c){var d=new Set;b=$jscomp.makeIterator(b);for(var e=b.next();!e.done;e=b.next())d.add(a.call(c,e.value));return d};_.mapsWith=_.higherOrder(_.mapWith=_.flip2(_.map2));_.pluck2=function(b,a){return _.map2(b,_.property(a))};_.mixin({scatter:function(b,a){var c=void 0;
_.map2(b,function(b,e){a(b,e,function(a,b){2>arguments.length?(c=c||[]).push(a):(c=c||{})[b]=a})});return c}});_.obj=function(b){var a=void 0;b(function(b,d){(a=a||{})[d]=b});return a};_.arr=function(b){var a=void 0;b(function(b){(a=a||[]).push(2>arguments.length?b:_.asArray(arguments))});return a};_.mapKeys=function(b,a){return _.isArrayLike(b)?_.map(b,_.tails2(_.mapKeys,a)):_.isStrictlyObject(b)?_.object(_.map(_.pairs(b),function(b){return[a(b[0]),_.mapKeys(b[1],a)]})):b};_.mapMap=_.hyperOperator(_.unary,
_.map2);_.hyperMap=function(b,a){return _.hyperOperator(_.unary,function(b,d){return a(b)||_.map2(b,d)})(b,_.identity)};_.pairs2=function(b){return _.scatter(b,function(a,b,d){d([b,a])})};_.reject2=function(b,a){return _.filter2(b,_.not(a))};_.filter2=function(b,a){if(_.isArrayLike(b)){for(var c=[],d=0,e=b.length;d<e;d++){var f=b[d],h=a(f,d);!0===h?c.push(f):!1!==h&&c.push(h)}return c}if(_.isStrictlyObject(b))return c={},_.each(Object.keys(b),function(d){var e=b[d],f=a(e,d);!0===f?c[d]=e:!1!==f&&
(c[d]=f)}),c;h=a(b);if(!0===h)return b;if(!1!==h)return h};_.filterFilter=_.hyperOperator(_.unary,_.filter2);_.hyperFilter=function(b,a){return _.hyperOperator(_.unary,function(b,d){var e=a(b);return!0===e&&_.filter2(b,d)||e})(b,_.identity)};_.hyperReject=function(b,a){return _.hyperFilter(b,function(b){b=a(b);return _.isBoolean(b)?!b:b})};_.each2=function(b,a){if(_.isArrayLike(b))for(var c=0,d=b.length;c<d;c++)a(b[c],c,d);else if(_.isStrictlyObject(b))for(var e=Object.keys(b),f,c=0,d=e.length;c<
d;c++)a(b[f=e[c]],f,d);else a(b,void 0,1)};_.reduce2=function(b,a,c){var d=3>arguments.length,e=b,f=a,h=c;d&&(e=void 0,f=b,h=a);_.each2(f,function(a,b){e=d?a:h(e,a);d=!1});return e};_.reduceReduce=function(b,a,c){var d=b,e=a,f=c;3>arguments.length&&(d={},e=b,f=a);return _.hyperOperator(_.binary,_.reduce2,_.goDeeperAlwaysIfPossible)(d,e,f)};_.concat=function(b,a){var c,d;1===arguments.length?(c=b[0],d=_.rest(b)):(c=b,d=_.rest(arguments));return _.isArrayLike(c)?c.concat.apply(c,d):_.reduce2(c,d,function(a,
b){return _.isObject(a)&&_.isObject(b)?_.extend({},a,b):a+b})};_.mixin({zipSetsWith:function(b,a){return _.reduce(_.rest(b),function(b,d){_.each(_.union(d&&Array.from(d.values())||[],b&&Array.from(b.values())||[]),function(e){var f=a(b&&b.has(e)?e:void 0,d&&d.has(e)?e:void 0);void 0===f?b["delete"](e):b.add(f)});return b},new Set(b[0]))},zipObjectsWith:function(b,a){return _.reduce(_.rest(b),function(b,d){_.each(_.union(_.keys(d),_.keys(b)),function(e){var f=a(b&&b[e],d&&d[e]);void 0===f?delete b[e]:
b[e]=f});return b},_.clone(b[0]))},zip2:function(b,a){var c=2===arguments.length?b:_.initial(arguments),d=2===arguments.length?a:_.last(arguments);return _.isArrayLike(c)&&0!==c.length?_.isArrayLike(c[0])?_.zipWith(c,d):c[0]instanceof Set?_.zipSetsWith(c,d):_.isStrictlyObject(c[0])?_.zipObjectsWith(c,d):_.reduce2(c,d):c}});_.mixin({zipZip:_.hyperOperator(_.binary,_.zip2)});_.extend=$restArg(_.extend);_.extended=$restArg(function(){return _.extend.apply(this,[{}].concat(_.asArray(arguments)))});_.extendWith=
_.flip(_.extend);_.extendsWith=_.flip(_.partial(_.partial,_.flip(_.extend)));_.extendedDeep=_.tails3(_.zipZip,function(b,a){return void 0===a?b:a});_.extend2=$restArg(function(b){return _.extend(b,_.reduceRight(arguments,function(a,b){return _.object(_.map(_.union(_.keys(b),_.keys(a)),function(d){var e=b[d];return[d,d in a?"object"===typeof e?_.extend(e,a[d]):a[d]:e]}))},{}))});_.find2=function(b,a){if(_.isArrayLike(b))for(var c=0,d=b.length;c<d;c++){var e=a(b[c],c,b);if("boolean"!==typeof e)return e;
if(!0===e)return b[c]}else if(_.isStrictlyObject(b))for(var c=0,f=Object.keys(b),d=f.length;c<d;c++){var h=f[c],e=a(b[h],h,b);if("boolean"!==typeof e)return e;if(!0===e)return b[h]}};_.findFind=function(b,a){return _.hyperOperator(_.unary,function(b,d){if(_.isArrayLike(b))for(var e=0,f=b.length;e<f;e++){var h=d(b[e]);if("boolean"!==typeof h)return h;if(!0===h)return b[e]}else if(_.isStrictlyObject(b))for(var e=0,k=Object.keys(b),f=k.length;e<f;e++){var n=k[e],h=d(b[n]);if("boolean"!==typeof h)return h;
if(!0===h)return b[n]}h=a(b);return"boolean"!==typeof h?h:!0===h?b:!1})(b,a)};_.nonempty=function(b){return _.filter2(b,_.isNonempty)};_.extend(_,{clone:function(b){return b instanceof Set?new Set(b):_.isObject(b)?_.isArray(b)?b.slice():_.extend({},b):b},cloneDeep:_.tails2(_.mapMap,function(b){return _.isStrictlyObject(b)&&!_.isPrototypeInstance(b)?_.clone(b):b})});_.hyperMatch=_.hyperOperator(_.binary,function(b,a,c){return _.coerceToUndefined(_.nonempty(_.zip2(b,a,c)))});_.diff=_.tails3(_.hyperMatch,
function(b,a){return $atom.unwrap(b)===$atom.unwrap(a)||b===$any||a===$any?void 0:a});_.hyperMatch=_.hyperOperator(_.binary,function(b,a,c){return _.coerceToUndefined(_.zip2(b,a,c))});_.undiff=_.tails3(_.hyperMatch,function(b,a){return $atom.unwrap(b)===$atom.unwrap(a)||b===$any||a===$any?a:void 0});_.extend(_,{index:function(b){for(var a={},c=0,d=b.length;c<d;c++)a[b[c]]=!0;return a}});_.quote=function(b,a){var c=a||"",d=Math.floor(c.length/2+c.length%2),e=c.slice(0,d),c=c.slice(d)||e;return e+b+
c};_.quoteWith=_.flip2(_.quote);_.quotesWith=_.higherOrder(_.quoteWith);_.partition2=function(b,a){return _.pluck(_.partition3(b,a),"items")};_.partition3=function(b,a){var c=b||[],d=[],e={label:void 0,items:[c.first]};_.each(c,function(b){var c=a(b);e.label!=c&&e.items.length?d.push(e={label:c,items:[b]}):e.items.push(b)});return e.length&&d.push(e),d};(function(){var b=function(a){var b={};_.each(a,function(a,e){b[a]=b[a]||[];b[a].push(e)});return b};_.longestCommonSubstring=function(a,b){var d=
_.indexOfLongestCommonSubstring(a,b);return d.length?a.substr(d.a,d.length):void 0};_.indexOfLongestCommonSubstring=function(a,c){var d={a:0,b:0,length:0},e=b(a),f=[];_.each(c,function(a,b){var c,p=[];_.each(e[a]||[],function(a){c=(a&&f[a-1]||0)+1;c>d.length&&(d.length=c,d.a=a-c+1,d.b=b-c+1);p[a]=c});f=p});return d}})();_.key=function(b){return function(a,c){return b(c)}};_.filterKeys=function(b,a){return _.filter(b,function(b,d){return a(d)})};_.rejectKeys=function(b,a){return _.reject(b,function(b,
d){return a(d)})};_.pickKeys=function(b,a){return _.pick(b,function(b,d){return a(d)})};_.omitKeys=function(b,a){return _.omit(b,function(b,d){return a(d)})}},function(l,m){_.extend(_,{defineProperty:function(b,a,c,d){if(_.isObject(b)&&b.hasOwnProperty(a))throw Error("_.defineProperty: targetObject already has property "+a);Object.defineProperty(b,a,_.extend({enumerable:!0},d,_.coerceToPropertyDefinition(c,a)))},defineHiddenProperty:function(b,a,c,d){return _.defineProperty(b,a,c,_.extend({enumerable:!1},
d))},defineMemoizedProperty:function(b,a,c,d){c=_.coerceToPropertyDefinition(c,a);return _.defineProperty(b,a,_.extend({},c,{get:_.memoizeToThis("_"+a,c.get)}),d)},defineProperties:function(b,a){_.each(a,_.defineProperty.partial(b).flip2)},memoizedState:function(b){return _.filter2(b,function(a,b){return"_"===b[0]&&!_.isFunction(a)})},memoizeToThis:function(b,a){return function(){var c=this[b];return void 0!==c?c:this[b]=a.call(this)}},coerceToPropertyDefinition:function(b,a){var c=b||{},d="undefined"===
typeof Tags?b:Tags.unwrap(b);return!c.$constant&&!c.$get&&_.isPropertyDefinition(d)&&d||(c.$get||!c.$constant&&_.isFunction(d)&&_.noArgs(d))&&{get:d,set:_.throwsError("cannot change "+(a||"property")+" (as it's an accessor function)")}||!c.$get&&{get:_.constant(d),set:_.throwsError("cannot change "+(a||"property")+" (as it's sealed to "+d+")")}||_.throwsError("coerceToPropertyDefinition: crazy input, unable to match")()},isPropertyDefinition:function(b){return _.isObject(b)&&(_.isFunction(b.get)||
_.isFunction(b.set))},ownProperties:function(b){return b&&_.pickKeys(b,b.hasOwnProperty.bind(b))||{}}})},function(l,m,b){var a=Object;_.hasTags=!0;$global.Tags=function(a,b){void 0!==a&&(this.subject=a);void 0!==b&&_.extend(this,b)};Tags.$definition={};a.assign(Tags.prototype,{add:function(a,b){return this["$"+a]=b||!0,this},clone:function(b){return a.assign(new Tags(b||this.subject),Tags.get(this))},modify:function(b){this.subject=b(this.subject);return this.subject instanceof Tags?a.assign(this.subject,
Tags.get(this)):this},extend:function(b){return b instanceof Tags?a.assign(this,Tags.get(b)):this}});a.assign(Tags,{omit:$restArg(function(a,b){if(a instanceof Tags){var c=_.index(_.rest(arguments)),h=_.pick(a,function(a,b){return"$"===b[0]&&!(b in c)});return _.isEmptyObject(h)?a.subject:new Tags(a.subject,h)}return a}),clone:function(a,b){return a instanceof Tags?a.clone(b):b||a},extend:function(a,b){return a instanceof Tags?a.clone().extend(b):b instanceof Tags?Tags.wrap(a).extend(b):a},get:function(a){return a instanceof
Tags?_.pick(a,function(a,b){return"$"===b[0]}):{}},each:function(a,b){a instanceof Tags&&_.each(a,function(a,c){"$"===c[0]&&b(c.slice(1))})},hasSubject:function(a){return a instanceof Tags&&"subject"in a},matches:function(a){return function(b){return b&&void 0!==b["$"+a]}},unwrapAll:function(a){return _.map2(a,Tags.unwrap)},unwrap:function(a){return a instanceof Tags?a.subject:a},wrap:function(a){return a instanceof Tags?a:0===arguments.length?new Tags:new Tags(a)},modify:function(a,b){return a instanceof
Tags?a.clone().modify(b):b(a)},map:function(a,b){return Tags.modify(a,function(a){return _.map2(a,function(a,c){return Tags.modify(a,function(d){return b(d,c,a instanceof Tags?a:void 0)})})})},add:function(a,b,c){return Tags.wrap.apply(null,_.rest(arguments,1)).add(a,c)},all:new Set,isDefined:function(a){return Tags.all.has(a)},define:function(b,c){Tags.all.add(b);c=_.isFunction(c)&&c||_.identity;var f="$"+b;$global[f]=c(function(a,c){return 2>arguments.length?Tags.add(b,a):Tags.add(b,c,a)});return a.assign($global[f],
{matches:Tags.matches(b),is:function(a){return a instanceof Tags&&f in a||!1},isNot:function(a){return!(a instanceof Tags&&f in a)||!1},unwrap:function(a){return!0===$atom.matches(a)?Tags.unwrap(a):a}})}});$global.$untag=Tags.unwrap;["constant","get","once","async","atom"].forEach(Tags.define);$jscomp.initSymbol();if("undefined"!==typeof Symbol){var c=b(12);$jscomp.initSymbol();Tags.prototype[Symbol["for"]("String.ify")]=function(a){if(a.json)return a($untag(this));var b=Tags.get(this),f=_.reduce(b,
function(b,c,e){return _.isBoolean(c)?e+" ("+b:e+" ("+a.configure({pretty:!1})(c)+", "+b},"");return c(f,a($untag(this)))+")".repeats(_.keys(b).length)}}},function(l,m){l.exports=function(b,a){var c=Array.isArray(a),d=c?a:a.split("\n"),e=b.replace(/[^\s]/g," "),d=d.map(function(a,c){return 0===c?b+a:e+a});return c?d:d.join("\n")}},function(l,m){_.hasTypeMatch=!0;Tags.define("required");Tags.define("atom");$global["const"]("$any",_.identity);(function(){_.isMeta=function(a){return a===$any||!0===$atom.is(a)||
!0===$required.is(a)};var b=function(a,b,c){var d=Tags.unwrapAll(_.filter2(a,$required.matches));a=_.nonempty(_.zip2(Tags.unwrapAll(a),b,c));if(_.isEmpty(d))return a;c=_.nonempty(_.zip2(d,b,c));return _.values2(d).length===_.values2(c).length?a:_.coerceToEmpty(b)},a=_.hyperOperator(_.binary,function(a,c,d){var k=Tags.unwrap(a);if(_.isArray(k)){if(_.isArray(c))return b(_.times(c.length,_.constant(k[0])),c,d)}else if(_.isStrictlyObject(k)&&k["*"]){if(_.isStrictlyObject(c))return b(_.extend(_.map2(c,
_.constant(k["*"])),_.omit(k,"*")),c,d)}else return b(a,c,d)}),c=function(a,b){var c=Tags.unwrap(a);return c===$any||void 0===c&&void 0===b||_.isFunction(c)&&(_.isPrototypeConstructor(c)?_.isTypeOf(c,b):!0===c(b))||typeof b===c||b===c};_.mismatches=function(b,c,d){return a(c,d,function(a,c){return b(a,c)?void 0:a})};_.omitMismatches=function(b,c,d){return a(c,d,function(a,c){return b(a,c)?c:void 0})};_.typeMismatches=_.partial(_.mismatches,c);_.omitTypeMismatches=_.partial(_.omitMismatches,c);_.valueMismatches=
_.partial(_.mismatches,function(a,b){return a===$any||b===$any||a===b});var d=function(a){if(_.isArray(a))return _.nonempty([_.reduce(_.rest(a),function(a,b){return _.undiff(a,b)},_.first(a)||void 0)]);if(_.isStrictlyObject(a)){var b=_.pairs(a),b=_.map(_.reduce(_.rest(b),function(a,b){return _.undiff(a,b)},_.first(b)||[void 0,void 0]),_.nonempty);return _.isEmpty(b)||_.isEmpty(b[1])?a:_.object([[b[0]||"*",b[1]]])}return a};_.decideType=function(a){return _.hyperOperator(_.unary,function(a,b){return a&&
a.constructor&&a.constructor.$definition?a.constructor:d(_.map2(a,b))})(a,function(a){return _.isPrototypeInstance(a)?a.constructor:_.isEmptyArray(a)?a:typeof a})}})()},function(l,m){_.cps=function(){return _.cps.sequence.apply(null,arguments)};_.cps.apply=function(b,a,c,d){c=_.asArray(c);var e=_.numArgs(b)-1,f=c[e];c[e]=function(){d.call(this,arguments,f)};return b.apply(a,c)};_.extend(_.cps,{each:function(b,a,c,d,e,f){var h=c||_.noop,k=function(c,d,e){2===_.numArgs(a)?a(c,e,h,b):a(c,d,e,h,b)};if(_.isEmpty(b))h();
else if(_.isScalar(b))k(b,void 0,h);else{var n=d||0,p=0===n?void 0===b.length?_.keys(b):void 0:f,l=0===n?p?p.length:b.length:e;if(n>=(l||0))h();else{var m=p?p[n]:n;k(b[m],m,arguments.callee.bind(this,b,a,c,n+1,l,p))}}}});_.extend(_.cps,{map:function(b,a,c){var d=_.isArray(b)?[]:{};_.cps.each(b,2==_.numArgs(a)?function(b,c,h){a(b,function(a){d[c]=a;h()})}:function(b,c,h){a(b,c,function(a){d[c]=a;h()})},function(){c(d)})}});_.extend(_.cps,{find:function(b,a,c){var d=2!==_.numArgs(a);_.cps.each(b,function(b,
c,h,k){var n=function(a){!1===a?h():k(!0===a?b:a,c)};d?a(b,c,n):a(b,n)},c)}});_.extend(_.cps,{memoize:function(b){return _.barrier?_.cps._betterMemoize(b):_.cps._poorMemoize(b)},_poorMemoize:function(b){var a={};return function(c,d){c in a?d(a[c]):b.call(this,c,function(b){d(a[c]=b)})}},_betterMemoize:function(b){var a={};switch(_.numArgs(b)){case 1:return function(c){a.already||b.call(this,a=_.barrier());a(c)};case 2:return a={},function(c,d){c in a||b.call(this,c,a[c]=_.barrier());a[c](d)};default:throw Error("_.cps.memoize: unsupported number of arguments");
}}});(function(){var b=function(a,c,d,e,f){!a||f>=(a.length||0)?d(e):c(e,a[f],function(e){b(a,c,d,e,f+1)})};_.cps.reduce=function(a,c,d,e){4>arguments.length?b(a,c,d,a[0],1):b(a,c,d,e,0)}})();_.extend(_.cps,{noop:$restArg(function(){return _.last(arguments).call(this)}),identity:$restArg(function(){var b=_.initial(arguments),a=_.last(arguments);if(a)return a.apply(this,b)}),constant:$restArg(function(){var b=arguments;return function(){return _.last(arguments).apply(this,b)}})});_.cps.arity0=function(b){return function(){b.call(this,
_.last(arguments))}};_.cps.arity1=function(b){return function(){b.call(this,arguments[0],_.last(arguments))}};_.cps.arity2=function(b){return function(){b.call(this,arguments[0],arguments[1],_.last(arguments))}};_.cps.transformResult=function(b,a){return function(c){a.apply(this,_.initial(arguments).concat(b(_.last(arguments))))}};_.cps.resultArity2=_.partial(_.cps.transformResult,_.arity2);_.cps.resultArity1=_.partial(_.cps.transformResult,_.arity1);_.cps.resultArity0=_.partial(_.cps.transformResult,
_.arity0);_.cps.sequence=$restArg(function(b){var a=_.isArray(b)&&b||_.asArray(arguments);return _.reduceRight(a,function(a,b){return function(){return b.apply(this,_.asArray(arguments).concat(a))}},_.cps.identity)});_.cps.compose=$restArg(function(b){var a=_.isArray(b)&&b||_.asArray(arguments);return _.cps.sequence(a.slice().reverse())});_.cps.trySequence=function(b,a,c){_.reduceRight(b,function(b,e){return function(f){if(_.isTypeOf(Error,f))return(c||a)(f);try{return e.apply(this,_.asArray(arguments).concat(b))}catch(h){return(c||
a)(h)}}},a)()}},function(l,m){["method","property","flipped","forceOverride"].forEach(Tags.define);$extensionMethods=function(b,a){_.each(a,function(a,d){var e=Tags.unwrap(a);d in _||(_[d]=_[d]||e);if(a.$method||!a.$property&&!_.oneArg(e)){if(a.$property)throw Error("$extensionMethods: crazy input, unable to match");d in b.prototype&&!a.$forceOverride||(b.prototype[d]=_.asMethod(a.$flipped?_.flip(e):e))}else d in b.prototype&&!a.$forceOverride||_.defineHiddenProperty(b.prototype,d,function(){return e(this)})})}},
function(l,m){$extensionMethods(Function,{$:$method(_.partial),$$:$method(_.tails),bind:_.bind,partial:_.partial,calls:_.bind,tails:_.tails,tails2:_.tails2,tails3:_.tails3,applies:_.applies,compose:_.compose,then:_.then,flip:_.flip,"with":_.flipN,flip2:_.flip2,flip3:_.flip3,asFreeFunction:_.asFreeFunction,asMethod:_.asMethod,callsWith:_.callsTo,tailsWith:_.tailsTo,higherOrder:_.higherOrder,returns:function(b,a){return function(){b.apply(this,arguments);return a}},asContinuation:function(b){return $restArg(function(){_.last(arguments)(b.apply(this,
_.initial(arguments)))})},wraps:function(b,a){b._wrapped=_.withSameArgs(b,a);return b},wrapped:function(b){return b._wrapped||b},original:function(b){for(;b&&b._wrapped;)b=b._wrapped;return b},arity0:_.arity0,arity1:_.arity1,arity2:_.arity2,arity3:_.arity3,or:_.or,and:_.and,not:_.not,"new":_.higherOrder(_["new"]),each:function(b,a){return _.each2(a,b)},map:function(b,a){return _.map2(a,b)},oneShot:function(b){var a=!1;return function(){if(!a)return a=!0,b.apply(this,arguments)}},memoized:_.memoize,
throttled:_.throttle,debounced:function(b,a,c){var d,e,f,h,k,n=function(){var p=Date.now()-d;p<a&&0<p?e=setTimeout(n,a-p):(e=null,c||(f=b.apply(k,h),e||(k=h=null)))},p=function(){k=this;h=arguments;d=Date.now();var p=c&&!e;e||(e=setTimeout(n,a));p&&(f=b.apply(k,h),k=h=null);return f};p.cancel=function(){e&&(clearTimeout(e),e=null)};p.callImmediately=function(){p.cancel();b.apply(k,h)};return p},postpone:$method(function(b){b.postponed.apply(null,arguments)}),postponed:function(b){return function(){var a=
!b._postponed;b._postponed=_.asArray(arguments);b._postponedThis=this;a&&_.delay(function(){var a=b._postponed,d=b._postponedThis;b._postponed=void 0;b._postponedThis=void 0;b.apply(d,a)})}},delay:_.delay,delayed:function(b,a){return function(){var c=arguments,d=this;_.delay(function(){b.apply(d,c)},a)}}});$extensionMethods(Function,{catch_:function(b,a,c,d){return b.catches(a,c)()},catches:function(b,a,c,d){var e=arguments.length;a=1<e?_.coerceToFunction(a):_.identity;c=2<e?_.coerceToFunction(c):
_.identity;d=3<e?_.coerceToFunction(d):_.identity;return function(){var e=void 0,h=!1;try{e=b.apply(this,arguments)}catch(k){e=a(k),h=!0}h||(e=c(e));return d(e)}}})},function(l,m){$extensionMethods(Array,{each:_.each,map:_.map,fold:_.reduce2,reduce:_.reduce,reduceRight:_.reduceRight,zip:_.zipWith,groupBy:_.groupBy,indexBy:_.indexBy,find:_.find,findWhere:$method(_.findWhere),filter:_.filter,reject:$method(_.reject),flat:_.flatten.tails2(!0),object:_.object,shuffle:_.shuffle,nonempty:_.nonempty,pluck:$method(_.pluck),
without:$method(_.without),join:function(b){return $forceOverride(function(a,c){c=2>arguments.length?"":c;return _.isString(c)?b.call(a,c):_.reduce2(a,function(a,b){return[a].concat([c,b])})})}(Array.prototype.join),contains:function(b,a){return 0<=b.indexOf(a)},top:function(b){return b[b.length-1]},first:function(b){return b[0]},second:function(b){return b[1]},rest:function(b){return _.rest(b)},last:function(b){return b[b.length-1]},take:function(b,a){return b.slice(0,a)},takeAt:$method(function(b,
a){var c="number"==typeof a?a:b.findIndex(a);return-1!==c?b.splice(c,1).first:void 0}),lastN:$method(_.last),before:function(b,a){var c=b.indexOf(a);return 0>c?b:b.slice(0,c-1)},after:function(b,a){var c=b.indexOf(a);return 0>c?b:b.slice(c+1)},isEmpty:function(b){return 0===b.length},notEmpty:function(b){return 0<b.length},lastIndex:function(b){return b.length-1},random:function(b){return b[_.random(0,b.lastIndex)]},copy:function(b){return b.slice(0)},removeAll:$method(function(b){return b.splice(0,
b.length),b}),remove:function(b,a){for(var c;-1!==(c=b.indexOf(a));)b.splice(c,1);return b},removeAt:function(b,a){b.splice(a,1);return b},insertAt:function(b,a,c){b.splice(c,0,a);return b},itemAtWrappedIndex:function(b,a){return b[a%b.length]},reversed:function(b){return b.slice().reverse()},swap:$method(function(b,a,c){var d=b[a];b[a]=b[c];b[c]=d;return b})})},function(l,m){$extensionMethods(String,{quote:_.quote,concatPath:function(b,a){var c="/"===b[b.length-1],d="/"===a[0];return b+(c||d?"":
"/")+(c&&d?a.substring(1):a)},pluck:function(b,a){return _.pluck2(a,b)},contains:function(b,a){return 0<=b.indexOf(a)},startsWith:function(b,a){return 1===a.length?b[0]===a:b.substring(0,a.length)===a},endsWith:function(b,a){return 1===a.length?b[b.length-1]===a:b.substring(b.length-a.length)===a},pad:function(b,a,c){return b+(c||" ").repeats(Math.max(0,a-b.length))},cut:function(b,a){return b.substring(0,a-1)+b.substring(a,b.length)},insert:function(b,a,c){return b.substring(0,a)+c+b.substring(a,
b.length)},lowercase:function(b){return b.toLowerCase()},uppercase:function(b){return b.toUpperCase()},trimmed:function(b){return b.trim()},limitedTo:function(b,a){return b&&(b.length<=a?b:b.substr(0,a-1)+"\u2026")},escaped:function(b){return _.escape(b)},repeats:function(b,a){return _.times(a,_.constant(b)).join("")},prepend:function(b,a){return a+b},append:function(b,a){return b+a},first:function(b,a){return _.first(b,a).join("")},last:function(b,a){return _.last(b,a).join("")},reversed:function(b){return b.split("").reverse().join("")},
capitalized:function(b){return b.charAt(0).toUpperCase()+b.slice(1)},decapitalized:function(b){return b.charAt(0).toLowerCase()+b.slice(1)},latinAlphanumericValue:function(b){return b.replace(/[^a-z0-9]/gi,"")},alphanumericValue:function(b){return b.replace(unicode_hack(/[^0-9\p{L}|^0-9\p{N}|^0-9\p{Pc}|^0-9\p{M}]/g),"")},numericValue:function(b){return b.replace(/[^0-9]/g,"")},integerValue:function(b){return b.numericValue.parsedInt},parsedInt:function(b){b=parseInt(b,10);return _.isFinite(b)?b:void 0},
bytes:function(b){for(var a=new Uint8Array(b.length),c=0;c<b.length;++c)a[c]=b.charCodeAt(c);return a},hash:function(b){var a=0,c,d,e;if(0===b.length)return a;c=0;for(e=b.length;c<e;c++)d=b.charCodeAt(c),a=(a<<5)-a+d,a|=0;return a},transliterate:function(){var b=_.extend({"\u0430":"a","\u0431":"b","\u0432":"v","\u0433":"g","\u0434":"d","\u0435":"e","\u0451":"yo","\u0436":"zh","\u0437":"z","\u0438":"i","\u0439":"y","\u043a":"k","\u043b":"l","\u043c":"m","\u043d":"n","\u043e":"o","\u043f":"p","\u0440":"r",
"\u0441":"s","\u0442":"t","\u0443":"u","\u0444":"ph","\u0445":"h","\u0446":"ts","\u0447":"ch","\u0448":"sh","\u0449":"sch","\u044c":"","\u044a":"","\u044b":"y","\u044d":"e","\u044e":"yu","\u044f":"ya"},_.object(_.map("_-1234567890qwertyuiopasdfghjklzxcvbnm",function(a){return[a,a]})));return function(a){var c="";a=(a||"").toLowerCase();for(var d=0,e=a.length;d<e;d++)c+=b[a[d]]||"";return c}}()});_.extend(String,{randomHex:function(b){void 0===b&&(b=_.random(1,32));for(var a="",c=0;c<b;c++)a+=Math.floor(16*
Math.random()).toString(16);return a},leadingZero:function(b){return 10>b?"0"+b:b.toString()}});_.camelCaseToDashes=function(b){return b.replace(/[a-z][A-Z]/g,function(a){return a[0]+"-"+a[1].lowercase})};_.camelCaseToLoDashes=function(b){return b.replace(/[a-z][A-Z]/g,function(a){return a[0]+"_"+a[1].lowercase})};_.dashesToCamelCase=function(b){return b.replace(/(-.)/g,function(a){return a[1].uppercase})};_.loDashesToCamelCase=function(b){return b.replace(/(_.)/g,function(a){return a[1].uppercase})}},
function(l,m){(function(){var b=["onceBefore","onceAfter","onBefore","onAfter","intercept"],a=function(a,d){if("function"!==typeof a)throw Error("method should be a function");return _.extend({},a,{_bindable:!0,impl:a,_wrapped:a,context:d,off:function(a){_.each(b,function(b){a?this["_"+b].remove(a):this["_"+b].removeAll()},this);return this}},_.object(_.map(b,function(a){var b="_"+a,c=0<=a.indexOf("once");return[a,function(a){if(!_.isBindable(this))throw Error("wrong this");var d=this[b];(!c||0>d.indexOf(a))&&
this[b].push(a);return this}]})),_.object(_.map(b,function(a){return["_"+a,[]]})))};_.extend(_,_.mapObject(_.invert(b),function(a){return function(b,e,f){var h=b[e];b=_.isBindable(h)?h:b[e]=_.bindable(h);return b[a].call(b,f)}}.flip2),{unbind:function(a,b,e){(a=a[b])&&a.off&&a.off(e)},isBindable:function(a){return a&&a._bindable?!0:!1},bindable:_.extendWith({hooks:b,hooksShort:["onceBefore","onceAfter","before","after","intercept"]},function(b,d){return _.withSameArgs(b,_.extendWith(a(b,d),function(){var a=
arguments.callee,f=a._onceBefore,h=a._onceAfter,k=a._onBefore,n=a._onAfter,p=a._intercept,a=d||this,l,m;if(f.length){l=0;for(m=f.length;l<m;l++)f[l].apply(a,arguments);f.removeAll()}l=0;for(m=k.length;l<m;l++)k[l].apply(a,arguments);f=(p.length?_.cps.compose([b].concat(p)):b).apply(a,arguments);if(n.length||h.length){k=_.asArray(arguments).concat(f);l=0;for(m=n.length;l<m;l++)n[l].apply(a,k);if(h.length)for(n=h.copy,h.removeAll(),l=0,m=n.length;l<m;l++)n[l].apply(a,k)}return f}))})})})()},function(l,
m){_.extend(_,{gatherChanges:function(b){var a=_.isArray(b)?b:_.initial(arguments),c=_.last(arguments),d=function(b){c.apply(this,_.pluck(a,"value"))};_.each(a,function(a){a(d)})},allTriggered:function(b,a){var c=[];0<b.length?_.each(b,function(d){d(function(){c=_.union(c,[d]);a&&c.length===b.length&&(a(),a=void 0)})}):a()},observableRef:function(b){return _.extend(_.observable.apply(this,arguments),{trackReference:!0})},observable:function(b){var a=_.stream({isObservable:!0,hasValue:0<arguments.length,
value:_.isFunction(b)?void 0:b,read:function(b){return function(d){a.hasValue&&d.call(this,a.value);b.call(this,d)}},write:function(b){return function(d){a.beforeWrite&&(d=a.beforeWrite(d));if(!a.hasValue||(a.trackReference?a.value!==d:!_.isEqual(a.value,d))){var e=a.value,f=a.hasValue;a.hasValue=!0;a.value=d;f?b.call(this,!1,a.value,e):b.call(this,!1,a.value)}}}});arguments.length&&a.apply(this,arguments);return _.extend(a,{force:function(b){a.hasValue=!1;a(b||a.value)},then:function(b){var d=_.observable();
d.beforeWrite=b;a(function(a){d.write(a)});return d},toggle:function(){return a(!a.value)},tie:function(b){a(b);b(a);return a},item:function(b){var d=a.itemObservables||(a.itemObservables={}),e=d[b];e||(e=d[b]=_.observable((a.value&&a.value)[b]),e(function(d){(a.value&&a.value[d])!==d&&((a.value||(a.value={}))[b]=d,a.force())}),a(function(a){e.write(a[b])}));return e},when:function(b,d){var e=_.isFunction(b)?b:_.equals(b),f=!1;a(function(b){e(b)&&!f&&(f=!0,a.off(arguments.callee),d.apply(this,arguments))})}})},
barrier:function(b){var a=void 0;_.isFunction(b)&&(a=b,b=void 0);var c=_.stream({already:void 0!==b,value:b,reset:function(){c.already=!1;delete c.value},write:function(a){return function(b){c.already||(c.already=!0,c.value=b);a.call(this,!0,c.value)}},read:function(a){return function(b){c.already?(c.postpones||c.commitingReads?b.postponed:b).call(this,c.value):a.call(this,b)}}});a&&c(a);_.defineProperty(c,"promise",function(){return new Promise(function(a){c(a)})});return c},triggerOnce:$restArg(function(){var b=
_.stream({read:function(a){return function(c){0>b.queue.indexOf(c)&&a.call(this,c)}},write:function(a){return a.partial(!0)}}).apply(this,arguments);return b}),trigger:$restArg(function(){return _.stream({read:_.identity,write:function(b){return b.partial(!1)}}).apply(this,arguments)}),off:function(b,a){b.queue&&(1===arguments.length?b.queue.off():b.queue.off(a));b.queuedBy&&(_.each(b.queuedBy,function(a){a.remove(b)}),delete b.queuedBy)},stream:function(b){b=b||{};var a=_.extend([],{off:function(a){this.length&&
(0===arguments.length?(_.each(this,function(a){a.queuedBy.remove(this)},this),this.removeAll()):a.queuedBy&&(a.queuedBy.remove(this),this.remove(a)))}}),c=void 0,d=b.write(function(b,d){var e=_.rest(arguments),n=c.context||this,l=a.copy;b&&a.off();c.commitingReads=!0;for(var m=0,q=l.length;m<q;m++)(c.postpones?l[m].postponed:l[m]).apply(n,e);delete c.commitingReads}),e=b.read(function(b){0>a.indexOf(b)&&(b.queuedBy?b.queuedBy.push(a):b.queuedBy=[a],a.push(b))});return c=_.extend($restArg(function(a){_.isFunction(a)?
e.call(this,a):d.apply(this,arguments);return arguments.callee}),b,{queue:a,once:function(b){_.find(a,function(a){return a.onceWrapped_===b})||e(_.extend(function(a){_.off(c,arguments.callee);b(a)},{onceWrapped_:b}))},off:_.off.asMethod,read:e,write:d,postpone:function(){this.postponed.apply(c.context,arguments)}})}});_.observable.map=function(b,a){a=a||_.identity;var c=_.isArray(b)?Array(b.length):{},d=_.observable(c);_.each(b,function(b,f){b(function(b){c[f]=a(b,f);d.force(c)})});return d};_.observable.all=
_.observable.map},function(l,m){_.hasOOP=!0;_("property static final alias memoized private builtin hidden testArguments".split(" ")).each(Tags.define);$prototype=function(b,a){return $prototype.impl.compile.apply($prototype.impl,1<arguments.length?_.asArray(arguments).reverse():arguments)};$extends=function(b,a){return $prototype(b,a||{})};$mixin=function(b,a){return $prototype.impl.compileMixin(_.extend(a,{constructor:b}))};_.extend($prototype,{isConstructor:function(b){return _.isPrototypeConstructor(b)},
macro:function(b,a){1===arguments.length?$prototype.impl.alwaysTriggeredMacros.push(b):$prototype.impl.memberNameTriggeredMacros[b]=a},macroTag:function(b,a){Tags.define(b);$prototype.impl.tagTriggeredMacros["$"+b]=a},each:function(b){var a=$global,c;for(c in a)if("$"!==c[0]){var d=a[c];$prototype.isConstructor(d)&&b(d,c)}},defines:function(b,a){return _.find($prototype.inheritanceChain(b),function(b){return b.$definition&&b.$definition.hasOwnProperty(a)||!1})?!0:!1},inheritanceChain:function(b){for(var a=
[];b;)a.push(b),b=b.$base&&b.$base.constructor;return a},wrapMethods:function(b,a){return Tags.map(b,function(b,d,e){return _.isFunction(b)?a(b,d,e).wraps(b):b})},impl:{alwaysTriggeredMacros:[],memberNameTriggeredMacros:{},tagTriggeredMacros:{},compile:function(b,a){var c=a&&a.$impl||this;return $untag(c.sequence(b,a).call(c,b||{}).constructor)},sequence:function(b,a){return _.sequence(this.extendWithTags,this.flatten,this.generateCustomCompilerImpl(a),this.generateArgumentContractsIfNeeded,this.ensureFinalContracts(a),
this.generateConstructor(a),this.evalAlwaysTriggeredMacros(a),this.evalMemberTriggeredMacros(a),this.contributeTraits(a),this.evalPrototypeSpecificMacros(a),this.generateBuiltInMembers(a),this.callStaticConstructor,this.expandAliases,this.groupMembersByTagForFastEnumeration,this.defineStaticMembers,this.defineInstanceMembers)},compileMixin:function(b){return _.sequence(this.flatten,this.contributeTraits(),this.expandAliases,this.evalMemberTriggeredMacros(),this.defineStaticMembers,this.defineInstanceMembers).call(this,
b||{}).constructor},flatten:function(b){var a=_.pick(b,this.isTagGroup),a=_.object(_.flatten(_.map(a,function(a,b){return _.map(this.flatten(a),function(a,c){return[c,$global[b](a)]})},this),!0));b=_.omit(b,this.isTagGroup);return _.extend(b,a)},evalAlwaysTriggeredMacros:function(b){return function(a){for(var c=$prototype.impl.alwaysTriggeredMacros,d=0,e=c.length;d<e;d++)a=c[d](a,b)||a;return a}},evalMemberTriggeredMacros:function(b){return function(a){var c=$prototype.impl.memberNameTriggeredMacros,
d=$prototype.impl.tagTriggeredMacros;_.each(a,function(e,f){c.hasOwnProperty(f)&&(a=c[f](a,e,f,b)||a);_.each(_.keys(e),function(c){d.hasOwnProperty(c)&&(a=d[c](a,e,f,b)||a)})});return a}},evalPrototypeSpecificMacros:function(b){return function(a){if(!a.isTraitOf){var c=$untag(a.$macroTags||b&&b.$definition&&b.$definition.$macroTags);c&&this.applyMacroTags(c,a)}return a}},applyMacroTags:function(b,a){_.each(a,function(c,d){_.each(b,function(b,f){c=a[d];_.isObject(c)&&"$"+f in c&&(a[d]=b.call(a,a,c,
d)||c)},this)},this);return a},generateCustomCompilerImpl:function(b){return function(a){a.$impl?(a.$impl=_.extend(Object.create(b&&b.$impl||this),a.$impl),a.$impl=$static($builtin($property(a.$impl)))):b&&b.$impl&&(a.$impl=$static($builtin($property(b.$impl))));return a}},generateArgumentContractsIfNeeded:function(b){return b.$testArguments?$prototype.wrapMethods(b,function(a,b){return function(){var d=_.asArray(arguments);$assertArguments(d.copy,a.original,b);return a.apply(this,d)}}):b},contributeTraits:function(b){return function(a){if(a.$traits){var c=
a.$traits;this.mergeTraitsMembers(a,c,b);a.$traits=$static($builtin($property(c)));a.hasTrait=$static($builtin(function(a){return 0<=c.indexOf(a)}))}return a}},mergeTraitsMembers:function(b,a,c){_.each(a,function(a){_.defaults(b,_.omit(a.$definition,_.or($builtin.matches,_.key(_.equals("constructor")))))})},extendWithTags:function(b){return _.extendWith($untag(b),_.mapObject(Tags.get(b),$static.arity1))},callStaticConstructor:function(b){b.isTraitOf||(_.each($untag(b.$traits),function(a){a.$definition.$constructor&&
$untag(a.$definition.$constructor).call(b)}),b.$constructor&&$untag(b.$constructor).call(b));return b},generateConstructor:function(b){return function(a){return _.extend(a,{constructor:Tags.modify(a.hasOwnProperty("constructor")?a.constructor:this.defaultConstructor(b),function(a){b&&(a.prototype=Object.create(b.prototype),a.prototype.constructor=a);return a})})}},generateBuiltInMembers:function(b){return function(a){a.$constructor&&(a.$constructor=$builtin($static(a.$constructor)));return _.defaults(a,
{$base:$builtin($static($property(_.constant(b&&b.prototype)))),$definition:$builtin($static($property(_.constant(_.extend({},b&&b.$definition,a))))),isTypeOf:$builtin($static(_.partial(_.isTypeOf,$untag(a.constructor)))),isInstanceOf:$builtin(function(a){return _.isTypeOf(a,this)}),$:$builtin($prototype.impl.$)})}},$:function(b){return _.$.apply(null,[this].concat(_.asArray(arguments)))},defaultConstructor:function(b){return b?function(){b.prototype.constructor.apply(this,arguments)}:function(a){_.extend(this,
a||{})}},defineStaticMembers:function(b){this.defineMembers($untag(b.constructor),_.pick(b,$static.matches));return b},defineInstanceMembers:function(b){this.defineMembers($untag(b.constructor).prototype,_.omit(b,$static.matches));return b},defineMembers:function(b,a){_.each(a,function(c,d){"constructor"!==d&&a.hasOwnProperty(d)&&this.defineMember(b,c,d)},this)},defineMember:function(b,a,c){a&&a.$property?a.$memoized?_.defineMemoizedProperty(b,c,a):_.defineProperty(b,c,a,a.$hidden?{enumerable:!1}:
{}):(a=$untag(a),b[c]=a)},ensureFinalContracts:function(b){return function(a){if(b){if(b.$final)throw Error("Cannot derive from $final-marked prototype");if(b.$definition){var c=_.intersection(_.keys(_.pick(b.$definition,$final.matches)),_.keys(a));if(c.length)throw Error("Cannot override $final "+c.join(", "));}}return a}},expandAliases:function(b){_.each(b,function(a,c){b[c]=this.resolveMember(b,c,a)[1]},this);return b},resolveMember:function(b,a,c){c=c||b[a];if($alias.is(c)){b=this.resolveMember(b,
$untag(c));var d=b[0];b=b[1];return[d,$property.is(c)?$property({get:function(){return this[d]},set:function(a){this[d]=a}}):Tags.extend(b,Tags.omit(c,"$alias"))]}return[a,c]},groupMembersByTagForFastEnumeration:function(b){var a={};_.each(b,function(b,d){Tags.each(b,function(e){(a[e]=a[e]||{})[d]=b})});b.$membersByTag=$static($builtin($property(a)));return b},isTagGroup:function(b,a){var c=$untag(b);return"$"===a[0]&&_.isFunction($global[a])&&"object"===typeof c&&!_.isArray(c)},modifyMember:function(b,
a){return $property.is(b)&&Tags.modify(b,function(b){return _.extend(b,_.map2(_.pick(b,"get","set"),a))})||_.isFunction($untag(b))&&Tags.modify(b,a)||b}}});_.isTraitOf=function(b,a){var c=a&&a.constructor;return c&&c.hasTrait&&c.hasTrait(b)||!1};_.isTypeOf=_.or(_.isTypeOf,_.isTraitOf);$trait=function(b,a){var c=void 0,d=_.extend(1<arguments.length?a:b,{constructor:_.throwsError("Traits are not instantiable (what for?)"),isTraitOf:$static($builtin(function(a){return _.isTraitOf(c,a)}))});return c=
$prototype.impl.compile(d,1<arguments.length?b:a)};$prototype.macro("$macroTags",function(b,a,c){_.each($untag(a),function(a,b){Tags.define(b)})});_.$=function(b,a){return _.rest(arguments,2).length?_.bind.apply(void 0,[a,b].concat(_.rest(arguments,2))):_.withSameArgs(a,function(){return a.apply(b,arguments)})};$global.$const=function(b){return $static($property(b))};Tags.define("callableAsFreeFunction");$prototype.macroTag("callableAsFreeFunction",function(b,a,c){b.constructor[c]=$untag(a).asFreeFunction;
return b});Tags.define("callableAsMethod");$prototype.macroTag("callableAsMethod",function(b,a,c){b[c]=Tags.modify(a,_.asMethod);b.constructor[c]=$untag(a);return b});$singleton=function(b,a){return new ($prototype.apply(null,arguments))}},function(l,m,b){Math.clamp=_.clamp=function(a,b,d){return Math.max(b,Math.min(d,a))};Math.lerp=_.lerp=function(a,b,d){return b+(d-b)*a};Math.rescale=_.rescale=function(a,b,d,e){a=(a-b[0])/(b[1]-b[0]);return _.lerp(e&&e.clamp?_.clamp(a,0,1):a,d[0],d[1])};Math.rescaleClamped=
_.rescaleClamped=function(a,b,d){return _.rescale(a,b,d,{clamp:!0})};Math.sqr=_.sqr=function(a){return a*a};Math.sign||(Math.sign=function(a){return 0>a?-1:0<a?1:0});Intersect={rayCircle:function(a,b,d,e){var f=a.sub(d);d=b.dot(b);var h=2*f.dot(b);e=f.dot(f)-e*e;f=h*h-4*d*e;if(!(0>f)){f=Math.sqrt(f);e=(-h-f)/(2*d);d=(-h+f)/(2*d);if(0<=e&&1>=e)return{time:e,where:a.add(b.scale(e))};if(0<=d&&1>=d)return{time:d,where:a.add(b.scale(d)),insideOut:!0}}}};Vec2=$prototype({$static:{xx:function(a){return new Vec2(a,
a)},xy:function(a,b){return new Vec2(a,b)},x:function(a){return new Vec2(a,0)},y:function(a){return new Vec2(0,a)},zero:$property(function(){return new Vec2(0,0)}),unit:$property(function(){return new Vec2(1,1)}),one:$alias("unit"),lt:$alias("fromLT"),wh:$alias("fromWH"),fromLT:function(a){return a&&new Vec2(a.left,a.top)},fromWH:function(a){return a&&new Vec2(a.width,a.height)},fromLeftTop:$alias("fromLT"),fromWidthHeight:$alias("fromWH"),lerp:function(a,b,d){return new Vec2(_.lerp(a,b.x,d.x),_.lerp(a,
b.y,d.y))},clamp:function(a,b,d){return new Vec2(_.clamp(a.x,b.x,d.x),_.clamp(a.y,b.y,d.y))}},constructor:function(a,b){1===arguments.length?_.isNumber(a)?this.x=this.y=a:(this.x=a.x,this.y=a.y):(this.x=a,this.y=b)},w:$alias($property("x")),h:$alias($property("y")),width:$alias($property("x")),height:$alias($property("y")),length:$property(function(){return Math.sqrt(this.lengthSquared)}),lengthSquared:$property(function(){return this.x*this.x+this.y*this.y}),distance:function(a){return this.sub(a).length},
aspect:$property(function(){return this.x/this.y}),add:function(a,b){return void 0===b?"number"===typeof a?new Vec2(this.x+a,this.y+a):new Vec2(this.x+a.x,this.y+a.y):new Vec2(this.x+a,this.y+b)},aspect:$property(function(){return this.w/this.h}),dot:function(a){return this.x*a.x+this.y*a.y},sub:function(a){return new Vec2(this.x-a.x,this.y-a.y)},scale:function(a,b){return new Vec2(this.x*a,this.y*(void 0===b?a:b))},mul:function(a){return new Vec2(this.x*a.x,this.y*a.y)},divide:function(a){return new Vec2(this.x/
a.x,this.y/a.y)},normal:$property(function(){return this.scale(1/this.length)}),perp:$property(function(){return new Vec2(this.y,-this.x)}),half:$property(function(){return new Vec2(.5*this.x,.5*this.y)}),inverse:$property(function(){return new Vec2(-this.x,-this.y)}),asArray:$property(function(){return[this.x,this.y]}),asLeftTop:$property(function(){return{left:this.x,top:this.y}}),asLeftTopMargin:$property(function(){return{marginLeft:this.x,marginTop:this.y}}),asWidthHeight:$property(function(){return{width:this.x,
height:this.y}}),asTranslate:$property(function(){return"translate("+this.x+" "+this.y+")"}),separatedWith:function(a){return this.x+a+this.y},floor:$property(function(){return new Vec2(Math.floor(this.x),Math.floor(this.y))}),sum:$static(function(a){return _.reduce(_.isArray(a)&&a||_.asArray(arguments),function(a,b){return a.add(b||Vec2.zero)},Vec2.zero)}),projectOnCircle:function(a,b){return a.add(this.sub(a).normal.scale(b))},projectOnLineSegment:function(a,b){var d=b.sub(a),e=d.lengthSquared;
if(0==e)return a;e=this.sub(a).dot(d)/e;return 0>e?a:1<e?b:a.add(d.scale(e))},projectOnRay:function(a,b){var d=b.lengthSquared;return 0==d?0:this.sub(a).dot(b)/d}});$jscomp.initSymbol();"undefined"!==typeof Symbol&&($jscomp.initSymbol(),Vec2.prototype[Symbol["for"]("String.ify")]=function(){return"{"+this.x+","+this.y+"}"});Bezier={cubic:function(a,b,d,e,f){var h=a*a*a,k=a*a,n=3*(d.x-b.x),l=3*(d.y-b.y),m=3*(e.x-d.x)-n;d=3*(e.y-d.y)-l;return new Vec2((f.x-b.x-n-m)*h+m*k+n*a+b.x,(f.y-b.y-l-d)*h+d*k+
l*a+b.y)},cubic1D:function(a,b,d,e,f){return Bezier.cubic(a,Vec2.zero,new Vec2(b,d),new Vec2(e,f),Vec2.one).y},make:{cubic:function(a,b,d,e){return function(f){return Bezier.cubic(f,a,b,d,e)}},cubic1D:function(a,b,d,e){return function(f){return Bezier.cubic1D(f,a,b,d,e)}}}};BBox=$prototype({$static:{zero:$property(function(){return new BBox(0,0,0,0)}),unit:$property(function(){return new BBox(0,0,1,1)}),rect:$property(function(a){return new BBox(0,0,a,a)}),fromLeftTopAndSize:function(a,b){return BBox.fromLTWH({left:a.x,
top:a.y,width:b.x,height:b.y})},fromLTWH:function(a,b,d,e){return 1===arguments.length?a&&BBox.fromLTWH(a.left,a.top,a.width,a.height):new BBox(a+d/2,b+e/2,d,e)},fromLTRB:function(a,b,d,e){return 1===arguments.length?a&&BBox.fromLTRB(a.left,a.top,a.right,a.bottom):new BBox(_.lerp(.5,a,d),_.lerp(.5,b,e),d-a,e-b)},fromSizeAndCenter:function(a,b){return new BBox(b.x-a.x/2,b.y-a.y/2,a.x,a.y)},fromSize:function(a,b){return b?new BBox(-a/2,-b/2,a,b):new BBox(-a.x/2,-a.y/2,a.x,a.y)},fromPoints:function(a){var b=
Number.MAX_VALUE,d=Number.MAX_VALUE,e=Number.MIN_VALUE,f=Number.MIN_VALUE;_.each(a,function(a){b=Math.min(a.x,b);d=Math.min(a.y,d);e=Math.max(a.x,e);f=Math.max(a.y,f)});return BBox.fromLTRB(b,d,e,f)}},constructor:function(a,b,d,e){4==arguments.length?(this.x=a,this.y=b,this.width=d,this.height=e):_.extend(this,a)},classifyPoint:function(a){a=_.extend(a.x>this.right?{right:!0}:{},a.x<this.left?{left:!0}:{},a.y>this.bottom?{bottom:!0}:{},a.y<this.top?{top:!0}:{});return _.extend(a,a.left||a.right||
a.bottom||a.top?{}:{inside:!0})},classifyRay:function(a,b,d){var e=this.size.half,f,h,k,n,l,m;f=1/b.x;h=1/b.y;l=Math.sign(f);m=Math.sign(h);k=(this.x-l*e.x-a.x)*f;n=(this.y-m*e.y-a.y)*h;f*=this.x+l*e.x-a.x;e=(this.y+m*e.y-a.y)*h;if(!(k>e||n>f||(h=k>n?k:n,1<=h||0>=(f<e?f:e))))return f={time:_.clamp(h,0,1)},f.normal=k>n?new Vec2(-l,0):new Vec2(0,-m),f.delta=b.scale(f.time),f.where=a.add(f.delta),d&&(k=this.grow(-d),f.where.x>k.right?f.where.y<k.top?f=Intersect.rayCircle(a,b,k.rightTop,d):f.where.y>
k.bottom&&(f=Intersect.rayCircle(a,b,k.rightBottom,d)):f.where.x<k.left&&(f.where.y<k.top?f=Intersect.rayCircle(a,b,k.leftTop,d):f.where.y>k.bottom&&(f=Intersect.rayCircle(a,b,k.leftBottom,d))),f&&f.insideOut&&(f.where=a)),f},nearestPointTo:function(a,b){var d=b||0,e=new Vec2(this.left,this.top),f=new Vec2(this.right,this.top),h=new Vec2(this.right,this.bottom),k=new Vec2(this.left,this.bottom),d=[a.projectOnLineSegment(e.add(d,0),f.add(-d,0)),a.projectOnLineSegment(f.add(0,d),h.add(0,-d)),a.projectOnLineSegment(h.add(-d,
0),k.add(d,0)),a.projectOnLineSegment(k.add(0,-d),e.add(0,d)),a.projectOnCircle(e.add(d,d),d),a.projectOnCircle(f.add(-d,d),d),a.projectOnCircle(h.add(-d,-d),d),a.projectOnCircle(k.add(d,-d),d)];return _.min(d,function(b){return a.sub(b).length})},xywh:$property(function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}),ltwh:$property(function(){return{left:this.left,top:this.top,width:this.width,height:this.height}}),union:function(a){return BBox.fromLTRB(Math.min(this.left,a.left),
Math.min(this.top,a.top),Math.max(this.right,a.right),Math.max(this.bottom,a.bottom))},centerIn:function(a){return new BBox(a.x,a.y,this.width,this.height)},clone:$property(function(){return new BBox(this.x,this.y,this.width,this.height)}),floor:$property(function(){return new BBox.fromLTRB(Math.floor(this.left),Math.floor(this.top),Math.floor(this.right),Math.floor(this.bottom))}),css:$property(function(){return{left:this.left+"px",top:this.top+"px",width:this.width+"px",height:this.height+"px"}}),
leftTop:$property(function(){return new Vec2(this.left,this.top)}),leftBottom:$property(function(){return new Vec2(this.left,this.bottom)}),rightBottom:$property(function(){return new Vec2(this.right,this.bottom)}),rightTop:$property(function(){return new Vec2(this.right,this.top)}),left:$property(function(){return this.x-this.width/2}),right:$property(function(){return this.x+this.width/2}),top:$property(function(){return this.y-this.height/2}),bottom:$property(function(){return this.y+this.height/
2}),center:$property(function(){return new Vec2(this.x,this.y)}),extent:$alias("size"),size:$property(function(){return new Vec2(this.width,this.height)}),offset:function(a){return new BBox(this.x+a.x,this.y+a.y,this.width,this.height)},newWidth:function(a){return new BBox(this.x-(a-this.width)/2,this.y,a,this.height)},grow:function(a){return new BBox(this.x,this.y,this.width+2*a,this.height+2*a)},shrink:function(a){return this.grow(-a)},mul:function(a){return new BBox(this.x*a,this.y*a,this.width*
a,this.height*a)},area:$property(function(){return Math.abs(this.width*this.height)}),intersects:function(a){return!(this.right<a.left||this.left>a.right||this.bottom<a.top||this.top>a.bottom)}});$jscomp.initSymbol();"undefined"!==typeof Symbol&&($jscomp.initSymbol(),BBox.prototype[Symbol["for"]("String.ify")]=function(){return"{ "+this.left+","+this.top+" \u2190\u2192 "+this.right+","+this.bottom+" }"});Transform=$prototype({$static:{identity:$property(function(){return new Transform}),svgMatrix:function(a){return new Transform([[a.a,
a.c,a.e],[a.b,a.d,a.f],[0,0,1]])},translation:function(a){return new Transform([[1,0,a.x],[0,1,a.y],[0,0,1]])}},constructor:function(a){this.components=a||[[1,0,0],[0,1,0],[0,0,1]]},multiply:function(a){var b=[[0,0,0],[0,0,0],[0,0,0]],d,e,f=this.components,h=a.components;for(a=0;3>a;a++)for(d=0;3>d;d++)for(e=0;3>e;e++)b[a][d]+=f[a][e]*h[e][d];return new Transform(b)},translate:function(a){return this.multiply(Transform.translation(a))},scale:function(a){return this.multiply(new Transform([[a,0,0],
[0,a,0],[0,0,1]]))},inverse:$property($memoized(function(){var a=this.components,b=1/(a[0][0]*(a[1][1]*a[2][2]-a[2][1]*a[1][2])-a[0][1]*(a[1][0]*a[2][2]-a[1][2]*a[2][0])+a[0][2]*(a[1][0]*a[2][1]-a[1][1]*a[2][0]));return new Transform([[(a[1][1]*a[2][2]-a[2][1]*a[1][2])*b,-(a[0][1]*a[2][2]-a[0][2]*a[2][1])*b,(a[0][1]*a[1][2]-a[0][2]*a[1][1])*b],[(a[1][0]*a[2][2]-a[1][2]*a[2][0])*b,(a[0][0]*a[2][2]-a[0][2]*a[2][0])*b,-(a[0][0]*a[1][2]-a[1][0]*a[0][2])*b],[(a[1][0]*a[2][1]-a[2][0]*a[1][1])*b,-(a[0][0]*
a[2][1]-a[2][0]*a[0][1])*b,(a[0][0]*a[1][1]-a[1][0]*a[0][1])*b]])})),unproject:function(a){var b=this.components;return new Vec2(a.x*b[0][0]+a.y*b[0][1]+b[0][2],a.x*b[1][0]+a.y*b[1][1]+b[1][2])},project:function(a){return this.inverse.unproject(a)}});_.rng=function(a,b,d){var e=a,f=987654321;return function(){f=36969*(f&65535)+(f>>16)&4294967295;e=18E3*(e&65535)+(e>>16)&4294967295;var a=(f<<16)+e&4294967295,a=a/4294967296+.5;return void 0===b&&void 0===d?a:Math.round(b+a*(d-b))}};_.equalDistribution=
function(a,b){var d=a/b,e=0;return _.times(b,function(){var a=Math.round(e),b=Math.round(e+=d);return Math.floor(b-a)})};_.ptInRect=function(a,b){return a.x>=b.left&&a.y>=b.top&&a.x<b.right&&a.y<b.bottom};_.hue2CSS=function(a,b){return _.RGB2CSS(_.hue2RGB(a),b)};_.HSL2CSS=function(a,b){return _.RGB2CSS(_.HSL2RGB(a),b)};_.HSL2RGB=function(a){var b=a[1],d=a[2];a=_.hue2RGB(a[0]);b*=1-Math.abs(2*d-1);return[(a[0]-.5)*b+d,(a[1]-.5)*b+d,(a[2]-.5)*b+d]};_.hue2RGB=function(a){return[Math.max(0,Math.min(1,
Math.abs(6*a-3)-1)),Math.max(0,Math.min(1,2-Math.abs(6*a-2))),Math.max(0,Math.min(1,2-Math.abs(6*a-4)))]};_.RGB2CSS=function(a,b){return"rgba("+Math.round(255*a[0])+","+Math.round(255*a[1])+","+Math.round(255*a[2])+","+(void 0===b?void 0===a[3]?1:a[3]:b)+")"};_.RGB2HSL=function(a,b){var d=a[0],e=a[1],f=a[2],h=void 0===b?a[3]:b,k=Math.max(d,e,f),l=Math.min(d,e,f),p,m=(k+l)/2;if(k==l)p=l=0;else{var q=k-l,l=.5<m?q/(2-k-l):q/(k+l);switch(k){case d:p=(e-f)/q+(e<f?6:0);break;case e:p=(f-d)/q+2;break;case f:p=
(d-e)/q+4}p/=6}return void 0===h?[p,l,m]:[p,l,m,h]};_.extend(Math,function(a){return{roundTo:function(a,b){return a-a%b},round10:function(b,d){return a("round",b,d)},floor10:function(b,d){return a("floor",b,d)},ceil10:function(b,d){return a("ceil",b,d)}}}(function(a,b,d){if("undefined"===typeof d||0===+d)return Math[a](b);b=+b;d=+d;if(isNaN(b)||"number"!==typeof d||0!==d%1)return NaN;b=b.toString().split("e");b=Math[a](+(b[0]+"e"+(b[1]?+b[1]-d:-d)));b=b.toString().split("e");return+(b[0]+"e"+(b[1]?
+b[1]+d:d))}));(function(){var a=b(23);Array.prototype.topoSort=function(){return a(this)}})();Array.prototype.topoMerge=function(){for(var a=[],b=0,d=this.length;b<d;b++)for(var e=this[b],f=0,h=e.length-1;f<h;f++)a.push([e[f],e[f+1]]);return a.topoSort()};DAG=function(a){this.cfg=a||{};this.nodes=a.nodes||_.noop};DAG.prototype.each=function(a,b,d,e){e=e||new Set;if(!e.has(a)){e.add(a);var f=this,h=this.nodes(a)||[];!0!==b.call(this,a,{nodes:h,prev:d,visited:e})&&h.forEach(function(d){f.each(d,b,
a,e)})}return e};DAG.prototype.edges=function(a){var b=[];this.each(a,function(a,e){e.nodes.concat(a).reduce(function(a,d){b.push([a,d]);return d})});return b};DAG.prototype.sortedSubgraphOf=function(a){return this.edges(a).topoSort().remove(a)};DAG.sortedSubgraphOf=function(a,b){return(new DAG(b)).sortedSubgraphOf(a)}},function(l,m){function b(a,b){function d(k,l,m){if(0<=m.indexOf(k))throw Error("Cyclic dependency: "+JSON.stringify(k));if(!~a.indexOf(k))throw Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+
JSON.stringify(k));if(!h[l]){h[l]=!0;var q=b.filter(function(a){return a[0]===k});if(l=q.length){m=m.concat(k);do{var r=q[--l][1];d(r,a.indexOf(r),m)}while(l)}f[--e]=k}}for(var e=a.length,f=Array(e),h={},k=e;k--;)h[k]||d(a[k],k,[]);return f}l.exports=m=function(a){for(var c=[],d=0,e=a.length;d<e;d++){var f=a[d];0>c.indexOf(f[0])&&c.push(f[0]);0>c.indexOf(f[1])&&c.push(f[1])}return b(c,a)};m.array=b},function(l,m){Parse={keyCodeAsString:function(b){return String.fromCharCode(96<=b&&105>=b?b-48:b)},
fileName:function(b){return _.first(_.last(b.split(/\\|\//)).split("."))}}},function(l,m){Sort={Ascending:1,Descending:-1,strings:function(b,a){b=$.trim(b).toLowerCase();a=$.trim(a).toLowerCase();return 0==b.length&&0<a.length?1:0<b.length&&0==a.length?-1:b==a?0:b<a?-1:1},numbers:function(b,a){return isNaN(b)&&isNaN(a)?0:isNaN(b)?-1:isNaN(a)?1:b<a?-1:b>a?1:0},generic:function(b,a){return b||a?b?a?b<a?-1:b>a?1:0:1:-1:0},inverse:function(b){return function(a,c){return-b(a,c)}},field:function(b,a,c){return function(d,
e){return a(d[b],e[b])*c}}}},function(l,m){Lock=$prototype({acquire:function(b){this.wait(this.$(function(){this.waitQueue||(this.waitQueue=[]);b()}))},acquired:function(){return void 0!==this.waitQueue},wait:function(b){this.acquired()?this.waitQueue.push(b):b()},release:function(){if(this.waitQueue.length){var b=_.first(this.waitQueue);this.waitQueue=_.rest(this.waitQueue);b()}else delete this.waitQueue}});_.interlocked=function(b){var a=new Lock;b=$untag(b);return _.extendWith({lock:a,wait:a.$(a.wait)},
function(){var c=this,d=arguments;return new Promise(function(e){a.acquire(function(){__.then(b.apply(c,d),function(b){a.release();e(b)})})})})};$global.$scope=function(b){var a=void 0;return _.argumentPrependingWrapper(Tags.unwrap(b),function(b){var d={when:void 0};(a=a||[]).push(d);b(function(b){if(d.when)throw Error("$scope: release called twice");for(d.when=b;a&&a.last&&a.last.when;)b=a.last.when,(a=_.initial(a)).isEmpty&&(a=void 0),b()})})};$platform.NodeJS&&(l.exports=_)},function(l,m){$global.$component=
function(b){return $extends(Component,b)};_("extendable trigger triggerOnce barrier bindable memoize interlocked memoizeCPS debounce throttle overrideThis listener postpones reference raw binds observes".split(" ")).each(Tags.define);(function(){var b=function(a){return function(b,d){return _.isFunction(b)&&1===arguments.length?a(b,d):a(d,b)}};Tags.define("observableProperty",b);Tags.define("observable",b)})();$global.$observableRef=function(b){return $observableProperty($reference(b))};$prototype.macro("$depends",
function(b,a,c){b.$depends=$builtin($const(_.coerceToArray(a)));return b});$prototype.macroTag("extendable",function(b,a,c){b[c]=$builtin($const(a));return b});Component=$prototype({$defaults:$extendable({}),$requires:$extendable({}),$macroTags:$extendable({}),$impl:{sequence:function(b,a){return _.sequence(this.extendWithTags,this.flatten,this.generateCustomCompilerImpl(a),this.generateArgumentContractsIfNeeded,this.ensureFinalContracts(a),this.generateConstructor(a),this.evalAlwaysTriggeredMacros(a),
this.evalMemberTriggeredMacros(a),this.expandTraitsDependencies,this.mergeExtendables(a),this.contributeTraits(a),this.mergeStreams,this.mergeBindables,this.generateBuiltInMembers(a),this.callStaticConstructor,this.expandAliases,this.groupMembersByTagForFastEnumeration,this.defineStaticMembers,this.defineInstanceMembers)},expandTraitsDependencies:function(b){_.isNonempty($untag(b.$depends))&&_.isEmpty($untag(b.$traits))&&(b.$traits=DAG.sortedSubgraphOf(b,{nodes:function(a){return $untag(a.$depends)}}));
return b},mergeExtendables:function(b){return function(a){_.each(b.$definition,function(b,d){b&&b.$extendable&&(a[d]=Tags.modify(b,function(b){b=_.extendedDeep(b,$untag(a[d]||{}));_.each($untag(a.$traits),function(c){if(!c)throw log.e(a.$traits),Error("invalid $traits value");(c=c.$definition[d])&&(b=_.extendedDeep($untag(c),b))});return b}))});return a}},mergeTraitsMembers:function(b,a){var c={},d={},e={},f=$untag(b.$macroTags),h=_.pluck(a,"$definition").concat(_.clone(b));_.each(h,function(a){_.each(f&&
this.applyMacroTags(f,_.extend(_.clone(a),{constructor:b.constructor}))||a,function(a,f){$builtin.isNot(a)&&$builtin.isNot(b[f])&&"constructor"!==f&&($bindable.is(a)&&(d[f]=a),Component.isStreamDefinition(a)&&(e[f]=a),(c[f]||(c[f]=[])).push(a),b[f]=a)})},this);b.__bindables=d;b.__streams=e;b.__membersByName=c},mergeStreams:function(b){var a=b.__membersByName;_.each(b.__streams,function(c,d){var e=b[d]=Tags.clone(c);e.listeners=[];_.each(a[d],function(a){a!==c&&e.listeners.push($untag(a))})});return b},
mergeBindables:function(b){var a=b.__membersByName;_.each(b.__bindables,function(c,d){var e=_.filter2(_.bindable.hooks,function(b,c){var e=a[_.bindable.hooksShort[c]+d.capitalized];return e?[b,e]:!1});if(e.length){var f={};_.each(e,function(a){_.each(a[1],function(b){b=$untag(b);if(_.isFunction(b)){var c="_"+a[0];(f[c]||(f[c]=[])).push(b)}})});b[d]=$bindable({hooks:f},Tags.clone(c))}},this);return b}},isStreamDefinition:$static(function(b){return _.isObject(b)&&(b.$trigger||b.$triggerOnce||b.$barrier||
b.$observable||b.$observableProperty)}),mapMethods:function(){var b=_.last(arguments),a=1===arguments.length?_.constant(!0):arguments[0],c;for(c in this){var d=this.constructor.$definition[c];if(!d||!d.$property){var e=this[c];_.isFunction(e)&&!_.isPrototypeConstructor(e)&&a(d)&&(this[c]=b.call(this,e,c,d)||e)}}},enumMethods:function(b,a){2===arguments.length?this.mapMethods(b,a.returns(void 0)):this.mapMethods(b.returns(void 0))},constructor:$final(function(b,a){this.parent_=void 0;this.children_=
[];var c=this.cfg="object"===typeof b?b:{},d=this.constructor.$definition;this.constructor.$defaults&&(c=this.cfg=_.extend(_.cloneDeep(this.constructor.$defaults),c));this.mapMethods(function(a,b,c){if(!("$"===b||"init"===b||c&&c.$raw))return this.$(a)});_.onBefore(this,"destroy",this._beforeDestroy);_.onAfter(this,"destroy",this._afterDestroy);var e=[],f={init:!0};_.each(d,function(a,b){if(void 0!==a){if(a.$observableProperty){var d=a.subject,l=b in c?c[b]:d,m=b+"Change",q=f[m]=this[m]=_.observable();
q.context=this;q.postpones=a.$postpones;if(_.isPrototypeInstance(d)){var r=d.constructor;q.beforeWrite=function(a){return r.isTypeOf(a)?a:new r(a)}}a.$reference&&(q.trackReference=!0);_.defineProperty(this,b,{get:function(){return q.value},set:function(a){q.write.call(this,a)}});a.listeners&&_.each(a.listeners,function(a){e.push([q,a])});_.isFunction(a.$observableProperty)&&e.push([q,a.$observableProperty]);void 0!==l&&q(l)}else if(Component.isStreamDefinition(a)){var v=f[b]=this[b]=_.extend((a.$trigger?
_.trigger:a.$triggerOnce?_.triggerOnce:a.$observable?_.observable:a.$barrier?_.barrier:void 0)(a.subject),{context:this,postpones:a.$postpones});a.$reference&&(q.trackReference=!0);a.listeners&&_.each(a.listeners,function(a){e.push([v,a])});_.isFunction(a.$observable)&&e.push([v,a.$observable]);(d=c[b])&&(a.$observable&&d.isObservable?d.tie(v):e.push([v,d]))}a.$listener&&(this[b].queuedBy=[]);a.$interlocked&&(this[b]=_.interlocked(this[b]));a.$bindable&&(this[b]=_.extend(_.bindable(this[b],this),
_.map2(a.$bindable.hooks||{},_.mapsWith(this.$.bind(this).arity1))));a.$debounce&&(d=this[b],l=_.coerceToObject(a.$debounce),this[b]=d.debounced(l.wait||500,l.immediate));a.$throttle&&(d=this[b],l=_.coerceToObject(a.$throttle),this[b]=_.throttle(d,l.wait||500,l));a.$memoize?this[b]=_.memoize(this[b]):a.$memoizeCPS&&(this[b]=_.cps.memoize(this[b]))}},this);this.init=this._beforeInit.then(this.init.then(this._afterInit)).bind(this);_.each(c,function(a,b){b in f||(this[b]=_.isFunction(a)?this.$(a):a)},
this);_.each(d,function(a,b){a&&a.$alias&&!a.$raw&&(this[b]=this[$untag(a)])},this);_.hasAsserts&&_.each(this.constructor.$requires,function(a,b){$assertTypeMatches(_.object([[b,this[b]]]),_.object([[b,a]]))},this);_.each(e,function(a){a[0].call(this,a[1])},this);!1===c.init||this.constructor.$defaults&&!1===this.constructor.$defaults.init||(d=this.init(),d instanceof Promise&&d.panic)}),callChainMethod:function(b){var a=this;return __.seq(_.filter2(this.constructor.$traits||[],function(c){return(c=
c.prototype[b])&&c.bind(a)||!1}))},_beforeInit:function(){if(this.initialized.already)throw Error("Component: I am already initialized. Probably you're doing it wrong.");return this.callChainMethod("beforeInit")},init:function(){},_afterInit:function(){var b=this.cfg,a=this;return __.then(this.callChainMethod.$("afterInit"),function(){a.initialized(!0);a.alive(!0);_.each(a.constructor.$definition,function(c,d){if(c&&c.$observableProperty){d+="Change";var e=b[d];if(e)a[d](e)}});return!0})},initialized:$barrier(),
alive:$observable(!1),_beforeDestroy:function(){if(this.destroyed_)throw Error("Component: I am already destroyed. Probably you're doing it wrong.");if(this.destroying_)throw Error("Component: Recursive destroy() call detected. Probably you're doing it wrong.");this.destroying_=!0;_.each(this.constructor.$traits,function(b){b.prototype.beforeDestroy&&b.prototype.beforeDestroy.call(this)},this);this.alive(!1);this.enumMethods(_.off.arity1);_.each(this.children_,_.method("destroy"));this.children_=
[]},destroy:function(){},_afterDestroy:function(){_.each(this.constructor.$traits,function(b){b.prototype.destroy&&b.prototype.destroy.call(this);b.prototype.afterDestroy&&b.prototype.afterDestroy.call(this)},this);delete this.destroying_;this.parent_=void 0;this.destroyed_=!0},attachedTo:$property(function(){return this.parent_}),attachTo:function(b){if(b===this)throw Error("smells like time-travel paradox.. how else can I be parent of myself?");this.parent_!==b&&(void 0!==this.parent_&&this.parent_.children_.remove(this),
void 0!==(this.parent_=b)&&this.parent_.children_.push(this));return this},detach:function(){return this.attachTo(void 0)},attached:$property(function(){return this.children_}),attach:function(b){_.invoke(_.coerceToArray(b),"attachTo",this);return this},detachAll:function(){_.each(this.children_,function(b){b.parent_=void 0});this.children_=[];return this},destroyAll:function(){_.each(this.children_,function(b){b.parent_=void 0;b.destroy()});this.children_=[];return this}})},function(l,m){R=$singleton({$test:function(){var b=
function(a,b){$assert(a,_.quote(b.str,"//"))};b("/[^\\s]*/",$r.anyOf.except.space.$);b("/\\[.*\\]|[\\s]/",$r.anything.inBrackets.or.oneOf.space.$);var a=$r.expr("before",$r.anything.text("$print").something).then($r.expr("argument",$r.someOf.except.text(",)")).inParentheses.then($r.expr("tail",$r.anything))).$;b("/(.*\\$print.+)\\(([^,\\)]+)\\)(.*)/",a);$assert(a.parse(" var x = $print (blabla) // lalala "),{before:" var x = $print ",argument:"blabla",tail:" // lalala "});$assert([["[^","\\s","]"],
"*"],R.anyOf(R.except(R.space)))},constructor:function(){this.reduce=_.hyperOperator(_.binary,_.reduce2,_.goDeeperAlwaysIfPossible,_.isNonTrivial.and(_.not(this.isSubexpr)));this.initDSL()},expr:function(b,a){a=a||[];return new R.Expr(R.reduce("",b,function(b,d){return R.isSubexpr(d)?(a.push(d),b+R.expr(R.root(d.value),a).str):b+d}),a)},Expr:$prototype({constructor:function(b,a){this.rx=RegExp();this.rx.compile(b);this.str=b;this.subexprs=a},parse:function(b){return(b=b.match(this.rx))&&_.extend.apply(null,
_.zipWith([_.rest(b),this.subexprs],function(a,b){return _.object([[b.name,a]])}))||{}}}),metacharacters:$property(_.index("\\^$.|?*+()[{")),escape:function(b){return _.map(b,function(a){return R.metacharacters[a]?"\\"+a:a}).join("")},text:$alias("escape"),subexpr:function(b,a){return{name:b,value:["(",a,")"]}},maybe:function(b){return[b,"?"]},anyOf:function(b){return[b,"*"]},someOf:function(b){return[b,"+"]},oneOf:function(b){return["[",b,"]"]},except:function(b){return["[^",b,"]"]},or:function(b,
a){return[b,"|",a]},begin:$property("^"),end:$property("$"),space:$property("\\s"),maybeSpaces:$property("\\s*"),spaces:$property("\\s+"),anything:$property(".*"),something:$property(".+"),comma:$property(","),parentheses:function(b){return["\\(",b,"\\)"]},brackets:function(b){return["\\[",b,"\\]"]},isSubexpr:function(b){return _.isStrictlyObject(b)&&!_.isArray(b)?!0:!1},root:function(b){return b&&b.$$?b.$$:b},initDSL:function(){$global.property("$r",function(){return $$r([])});$global["const"]("$$r",
function(b){var a=function(a){b.push(a);return b.forward};_.defineHiddenProperty(b,"then",function(a){b.push(R.root(a));return b});_.defineHiddenProperty(b,"text",function(a){b.push(R.text(a));return b});_.defineHiddenProperty(b,"expr",function(a,d){b.push(R.subexpr(a,R.root(d)));return b});_.defineHiddenProperty(b,"forward",function(){return b.next||((b.next=$r).prev=b).next});_.each(["maybe","anyOf","someOf","oneOf","except"],function(c){_.defineHiddenProperty(b,c,function(){return a(R[c](b.forward))})});
_.each(["parentheses","brackets"],function(a){_.defineHiddenProperty(b,"in"+a.capitalized,function(){return b.$$.prev=$$r(R[a](b.$$))})});_.each(["or"],function(a){_.defineHiddenProperty(b,a,function(){var d=$r;return(d.prev=b.$$.prev=$$r(R[a](b.$$,d))).next=d})});_.each(["begin","end","space","anything","something"],function(c){_.defineHiddenProperty(b,c,function(){return a([R[c],b.forward])})});_.defineHiddenProperty(b,"$$",function(){for(var a=b;a.prev;)a=a.prev;return a});_.defineHiddenProperty(b,
"$",function(){return R.expr(b.$$)});return b})}})},function(l,m){(function(){var b=$r.expr("how",$r.text("before").or.text("after")).expr("name",$r.anything).$;$global.$aspect=function(a,c){var d=Tags.unwrap(_.sequence($prototype.impl.extendWithTags,$prototype.impl.flatten,$prototype.impl.generateArgumentContractsIfNeeded,$prototype.impl.contributeTraits({}),$prototype.impl.expandAliases).call($prototype.impl,c)),e=a.constructor&&a.constructor.$definition;e&&(e.$aspects=e.$aspects||[]).push(d);_.each(d,
function(c,e){if(d.hasOwnProperty(e)&&_.isFunction(c)){var k=b.parse(e),l=k.name&&k.name.decapitalized||e;if(k=k.how&&_["on"+k.how.capitalized]||_.intercept){var m=a[l];m&&_.isFunction(m)&&k(a,l,c);var m=a.prototype,x=m[l];x&&_.isFunction(x)&&k(m,l,c)}}});a.aspectAdded&&a.aspectAdded(d);return d}})()},function(l,m){TimeoutError=$extends(Error,{message:"timeout expired"});__=Promise.eval=function(b){var a=this,c=_.rest(arguments);return b instanceof Promise?b:b instanceof Function?new Promise(function(d){d(b.apply(a,
c))}):Promise.resolve(b)};Promise.coerce=function(b){return b instanceof Promise?b:Promise.resolve(b)};__.noop=function(){return Promise.resolve()};__.eternity=new Promise(function(){});__.identity=function(b){return Promise.resolve(b)};__.constant=function(b){return function(){return Promise.resolve(b)}};__.reject=function(b){return Promise.reject(b)};__.rejects=function(b){return function(){return Promise.reject(b)}};__.then=function(b,a){a=_.coerceToFunction(a);try{var c=b instanceof Function?
b():b;return c instanceof Promise?c.then(a):a(c)}catch(d){return Promise.reject(d)}};__.delay=function(b){return __.delays(b)()};__.delays=function(b){return function(a){return new Promise(function(c){setTimeout(function(){c(a)},b||0)})}};$mixin(Promise,{delay:function(b){return this.then(__.delays(b))},timeout:function(b){return this.race(__.delay(b).reject(new TimeoutError))},now:$property(function(){return this.timeout(0)})});$mixin(Array,{race:$property(function(){return Promise.race(this)})});
$mixin(Promise,{race:function(b){return[this,b].race},firstResolved:$static(function(b){return new Promise(function(a,c){var d=b&&b.length;d?_.each(b,function(b){Promise.coerce(b).then(function(b){d--;a&&(a(b),a=void 0)})["catch"](function(){d--;d||c(null)})}):c(null)})}),reject:function(b){return this.then(_.throwsError(b))},chain:function(b){return this.then(function(a){b(a);return a})},done:function(b){return this.then(function(a){b(null,a);return a},function(a){b(a,null);throw a;})},"finally":function(b){return this.then(function(a){return b(null,
a)},function(a){return b(a,null)})},$callableAsFreeFunction:{$property:{reflect:function(){return this.then(function(b){return b},function(b){return b})}}},log:$property(function(){return this.then(log,log.then(_.throwsError))}),alert:$property(function(){return this.done(alert2,alert2.then(_.throwsError))}),panic:$property(function(){return this["catch"](function(b){_.globalUncaughtExceptionHandler&&_.globalUncaughtExceptionHandler(b);throw b;})}),assert:function(b){return this.then(function(a){$assert(a,
b);return a})},assertTypeMatches:function(b){return this.then(function(a){$assertTypeMatches(a,b);return a})},assertRejected:function(b){var a=0<arguments.length;return this["catch"](function(c){a&&$assert(c,b);return c})}});(function(){var b=$prototype({constructor:function(a){this.maxTime=a&&a.maxTime;this.pending=[];if(this.maxConcurrency=a&&a.maxConcurrency)this.numActive=0,this.queue=[]},run:function(a){var b=this;if(this.numActive>=this.maxConcurrency)return new Promise(function(d){b.queue.push(function(){return b.run(a).then(d)})});
var d=__(a);void 0!==this.maxTime&&(d=d.timeout(this.maxTime));void 0!==this.maxConcurrency&&(b.numActive++,d=d.then(function(a){b.numActive--;return b.queue.length&&b.numActive<b.maxConcurrency?b.queue.shift()().then(_.constant(a)):a}));this.pending.push(d);return d},all:$property(function(){return Promise.all(this.pending)})});__.scatter=function(a,c,d){return __.then(a,function(a){if(_.isStrictlyObject(a)){var f=_.coerceToEmpty(a),h=new b(d);_.each2(a,function(b,d){h.run(c.$(b,d,a)).then(function(a){a&&
(f[a[1]]=a[0])})});return h.all.then(_.constant(f))}return __(c,a,void 0,a).then(function(a){return a[0]})})}})();__.map=function(b,a,c){return __.scatter(b,function(b,c,f){return __.then(a.$(b,c,f),function(a){return[a,c]})},c)};__.filter=function(b,a,c){return __.scatter(b,function(b,c,f){return __.then(a.$(b,c,f),function(a){return!1===a?void 0:!0===a?[b,c]:[a,c]})},c)};__.each=function(b,a){return __.then(b,function(b){return new Promise(function(d,e){_.cps.each(b,function(b,c,d){Promise.coerce(a(b,
c)).then(d)["catch"](e)},d)})})};__.seq=function(b){return _.reduce2(b,__.then)};__.all=function(b){return Promise.all(_.map(b,__))};__.race=function(b){return Promise.race(_.map(b,__))};$mixin(Function,{promisifyAll:$static(function(b,a){a=a||{};var c=a.except||_.noop;c instanceof Array&&(c=c.asSet.matches);var d={},e;for(e in b){var f=b[e];f instanceof Function?(f=f.bind(b),d[e]=c(e)?f:f.promisify):d[e]=f}return d}),promisify:$hidden($property(function(){var b=this;return function(){var a=this,
c=arguments;return new Promise(function(d,e){b.apply(a,_.asArray(c).concat(function(a,b){a&&e(a);d(b)}))})}}))})},function(l,m){$global.Channel=$extends(Promise,{constructor:function(b,a,c){this.after=[];this.state="pending";this.value=void 0;this.transducers={resolve:a&&a.resolve||function(a){return a},reject:a&&a.reject||function(a){throw a;}};if(b instanceof Function)try{b.call(this,this.$(this.resolve),this.$(this.reject))}catch(d){this.reject(d)}else void 0!==b&&this.resolve(b)},_resolve:function(b){this.state=
"resolved";this.value=b;this.after.forEach(function(a){return a.resolve(b)})},_reject:function(b){this.state="rejected";this.value=b;this.after.forEach(function(a){return a.reject(b)})},resolve:function(b,a){var c=this;try{b=(a||this.transducers.resolve)(b),b instanceof Promise?b.then(function(a){return c._resolve(a)},function(a){return c._reject(a)}):this._resolve(b)}catch(d){this._reject(d)}return this},reject:function(b){return this.resolve(b,this.transducers.reject)},then:function(b,a){var c=
new Channel(void 0,{resolve:b,reject:a},this);this.after.push(c);"resolved"===this.state?c.resolve(this.value):"rejected"===this.state&&c.reject(this.value);return c},"catch":function(b){return this.then(void 0,b)}});Channel.all=function(b){return new Channel(function(a){var c=new Set,d=Array(b.length);b.forEach(function(b,f){b.then(function(b){d[f]=b;c.length===d.length?a(d):c.add(f)})})})};Channel.resolve=function(b){return new Channel(function(a){return a(b)})};Channel.reject=function(b){return new Channel(function(a,
c){return c(b)})};$prototype.macroTag("channel",function(b,a,c){var d="_"+c,e=$untag(a);b[c]=Tags.modify(a,function(){return $property({get:function(){return this[d]||(this[d]=new Channel(e))},set:function(a){this[c].resolve(a)}})})})},function(l,m){Http=$singleton(Component,{$traits:[HttpMethods=$trait({get:function(b,a){return this.request("GET",b,a)},post:function(b,a){return this.request("POST",b,a)},loadFile:function(b,a){return this.request("GET",b,{responseType:"arraybuffer"})},uploadFile:function(b,
a,c){return this.post(b,_.extend2({data:a,headers:{"Content-Type":"binary/octet-stream","X-File-Name":Parse.fileName(a.name||"file").transliterate||"file","X-File-Size":a.size,"X-File-Type":a.type}},c))}})],request:function(b,a,c){var d=c||{},e=void 0;c=new Promise(function(c,h){if($platform.Browser){var k=new XMLHttpRequest;k.open(b,(d.protocol||d.hostname||d.port?(d.protocol||window.location.protocol)+"//"+(d.hostname||window.location.hostname)+":"+(d.port||window.location.port):"")+a,!0);d.responseType&&
(k.responseType=d.responseType);_.each(d.headers,function(a,b){k.setRequestHeader(b,a)});d.progress&&(k.onprogress=Http.progressCallbackWithSimulation(d.progress));k.onreadystatechange=function(){if(4===k.readyState){d.progress&&d.progress(1);var a="arraybuffer"===k.responseType?k.response:k.responseText;200===k.status?c(a):h(_.extend(Error(k.statusText),{httpResponse:a,httpStatus:k.status}))}};e=function(){k.abort();h("aborted")};d.data?k.send(d.data):k.send()}else h("not implemented")});return _.extend(c,
{abort:e})},progressCallbackWithSimulation:function(b){var a=0;b(0);return function(c){c.lengthComputable?b(c.loaded/c.total):b(a=1<(a+=.1)?0:a)}}});JSONAPI=$singleton(Component,{$traits:[HttpMethods],request:function(b,a,c){c=_.extend2({headers:{"Cache-Control":"no-cache","Content-Type":"application/json; charset=utf-8"}},c);c.what&&(c.data=JSON.stringify(c.what));var d=_.hasReflection&&$callStack.offset((c.stackOffset||0)+1).asArray;return Http.request(b,"/api/"+a,c)["finally"](function(a,b){if(b)return JSON.parse(b);
if(a){if(a.httpResponse)return JSON.parse(a.httpResponse);throw a;}throw Error("empty response");}).then(function(a){if(a.success)return a.value;if(a.parsedStack)throw _.extend(Error("SERVER: "+a.error),{remote:!0,parsedStack:a.parsedStack.concat(d||[])});throw Error(a.error);})}})},function(l,m){(function(){var b=function(a){return function(){return this.tagName===a}};N=function(a,b){var d=document.createElement(a.uppercase);return b?d.append(b):d};N.text=function(a){return document.createTextNode(a)};
_.each("br p div em a b i u s strong span sup sub button iframe pre img video source h1 h2 h3 h4 h5 textarea input style".split(" "),function(a){var b=a.uppercase;_.defineProperty(N,a,function(){return document.createElement(b)})});N.all=document.querySelectorAll.bind(document);N.one=document.querySelector.bind(document);$mixin(Node,{$:$prototype.impl.$,$callableAsFreeFunction:{$property:{isElement:function(){return this.nodeType===Node.ELEMENT_NODE},isText:function(){return this.nodeType===Node.TEXT_NODE},
isLinebreak:b("BR"),isDiv:b("DIV"),isParagraph:b("P"),isHyperlink:b("A"),isAttachedToDocument:function(){return this.matchUpwards(_.equals(document.body))?!0:!1},forbidsEditing:function(){return this.nodeType===Node.ELEMENT_NODE&&"false"===this.getAttribute("contenteditable")}}},grandParentNode:$property(function(){return this.parentNode&&this.parentNode.parentNode}),isFirstInParent:$property(function(){return this.parentNode&&this.parentNode.firstChild===this}),isLastInParent:$property(function(){return this.parentNode&&
this.parentNode.lastChild===this}),removeFromParent:$callableAsFreeFunction(function(){this.parentNode.removeChild(this);return this}),outerLeftBoundaryIn:function(a){for(var b=this;b.grandParentNode&&b.parentNode!==a&&b.isFirstInParent;)b=b.parentNode;return b},outerRightBoundaryIn:function(a){for(var b=this;b.grandParentNode&&b.parentNode!==a&&b.isLastInParent;)b=b.parentNode;return b},matchUpwards:function(a){for(var b=this;b&&!a(b);)b=b.parentNode;return b},isLeftmostNodeIn:function(a){return a&&
this.matchUpwards(function(b){return b===a||!b.isFirstInParent})===a},isRightmostNodeIn:function(a){return a&&this.matchUpwards(function(b){return b===a||!b.isLastInParent})===a},hasChildren:$property(function(){return this.hasChildNodes()}),noChildren:$property(function(){return!this.hasChildNodes()}),numChildren:$property(function(){return this.childNodes.length}),length:$property(function(){return this.childNodes?this.childNodes.length:this.nodeValue?this.nodeValue.length:0}),safeEnumChildren:function(a,
b){_.each(this.childNodesArray,a,b||this);return this},childNodesArray:$property(function(){return _.asArray(this.childNodes)}),add:$alias("appendChildren"),append:$alias("appendChildren"),appendChildren:function(a,b){for(var d=void 0===b?_.coerceToArray(a):arguments,e=0,f=d.length;e<f;e++){var h=d[e];this.appendChild(_.isString(h)?document.createTextNode(h):h)}return this},removeChildren:function(a){a=_.coerceToArray(a);for(var b=0,d=a.length;b<d;b++)this.removeChild(a[b]);return this},removeAllChildren:function(){return this.removeChildren(this.childNodesArray)},
walkTree:function(a,b){b=1===arguments.length?a:b;for(var d=document.createTreeWalker(this,a&&a.what||NodeFilter.SHOW_ALL,a&&a.filter||null,a&&a.entityReferenceExpansion||null);node=d.nextNode();)b(node)},firstInnermostChild:$callableAsMethod($property(function(a){for(;a&&a.firstChild;)a=a.firstChild;return a})),unwrapChildren:$callableAsFreeFunction(function(){this.insertAfterMe(this.childNodesArray);var a=this.parentNode;a.removeChild(this);return a}),prevSiblings:$property(function(){for(var a=
[],b=this.previousSibling;b;)a.push(b),b=b.previousSibling;return a.reversed}),nextNextSibling:$property(function(){return this.nextSibling&&this.nextSibling.nextSibling}),nextOutermostSibling:$callableAsMethod($property(function(a){for(;a&&!a.nextSibling;)a=a.parentNode;a&&(a=a.nextSibling);return a})),nextInnermostSibling:$callableAsMethod($property(function(a){return Node.firstInnermostChild(Node.nextOutermostSibling(this))})),appendTo:function(a){a.appendChild(this);return this},prependTo:function(a){a.insertBefore(this,
a.firstChild);return this},replaceWith:function(a){this.insertBeforeMe(a).removeFromParent()},insertMeBefore:function(a){a.parentNode.insertBefore(this,a);return this},insertMeAfter:function(a){a.parentNode.insertBefore(this,a.nextSibling);return this},insertBeforeMe:function(a){var b=this.parentNode,d=this;_.each(_.coerceToArray(a).reversed,function(a){b.insertBefore(a,d)});return this},insertAfterMe:function(a){var b=this.parentNode,d=this.nextSibling;_.each(_.coerceToArray(a).reversed,function(a){b.insertBefore(a,
d)});return this},on:function(a,b){this.addEventListener(a,b);return this},once:function(a){var b=this,d,e=!1,f=new Promise(function(f){b.addEventListener(a,d=function(a){e||(e=!0,b.removeEventListener(a,d),f(a))})});f.finalize=d;return f},touched:function(a){return this.on($platform.touch?"touchstart":"click",a)},extend:function(a){return _.extend(this,a)},cls:function(a){this.className=a;return this},css:function(a){_.extend(this.style,a);return this},hasClass:function(a){return(this.className||
"").split(" ").contains(a)},toggleAttribute:function(a,b){var d=2>arguments.length;d&&(b=!this.hasAttribute(a));b?this.setAttribute(a,b):this.removeAttribute(a);return d?b:this},toggleAttributes:function(a){_.map(a,_.flip2(this.toggleAttribute),this);return this},setAttributes:function(a){_.map(a,_.flip2(this.setAttribute),this);return this},intAttribute:function(a){return(this.getAttribute(a)||"").parsedInt},attr:$alias("setAttributes"),removeAttr:function(a){this.removeAttribute(a);return this},
splitSubtreeBefore:function(a){return a&&a.parentNode!==this?this.splitSubtreeBefore(a.previousSibling?document.createElement(a.parentNode.tagName).insertMeBefore(a.parentNode).appendChildren(a.prevSiblings).nextSibling:a.parentNode):a},splitSubtreeAt:function(a){var b=a.node,d=a.offset;return 0<d?a.node.isText?this.splitSubtreeBefore(N.text(b.nodeValue.substr(d)).insertMeAfter(_.extend(b,{nodeValue:b.nodeValue.substr(0,d)}))):this.splitSubtreeBefore(b.childNodes[d]):this.splitSubtreeBefore(b)},html:function(a){this.innerHTML=
a;return this},text:function(a){this.innerText=a;return this},attributeUntil:function(a,b){this.setAttribute(a,!0);return b.done(this.$(function(b,c){this.removeAttribute(a)}))},busyUntil:function(a){return this.attributeUntil("busy",a)},onceAnimationEnd:$property(function(){return this.once($platform.WebKit?"webkitAnimationEnd":"animationend")}),onceTransitionEnd:$property(function(){return this.once($platform.WebKit?"webkitTransitionEnd":"transitionend")}),animateWithAttribute:function(a){if(this.hasAttribute(a)&&
this._onceAnimationEnd)return this._onceAnimationEnd;this._onceAnimationEnd&&this._onceAnimationEnd.finalize();this.setAttribute(a,!0);this._onceAnimationEnd=this.onceAnimationEnd;return this._onceAnimationEnd.then(this.$(function(){this.removeAttribute(a);this.getBoundingClientRect();this._onceAnimationEnd=void 0}))},animatedWithAttribute:function(a){this.animateWithAttribute(a);return this}});$mixin(Element,{all:Element.prototype.querySelectorAll,one:Element.prototype.querySelector,append:Node.prototype.append,
clientBBox:$property(function(){return BBox.fromLTWH(this.getBoundingClientRect())}),bbox:$property(function(){return this.clientBBox.offset(document.bbox.leftTop)}),setWidthHeight:function(a){this.style.width=a.x+"px";this.style.height=a.y+"px";return this},setTransform:function(a){this.transform=a;return this},transform:$property({get:function(){var a=(this.css("transform")||"").match(/^matrix\((.+\))$/);return a?(a=a[1].split(",").map(parseFloat),new Transform({a:a[0],b:a[1],c:a[2],d:a[3],e:a[4],
f:a[5]})):Transform.identity},set:function(a){this.style.transform=_.isStrictlyObject(a)&&(a.translate?"translate("+a.translate.x.toFixed(0)+"px,"+a.translate.y.toFixed(0)+"px) ":"")+(a.rotate?"rotate("+a.rotate+"rad) ":"")+(a.scale?"scale("+(new Vec2(a.scale)).separatedWith(",")+")":"")||""}}),reads:function(a,b){a(this.$(function(a){a=(b||_.identity).call(this,a);this.removeAllChildren();this.add(a instanceof Node?a:a+"")}));return this},$toggleAttribute:function(a,b){b(this.$(function(b){this.toggleAttribute(a,
b)}));return this},$add:function(a){if(a instanceof Promise){var b=document.createElement("PROMISE");this.appendChild(b);a.then(function(a){b.replaceWith(a)}).panic}else this.add(a);return this}});$mixin(HTMLInputElement,{$value:$property(function(){this._observableValue||(this._observableValue=_.observable(this.value),this._observableValue.context=this,this.on("input",this.$(function(){this._observableValue(this.value)})));return this._observableValue})});$mixin(Image,{fetch:$static(function(a){return new Promise(function(b,
d){_.extend(new Image,{src:a,onload:function(){b(this)},onerror:function(a){d(a)}})})})});_.defineProperties(document,{bbox:function(){return this.clientBBox.offset(Vec2.y(document.body.scrollTop))},clientBBox:function(){return BBox.fromLTWH(0,0,window.innerWidth||document.documentElement.clientWidth,window.innerHeight||document.documentElement.clientHeight)}});document.on("DOMContentLoaded",document.ready=_.barrier());_.tests.NodePlus={"tree splitting":function(){Testosterone.defineAssertions({assertSplitAtBr:function(a,
b){var d=N.div.html(a);d.splitSubtreeBefore(d.one("br"));return _.assert(d.innerHTML,b)}});$assertSplitAtBr("<b><br>foo</b>","<b><br>foo</b>");$assertSplitAtBr("<b>foo<br></b>","<b>foo</b><b><br></b>");$assertSplitAtBr("<b>foo<i>bar<br>baz</i>qux</b>","<b>foo<i>bar</i></b><b><i><br>baz</i>qux</b>")}}})()},function(l,m){DOMReference=$trait({domReady:$barrier(function(b){this.dom=b;this.el=jQuery(this.dom)}),afterDestroy:function(){this.dom&&(this.dom.removeFromParent(),this.el=this.dom=void 0);this.domReady.reset()}});
DOMReferenceWeak=$trait({domReady:$barrier(function(b){this.dom=b}),afterDestroy:function(){this.dom=void 0}});DOMEvents=$trait({dispatchEvent:function(b){this.domReady(function(a){var c=document.createEvent("Event");c.initEvent(b,!0,!0);a.dispatchEvent(c)})},$macroTags:{on:function(b,a,c){var d=b.constructor.DOMEventListeners||(b.constructor.DOMEventListeners=[]),e=a.$on,e=_.isString(e)?{fn:c,e:e}:_.isObject(e)?{fn:c,e:e.what,target:e.target}:{fn:c,e:c};_.each(e.e.split(" "),function(a){d.push(_.defaults({e:a},
e))})}},domReady:function(b){_.each(this.constructor.DOMEventListeners,__supressErrorReporting=function(a){(a.target||b).addEventListener(a.e,this[a.fn])},this)},beforeDestroy:function(){this.domReady(function(b){_.each(this.constructor.DOMEventListeners,__supressErrorReporting=function(a){(a.target||b).removeEventListener(a.e,this[a.fn])},this)})}});HideOnEscape=$trait({hideOnEscape:$on({what:"keydown",target:document},function(b){27===b.keyCode&&(this.destroy(),b.preventDefault())})})},function(l,
m){InertialValue=$component({$defaults:{duration:.2,easing:"linear"},animating:$observableProperty(!1),target:$observableProperty(),value:$observableProperty(),init:function(b){this.easing=(this.value instanceof Vec2?Easing.vector:Easing.scalar)[this.easing];this.targetChange(function(a){void 0!==a&&(!1===this.animating?(this.start=this.value,this.target=a,this.startTime=Date.now(),this.step()):this.start=this.value)})},step:function(){var b=Date.now(),b=Math.min(1,((this.lastTime=b)-this.startTime)/
(1E3*this.duration));1>b?(this.animating=!0,this.value=this.easing(this.start,this.target,b),requestAnimationFrame(this.step)):(this.value=this.target,this.animating=!1)}});Easing={scalar:{linear:function(b,a,c){return b+(a-b)*c},"in":function(b,a,c){return b+(a-b)*Math.pow(c,2)},out:function(b,a,c){return a-(a-b)*Math.pow(1-c,2)},inOut:function(b,a,c){var d=a-b;return.5>c?b+.5*d*Math.pow(2*c,2):a-.5*d*Math.pow(2-2*c,2)}},vector:{linear:function(b,a,c){console.log(c);return b.add(a.sub(b).scale(c))},
inOut:function(b,a,c){var d=a.sub(b);return.5>c?b.add(d.scale(.5*Math.pow(2*c,2))):a.sub(d.scale(.5*Math.pow(2-2*c,2)))},"in":function(b,a,c){return b.add(a.sub(b).scale(Math.pow(c,2)))},out:function(b,a,c){return a.sub(a.sub(b).scale(Math.pow(1-c,2)))}}}}]);
