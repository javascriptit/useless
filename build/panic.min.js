var $jscomp={scope:{},getGlobal:function(m){return"undefined"!=typeof window&&window===m?m:"undefined"!=typeof global?global:m}};$jscomp.global=$jscomp.getGlobal(this);$jscomp.patches={};$jscomp.patch=function(m,n){($jscomp.patches[m]=$jscomp.patches[m]||[]).push(n);for(var a=$jscomp.global,b=m.split("."),c=0;c<b.length-1&&a;c++)a=a[b[c]];b=b[b.length-1];a&&a[b]instanceof Function&&(a[b]=n(a[b]))};
$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(m,n,a){if(a.get||a.set)throw new TypeError("ES3 does not support getters and setters.");m!=Array.prototype&&m!=Object.prototype&&(m[n]=a.value)};$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};if(!$jscomp.global.Symbol){$jscomp.global.Symbol=$jscomp.Symbol;var m=[],n=function(a){return function(b){m=[];b=a(b);for(var c=[],d=0,e=b.length;d<e;d++){var f;a:if(f=b[d],f.length<$jscomp.SYMBOL_PREFIX.length)f=!1;else{for(var k=0;k<$jscomp.SYMBOL_PREFIX.length;k++)if(f[k]!=$jscomp.SYMBOL_PREFIX[k]){f=!1;break a}f=!0}f?m.push(b[d]):c.push(b[d])}return c}};$jscomp.patch("Object.keys",n);$jscomp.patch("Object.getOwnPropertyNames",n);$jscomp.patch("Object.getOwnPropertySymbols",
function(a){return function(b){n.unused=Object.getOwnPropertyNames(b);m.push.apply(a(b));return m}})}};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(m){return $jscomp.SYMBOL_PREFIX+m+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var m=$jscomp.global.Symbol.iterator;m||(m=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[m]&&$jscomp.defineProperty(Array.prototype,m,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(m){var n=0;return $jscomp.iteratorPrototype(function(){return n<m.length?{done:!1,value:m[n++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(m){$jscomp.initSymbolIterator();m={next:m};m[$jscomp.global.Symbol.iterator]=function(){return this};return m};$jscomp.makeIterator=function(m){$jscomp.initSymbolIterator();var n=m[Symbol.iterator];return n?n.call(m):$jscomp.arrayIterator(m)};
(function(m){function n(b){if(a[b])return a[b].exports;var c=a[b]={exports:{},id:b,loaded:!1};m[b].call(c.exports,c,c.exports,n);c.loaded=!0;return c.exports}var a={};n.m=m;n.c=a;n.p="";return n(0)})([function(m,n,a){a(1);$uselessFile="panic.js";a(37)},function(m,n,a){$uselessFile="useless.client.js";_=a(2);_=function(){_.mixin({zipWith:function(a,c){return _.reduce(_.rest(a),function(a,b){return _.times(Math.max(a&&a.length||0,b&&b.length||0),function(f){return c(a&&a[f],b&&b[f])})},_.first(a))}});
if("a1 b2 c3"!==_.zipWith([["a","b","c"],[1,2,3]],function(a,c){return a+c}).join(" "))throw Error("_.zipWith broken");return _}();_.tests={};_.deferTest=_.withTest=function(a,c,d){d()};a(3);a(4);a(5);a(6);a(7);a(8);a(9);a(10);a(11);a(12);a(13);a(14);a(15);a(16);a(17);a(18);a(19);a(20);a(21);a(22);a(23);a(24);a(25);a(26);a(27);a(28);a(29);a(30);a(31);a(32);a(33);a(34);a(35);a(36)},function(m,n,a){var b,c;(function(){function a(b){return function(a,c,d,e){c=U(c,e,4);var f=!V(a)&&h.keys(a),k=(f||a).length,
l=0<b?0:k-1;3>arguments.length&&(d=a[f?f[l]:l],l+=b);for(var p=c,q=d;0<=l&&l<k;l+=b)var D=f?f[l]:l,q=p(q,a[D],D,a);return q}}function e(a){return function(b,c,d){c=M(c,d);d=ha(b);for(var e=0<a?0:d-1;0<=e&&e<d;e+=a)if(c(b[e],e,b))return e;return-1}}function f(a,b,c){return function(d,e,f){var k=0,l=ha(d);if("number"==typeof f)0<a?k=0<=f?f:Math.max(f+l,k):l=0<=f?Math.min(f+1,l):f+l+1;else if(c&&f&&l)return f=c(d,e),d[f]===e?f:-1;if(e!==e)return f=b(E.call(d,k,l),h.isNaN),0<=f?f+k:-1;for(f=0<a?k:l-1;0<=
f&&f<l;f+=a)if(d[f]===e)return f;return-1}}function k(a,b){var c=Fa.length,d=a.constructor,d=h.isFunction(d)&&d.prototype||D,e="constructor";for(h.has(a,e)&&!h.contains(b,e)&&b.push(e);c--;)e=Fa[c],e in a&&a[e]!==d[e]&&!h.contains(b,e)&&b.push(e)}var l=this,p=l._,q=Array.prototype,D=Object.prototype,B=q.push,E=q.slice,F=D.toString,S=D.hasOwnProperty,ea=Array.isArray,I=Object.keys,fa=Function.prototype.bind,v=Object.create,W=function(){},h=function(a){if(a instanceof h)return a;if(!(this instanceof
h))return new h(a);this._wrapped=a};"undefined"!==typeof m&&m.exports&&(n=m.exports=h);n._=h;h.VERSION="1.8.3";var U=function(a,b,c){if(void 0===b)return a;switch(null==c?3:c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return function(){return a.apply(b,arguments)}},M=function(a,b,c){return null==a?h.identity:h.isFunction(a)?U(a,b,c):
h.isObject(a)?h.matcher(a):h.property(a)};h.iteratee=function(a,b){return M(a,b,Infinity)};var T=function(a,b){return function(c){var d=arguments.length;if(2>d||null==c)return c;for(var e=1;e<d;e++)for(var f=arguments[e],k=a(f),h=k.length,l=0;l<h;l++){var p=k[l];b&&void 0!==c[p]||(c[p]=f[p])}return c}},P=function(a){if(!h.isObject(a))return{};if(v)return v(a);W.prototype=a;a=new W;W.prototype=null;return a},ma=function(a){return function(b){return null==b?void 0:b[a]}},Ya=Math.pow(2,53)-1,ha=ma("length"),
V=function(a){a=ha(a);return"number"==typeof a&&0<=a&&a<=Ya};h.each=h.forEach=function(a,b,c){b=U(b,c);var d;if(V(a))for(c=0,d=a.length;c<d;c++)b(a[c],c,a);else{var e=h.keys(a);c=0;for(d=e.length;c<d;c++)b(a[e[c]],e[c],a)}return a};h.map=h.collect=function(a,b,c){b=M(b,c);c=!V(a)&&h.keys(a);for(var d=(c||a).length,e=Array(d),f=0;f<d;f++){var k=c?c[f]:f;e[f]=b(a[k],k,a)}return e};h.reduce=h.foldl=h.inject=a(1);h.reduceRight=h.foldr=a(-1);h.find=h.detect=function(a,b,c){b=V(a)?h.findIndex(a,b,c):h.findKey(a,
b,c);if(void 0!==b&&-1!==b)return a[b]};h.filter=h.select=function(a,b,c){var d=[];b=M(b,c);h.each(a,function(a,c,e){b(a,c,e)&&d.push(a)});return d};h.reject=function(a,b,c){return h.filter(a,h.negate(M(b)),c)};h.every=h.all=function(a,b,c){b=M(b,c);c=!V(a)&&h.keys(a);for(var d=(c||a).length,e=0;e<d;e++){var f=c?c[e]:e;if(!b(a[f],f,a))return!1}return!0};h.some=h.any=function(a,b,c){b=M(b,c);c=!V(a)&&h.keys(a);for(var d=(c||a).length,e=0;e<d;e++){var f=c?c[e]:e;if(b(a[f],f,a))return!0}return!1};h.contains=
h.includes=h.include=function(a,b,c,d){V(a)||(a=h.values(a));if("number"!=typeof c||d)c=0;return 0<=h.indexOf(a,b,c)};h.invoke=function(a,b){var c=E.call(arguments,2),d=h.isFunction(b);return h.map(a,function(a){var e=d?b:a[b];return null==e?e:e.apply(a,c)})};h.pluck=function(a,b){return h.map(a,h.property(b))};h.where=function(a,b){return h.filter(a,h.matcher(b))};h.findWhere=function(a,b){return h.find(a,h.matcher(b))};h.max=function(a,b,c){var d=-Infinity,e=-Infinity,f;if(null==b&&null!=a){a=V(a)?
a:h.values(a);for(var k=0,l=a.length;k<l;k++)c=a[k],c>d&&(d=c)}else b=M(b,c),h.each(a,function(a,c,k){f=b(a,c,k);if(f>e||-Infinity===f&&-Infinity===d)d=a,e=f});return d};h.min=function(a,b,c){var d=Infinity,e=Infinity,f;if(null==b&&null!=a){a=V(a)?a:h.values(a);for(var k=0,l=a.length;k<l;k++)c=a[k],c<d&&(d=c)}else b=M(b,c),h.each(a,function(a,c,k){f=b(a,c,k);if(f<e||Infinity===f&&Infinity===d)d=a,e=f});return d};h.shuffle=function(a){a=V(a)?a:h.values(a);for(var b=a.length,c=Array(b),d=0,e;d<b;d++)e=
h.random(0,d),e!==d&&(c[d]=c[e]),c[e]=a[d];return c};h.sample=function(a,b,c){return null==b||c?(V(a)||(a=h.values(a)),a[h.random(a.length-1)]):h.shuffle(a).slice(0,Math.max(0,b))};h.sortBy=function(a,b,c){b=M(b,c);return h.pluck(h.map(a,function(a,c,d){return{value:a,index:c,criteria:b(a,c,d)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(c<d||void 0===d)return-1}return a.index-b.index}),"value")};var ja=function(a){return function(b,c,d){var e={};c=
M(c,d);h.each(b,function(d,f){var k=c(d,f,b);a(e,d,k)});return e}};h.groupBy=ja(function(a,b,c){h.has(a,c)?a[c].push(b):a[c]=[b]});h.indexBy=ja(function(a,b,c){a[c]=b});h.countBy=ja(function(a,b,c){h.has(a,c)?a[c]++:a[c]=1});h.toArray=function(a){return a?h.isArray(a)?E.call(a):V(a)?h.map(a,h.identity):h.values(a):[]};h.size=function(a){return null==a?0:V(a)?a.length:h.keys(a).length};h.partition=function(a,b,c){b=M(b,c);var d=[],e=[];h.each(a,function(a,c,f){(b(a,c,f)?d:e).push(a)});return[d,e]};
h.first=h.head=h.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:h.initial(a,a.length-b)};h.initial=function(a,b,c){return E.call(a,0,Math.max(0,a.length-(null==b||c?1:b)))};h.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:h.rest(a,Math.max(0,a.length-b))};h.rest=h.tail=h.drop=function(a,b,c){return E.call(a,null==b||c?1:b)};h.compact=function(a){return h.filter(a,h.identity)};var na=function(a,b,c,d){var e=[],f=0;d=d||0;for(var k=ha(a);d<k;d++){var l=a[d];if(V(l)&&
(h.isArray(l)||h.isArguments(l))){b||(l=na(l,b,c));var p=0,q=l.length;for(e.length+=q;p<q;)e[f++]=l[p++]}else c||(e[f++]=l)}return e};h.flatten=function(a,b){return na(a,b,!1)};h.without=function(a){return h.difference(a,E.call(arguments,1))};h.uniq=h.unique=function(a,b,c,d){h.isBoolean(b)||(d=c,c=b,b=!1);null!=c&&(c=M(c,d));d=[];for(var e=[],f=0,k=ha(a);f<k;f++){var l=a[f],p=c?c(l,f,a):l;b?(f&&e===p||d.push(l),e=p):c?h.contains(e,p)||(e.push(p),d.push(l)):h.contains(d,l)||d.push(l)}return d};h.union=
function(){return h.uniq(na(arguments,!0,!0))};h.intersection=function(a){for(var b=[],c=arguments.length,d=0,e=ha(a);d<e;d++){var f=a[d];if(!h.contains(b,f)){for(var k=1;k<c&&h.contains(arguments[k],f);k++);k===c&&b.push(f)}}return b};h.difference=function(a){var b=na(arguments,!0,!0,1);return h.filter(a,function(a){return!h.contains(b,a)})};h.zip=function(){return h.unzip(arguments)};h.unzip=function(a){for(var b=a&&h.max(a,ha).length||0,c=Array(b),d=0;d<b;d++)c[d]=h.pluck(a,d);return c};h.object=
function(a,b){for(var c={},d=0,e=ha(a);d<e;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c};h.findIndex=e(1);h.findLastIndex=e(-1);h.sortedIndex=function(a,b,c,d){c=M(c,d,1);b=c(b);d=0;for(var e=ha(a);d<e;){var f=Math.floor((d+e)/2);c(a[f])<b?d=f+1:e=f}return d};h.indexOf=f(1,h.findIndex,h.sortedIndex);h.lastIndexOf=f(-1,h.findLastIndex);h.range=function(a,b,c){null==b&&(b=a||0,a=0);c=c||1;b=Math.max(Math.ceil((b-a)/c),0);for(var d=Array(b),e=0;e<b;e++,a+=c)d[e]=a;return d};var ca=function(a,b,c,d,
e){if(!(d instanceof b))return a.apply(c,e);b=P(a.prototype);a=a.apply(b,e);return h.isObject(a)?a:b};h.bind=function(a,b){if(fa&&a.bind===fa)return fa.apply(a,E.call(arguments,1));if(!h.isFunction(a))throw new TypeError("Bind must be called on a function");var c=E.call(arguments,2),d=function(){return ca(a,d,b,this,c.concat(E.call(arguments)))};return d};h.partial=function(a){var b=E.call(arguments,1),c=function(){for(var d=0,e=b.length,f=Array(e),k=0;k<e;k++)f[k]=b[k]===h?arguments[d++]:b[k];for(;d<
arguments.length;)f.push(arguments[d++]);return ca(a,c,this,this,f)};return c};h.bindAll=function(a){var b,c=arguments.length,d;if(1>=c)throw Error("bindAll must be passed function names");for(b=1;b<c;b++)d=arguments[b],a[d]=h.bind(a[d],a);return a};h.memoize=function(a,b){var c=function(d){var e=c.cache,f=""+(b?b.apply(this,arguments):d);h.has(e,f)||(e[f]=a.apply(this,arguments));return e[f]};c.cache={};return c};h.delay=function(a,b){var c=E.call(arguments,2);return setTimeout(function(){return a.apply(null,
c)},b)};h.defer=h.partial(h.delay,h,1);h.throttle=function(a,b,c){var d,e,f,k=null,l=0;c||(c={});var p=function(){l=!1===c.leading?0:h.now();k=null;f=a.apply(d,e);k||(d=e=null)};return function(){var q=h.now();l||!1!==c.leading||(l=q);var D=b-(q-l);d=this;e=arguments;0>=D||D>b?(k&&(clearTimeout(k),k=null),l=q,f=a.apply(d,e),k||(d=e=null)):k||!1===c.trailing||(k=setTimeout(p,D));return f}};h.debounce=function(a,b,c){var d,e,f,k,l,p=function(){var q=h.now()-k;q<b&&0<=q?d=setTimeout(p,b-q):(d=null,c||
(l=a.apply(f,e),d||(f=e=null)))};return function(){f=this;e=arguments;k=h.now();var q=c&&!d;d||(d=setTimeout(p,b));q&&(l=a.apply(f,e),f=e=null);return l}};h.wrap=function(a,b){return h.partial(b,a)};h.negate=function(a){return function(){return!a.apply(this,arguments)}};h.compose=function(){var a=arguments,b=a.length-1;return function(){for(var c=b,d=a[b].apply(this,arguments);c--;)d=a[c].call(this,d);return d}};h.after=function(a,b){return function(){if(1>--a)return b.apply(this,arguments)}};h.before=
function(a,b){var c;return function(){0<--a&&(c=b.apply(this,arguments));1>=a&&(b=null);return c}};h.once=h.partial(h.before,2);var sa=!{toString:null}.propertyIsEnumerable("toString"),Fa="valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString".split(" ");h.keys=function(a){if(!h.isObject(a))return[];if(I)return I(a);var b=[],c;for(c in a)h.has(a,c)&&b.push(c);sa&&k(a,b);return b};h.allKeys=function(a){if(!h.isObject(a))return[];var b=[],c;for(c in a)b.push(c);sa&&k(a,b);
return b};h.values=function(a){for(var b=h.keys(a),c=b.length,d=Array(c),e=0;e<c;e++)d[e]=a[b[e]];return d};h.mapObject=function(a,b,c){b=M(b,c);c=h.keys(a);for(var d=c.length,e={},f,k=0;k<d;k++)f=c[k],e[f]=b(a[f],f,a);return e};h.pairs=function(a){for(var b=h.keys(a),c=b.length,d=Array(c),e=0;e<c;e++)d[e]=[b[e],a[b[e]]];return d};h.invert=function(a){for(var b={},c=h.keys(a),d=0,e=c.length;d<e;d++)b[a[c[d]]]=c[d];return b};h.functions=h.methods=function(a){var b=[],c;for(c in a)h.isFunction(a[c])&&
b.push(c);return b.sort()};h.extend=T(h.allKeys);h.extendOwn=h.assign=T(h.keys);h.findKey=function(a,b,c){b=M(b,c);c=h.keys(a);for(var d,e=0,f=c.length;e<f;e++)if(d=c[e],b(a[d],d,a))return d};h.pick=function(a,b,c){var d={},e=a,f,k;if(null==e)return d;h.isFunction(b)?(k=h.allKeys(e),f=U(b,c)):(k=na(arguments,!1,!1,1),f=function(a,b,c){return b in c},e=Object(e));for(var l=0,p=k.length;l<p;l++){var q=k[l],D=e[q];f(D,q,e)&&(d[q]=D)}return d};h.omit=function(a,b,c){if(h.isFunction(b))b=h.negate(b);else{var d=
h.map(na(arguments,!1,!1,1),String);b=function(a,b){return!h.contains(d,b)}}return h.pick(a,b,c)};h.defaults=T(h.allKeys,!0);h.create=function(a,b){var c=P(a);b&&h.extendOwn(c,b);return c};h.clone=function(a){return h.isObject(a)?h.isArray(a)?a.slice():h.extend({},a):a};h.tap=function(a,b){b(a);return a};h.isMatch=function(a,b){var c=h.keys(b),d=c.length;if(null==a)return!d;for(var e=Object(a),f=0;f<d;f++){var k=c[f];if(b[k]!==e[k]||!(k in e))return!1}return!0};var ya=function(a,b,c,d){if(a===b)return 0!==
a||1/a===1/b;if(null==a||null==b)return a===b;a instanceof h&&(a=a._wrapped);b instanceof h&&(b=b._wrapped);var e=F.call(a);if(e!==F.call(b))return!1;switch(e){case "[object RegExp]":case "[object String]":return""+a===""+b;case "[object Number]":return+a!==+a?+b!==+b:0===+a?1/+a===1/b:+a===+b;case "[object Date]":case "[object Boolean]":return+a===+b}e="[object Array]"===e;if(!e){if("object"!=typeof a||"object"!=typeof b)return!1;var f=a.constructor,k=b.constructor;if(f!==k&&!(h.isFunction(f)&&f instanceof
f&&h.isFunction(k)&&k instanceof k)&&"constructor"in a&&"constructor"in b)return!1}c=c||[];d=d||[];for(f=c.length;f--;)if(c[f]===a)return d[f]===b;c.push(a);d.push(b);if(e){f=a.length;if(f!==b.length)return!1;for(;f--;)if(!ya(a[f],b[f],c,d))return!1}else{e=h.keys(a);f=e.length;if(h.keys(b).length!==f)return!1;for(;f--;)if(k=e[f],!h.has(b,k)||!ya(a[k],b[k],c,d))return!1}c.pop();d.pop();return!0};h.isEqual=function(a,b){return ya(a,b)};h.isEmpty=function(a){return null==a?!0:V(a)&&(h.isArray(a)||h.isString(a)||
h.isArguments(a))?0===a.length:0===h.keys(a).length};h.isElement=function(a){return!(!a||1!==a.nodeType)};h.isArray=ea||function(a){return"[object Array]"===F.call(a)};h.isObject=function(a){var b=typeof a;return"function"===b||"object"===b&&!!a};h.each("Arguments Function String Number Date RegExp Error".split(" "),function(a){h["is"+a]=function(b){return F.call(b)==="[object "+a+"]"}});h.isArguments(arguments)||(h.isArguments=function(a){return h.has(a,"callee")});"function"!=typeof/./&&"object"!=
typeof Int8Array&&(h.isFunction=function(a){return"function"==typeof a||!1});h.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))};h.isNaN=function(a){return h.isNumber(a)&&a!==+a};h.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"===F.call(a)};h.isNull=function(a){return null===a};h.isUndefined=function(a){return void 0===a};h.has=function(a,b){return null!=a&&S.call(a,b)};h.noConflict=function(){l._=p;return this};h.identity=function(a){return a};h.constant=function(a){return function(){return a}};
h.noop=function(){};h.property=ma;h.propertyOf=function(a){return null==a?function(){}:function(b){return a[b]}};h.matcher=h.matches=function(a){a=h.extendOwn({},a);return function(b){return h.isMatch(b,a)}};h.times=function(a,b,c){var d=Array(Math.max(0,a));b=U(b,c,1);for(c=0;c<a;c++)d[c]=b(c);return d};h.random=function(a,b){null==b&&(b=a,a=0);return a+Math.floor(Math.random()*(b-a+1))};h.now=Date.now||function(){return(new Date).getTime()};ea={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;",
"`":"&#x60;"};T=h.invert(ea);ma=function(a){var b=function(b){return a[b]},c="(?:"+h.keys(a).join("|")+")",d=RegExp(c),e=RegExp(c,"g");return function(a){a=null==a?"":""+a;return d.test(a)?a.replace(e,b):a}};h.escape=ma(ea);h.unescape=ma(T);h.result=function(a,b,c){b=null==a?void 0:a[b];void 0===b&&(b=c);return h.isFunction(b)?b.call(a):b};var Ka=0;h.uniqueId=function(a){var b=++Ka+"";return a?a+b:b};h.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};
var oa=/(.)^/,J={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},La=/\\|'|\r|\n|\u2028|\u2029/g,Ma=function(a){return"\\"+J[a]};h.template=function(a,b,c){!b&&c&&(b=c);b=h.defaults({},b,h.templateSettings);c=RegExp([(b.escape||oa).source,(b.interpolate||oa).source,(b.evaluate||oa).source].join("|")+"|$","g");var d=0,e="__p+='";a.replace(c,function(b,c,f,k,l){e+=a.slice(d,l).replace(La,Ma);d=l+b.length;c?e+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'":f?e+="'+\n((__t=("+
f+"))==null?'':__t)+\n'":k&&(e+="';\n"+k+"\n__p+='");return b});e+="';\n";b.variable||(e="with(obj||{}){\n"+e+"}\n");e="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+e+"return __p;\n";try{var f=new Function(b.variable||"obj","_",e)}catch(k){throw k.source=e,k;}c=function(a){return f.call(this,a,h)};c.source="function("+(b.variable||"obj")+"){\n"+e+"}";return c};h.chain=function(a){a=h(a);a._chain=!0;return a};var qa=function(a,b){return a._chain?h(b).chain():
b};h.mixin=function(a){h.each(h.functions(a),function(b){var c=h[b]=a[b];h.prototype[b]=function(){var a=[this._wrapped];B.apply(a,arguments);return qa(this,c.apply(h,a))}})};h.mixin(h);h.each("pop push reverse shift sort splice unshift".split(" "),function(a){var b=q[a];h.prototype[a]=function(){var c=this._wrapped;b.apply(c,arguments);"shift"!==a&&"splice"!==a||0!==c.length||delete c[0];return qa(this,c)}});h.each(["concat","join","slice"],function(a){var b=q[a];h.prototype[a]=function(){return qa(this,
b.apply(this._wrapped,arguments))}});h.prototype.value=function(){return this._wrapped};h.prototype.valueOf=h.prototype.toJSON=h.prototype.value;h.prototype.toString=function(){return""+this._wrapped};!(b=[],c=function(){return h}.apply(n,b),void 0!==c&&(m.exports=c))}).call(this)},function(m,n){unicode_hack=function(){var a={Cn:"[\u0378\u0379\u037f-\u0383\u038b\u038d\u03a2\u0528-\u0530\u0557\u0558\u0560\u0588\u058b-\u0590\u05c8-\u05cf\u05eb-\u05ef\u05f5-\u05ff\u0604\u0605\u061c\u061d\u070e\u074b\u074c\u07b2-\u07bf\u07fb-\u07ff\u082e\u082f\u083f\u085c\u085d\u085f-\u08ff\u0978\u0980\u0984\u098d\u098e\u0991\u0992\u09a9\u09b1\u09b3-\u09b5\u09ba\u09bb\u09c5\u09c6\u09c9\u09ca\u09cf-\u09d6\u09d8-\u09db\u09de\u09e4\u09e5\u09fc-\u0a00\u0a04\u0a0b-\u0a0e\u0a11\u0a12\u0a29\u0a31\u0a34\u0a37\u0a3a\u0a3b\u0a3d\u0a43-\u0a46\u0a49\u0a4a\u0a4e-\u0a50\u0a52-\u0a58\u0a5d\u0a5f-\u0a65\u0a76-\u0a80\u0a84\u0a8e\u0a92\u0aa9\u0ab1\u0ab4\u0aba\u0abb\u0ac6\u0aca\u0ace\u0acf\u0ad1-\u0adf\u0ae4\u0ae5\u0af0\u0af2-\u0b00\u0b04\u0b0d\u0b0e\u0b11\u0b12\u0b29\u0b31\u0b34\u0b3a\u0b3b\u0b45\u0b46\u0b49\u0b4a\u0b4e-\u0b55\u0b58-\u0b5b\u0b5e\u0b64\u0b65\u0b78-\u0b81\u0b84\u0b8b-\u0b8d\u0b91\u0b96-\u0b98\u0b9b\u0b9d\u0ba0-\u0ba2\u0ba5-\u0ba7\u0bab-\u0bad\u0bba-\u0bbd\u0bc3-\u0bc5\u0bc9\u0bce\u0bcf\u0bd1-\u0bd6\u0bd8-\u0be5\u0bfb-\u0c00\u0c04\u0c0d\u0c11\u0c29\u0c34\u0c3a-\u0c3c\u0c45\u0c49\u0c4e-\u0c54\u0c57\u0c5a-\u0c5f\u0c64\u0c65\u0c70-\u0c77\u0c80\u0c81\u0c84\u0c8d\u0c91\u0ca9\u0cb4\u0cba\u0cbb\u0cc5\u0cc9\u0cce-\u0cd4\u0cd7-\u0cdd\u0cdf\u0ce4\u0ce5\u0cf0\u0cf3-\u0d01\u0d04\u0d0d\u0d11\u0d3b\u0d3c\u0d45\u0d49\u0d4f-\u0d56\u0d58-\u0d5f\u0d64\u0d65\u0d76-\u0d78\u0d80\u0d81\u0d84\u0d97-\u0d99\u0db2\u0dbc\u0dbe\u0dbf\u0dc7-\u0dc9\u0dcb-\u0dce\u0dd5\u0dd7\u0de0-\u0df1\u0df5-\u0e00\u0e3b-\u0e3e\u0e5c-\u0e80\u0e83\u0e85\u0e86\u0e89\u0e8b\u0e8c\u0e8e-\u0e93\u0e98\u0ea0\u0ea4\u0ea6\u0ea8\u0ea9\u0eac\u0eba\u0ebe\u0ebf\u0ec5\u0ec7\u0ece\u0ecf\u0eda\u0edb\u0ede-\u0eff\u0f48\u0f6d-\u0f70\u0f98\u0fbd\u0fcd\u0fdb-\u0fff\u10c6-\u10cf\u10fd-\u10ff\u1249\u124e\u124f\u1257\u1259\u125e\u125f\u1289\u128e\u128f\u12b1\u12b6\u12b7\u12bf\u12c1\u12c6\u12c7\u12d7\u1311\u1316\u1317\u135b\u135c\u137d-\u137f\u139a-\u139f\u13f5-\u13ff\u169d-\u169f\u16f1-\u16ff\u170d\u1715-\u171f\u1737-\u173f\u1754-\u175f\u176d\u1771\u1774-\u177f\u17de\u17df\u17ea-\u17ef\u17fa-\u17ff\u180f\u181a-\u181f\u1878-\u187f\u18ab-\u18af\u18f6-\u18ff\u191d-\u191f\u192c-\u192f\u193c-\u193f\u1941-\u1943\u196e\u196f\u1975-\u197f\u19ac-\u19af\u19ca-\u19cf\u19db-\u19dd\u1a1c\u1a1d\u1a5f\u1a7d\u1a7e\u1a8a-\u1a8f\u1a9a-\u1a9f\u1aae-\u1aff\u1b4c-\u1b4f\u1b7d-\u1b7f\u1bab-\u1bad\u1bba-\u1bbf\u1bf4-\u1bfb\u1c38-\u1c3a\u1c4a-\u1c4c\u1c80-\u1ccf\u1cf3-\u1cff\u1de7-\u1dfb\u1f16\u1f17\u1f1e\u1f1f\u1f46\u1f47\u1f4e\u1f4f\u1f58\u1f5a\u1f5c\u1f5e\u1f7e\u1f7f\u1fb5\u1fc5\u1fd4\u1fd5\u1fdc\u1ff0\u1ff1\u1ff5\u1fff\u2065-\u2069\u2072\u2073\u208f\u209d-\u209f\u20ba-\u20cf\u20f1-\u20ff\u218a-\u218f\u23f4-\u23ff\u2427-\u243f\u244b-\u245f\u2700\u27cb\u27cd\u2b4d-\u2b4f\u2b5a-\u2bff\u2c2f\u2c5f\u2cf2-\u2cf8\u2d26-\u2d2f\u2d66-\u2d6e\u2d71-\u2d7e\u2d97-\u2d9f\u2da7\u2daf\u2db7\u2dbf\u2dc7\u2dcf\u2dd7\u2ddf\u2e32-\u2e7f\u2e9a\u2ef4-\u2eff\u2fd6-\u2fef\u2ffc-\u2fff\u3040\u3097\u3098\u3100-\u3104\u312e-\u3130\u318f\u31bb-\u31bf\u31e4-\u31ef\u321f\u32ff\u4db6-\u4dbf\u9fcc-\u9fff\ua48d-\ua48f\ua4c7-\ua4cf\ua62c-\ua63f\ua674-\ua67b\ua698-\ua69f\ua6f8-\ua6ff\ua78f\ua792-\ua79f\ua7aa-\ua7f9\ua82c-\ua82f\ua83a-\ua83f\ua878-\ua87f\ua8c5-\ua8cd\ua8da-\ua8df\ua8fc-\ua8ff\ua954-\ua95e\ua97d-\ua97f\ua9ce\ua9da-\ua9dd\ua9e0-\ua9ff\uaa37-\uaa3f\uaa4e\uaa4f\uaa5a\uaa5b\uaa7c-\uaa7f\uaac3-\uaada\uaae0-\uab00\uab07\uab08\uab0f\uab10\uab17-\uab1f\uab27\uab2f-\uabbf\uabee\uabef\uabfa-\uabff\ud7a4-\ud7af\ud7c7-\ud7ca\ud7fc-\ud7ff\ufa2e\ufa2f\ufa6e\ufa6f\ufada-\ufaff\ufb07-\ufb12\ufb18-\ufb1c\ufb37\ufb3d\ufb3f\ufb42\ufb45\ufbc2-\ufbd2\ufd40-\ufd4f\ufd90\ufd91\ufdc8-\ufdef\ufdfe\ufdff\ufe1a-\ufe1f\ufe27-\ufe2f\ufe53\ufe67\ufe6c-\ufe6f\ufe75\ufefd\ufefe\uff00\uffbf-\uffc1\uffc8\uffc9\uffd0\uffd1\uffd8\uffd9\uffdd-\uffdf\uffe7\uffef-\ufff8\ufffe\uffff]",
Lu:"[A-Z\u00c0-\u00d6\u00d8-\u00de\u0100\u0102\u0104\u0106\u0108\u010a\u010c\u010e\u0110\u0112\u0114\u0116\u0118\u011a\u011c\u011e\u0120\u0122\u0124\u0126\u0128\u012a\u012c\u012e\u0130\u0132\u0134\u0136\u0139\u013b\u013d\u013f\u0141\u0143\u0145\u0147\u014a\u014c\u014e\u0150\u0152\u0154\u0156\u0158\u015a\u015c\u015e\u0160\u0162\u0164\u0166\u0168\u016a\u016c\u016e\u0170\u0172\u0174\u0176\u0178\u0179\u017b\u017d\u0181\u0182\u0184\u0186\u0187\u0189-\u018b\u018e-\u0191\u0193\u0194\u0196-\u0198\u019c\u019d\u019f\u01a0\u01a2\u01a4\u01a6\u01a7\u01a9\u01ac\u01ae\u01af\u01b1-\u01b3\u01b5\u01b7\u01b8\u01bc\u01c4\u01c7\u01ca\u01cd\u01cf\u01d1\u01d3\u01d5\u01d7\u01d9\u01db\u01de\u01e0\u01e2\u01e4\u01e6\u01e8\u01ea\u01ec\u01ee\u01f1\u01f4\u01f6-\u01f8\u01fa\u01fc\u01fe\u0200\u0202\u0204\u0206\u0208\u020a\u020c\u020e\u0210\u0212\u0214\u0216\u0218\u021a\u021c\u021e\u0220\u0222\u0224\u0226\u0228\u022a\u022c\u022e\u0230\u0232\u023a\u023b\u023d\u023e\u0241\u0243-\u0246\u0248\u024a\u024c\u024e\u0370\u0372\u0376\u0386\u0388-\u038a\u038c\u038e\u038f\u0391-\u03a1\u03a3-\u03ab\u03cf\u03d2-\u03d4\u03d8\u03da\u03dc\u03de\u03e0\u03e2\u03e4\u03e6\u03e8\u03ea\u03ec\u03ee\u03f4\u03f7\u03f9\u03fa\u03fd-\u042f\u0460\u0462\u0464\u0466\u0468\u046a\u046c\u046e\u0470\u0472\u0474\u0476\u0478\u047a\u047c\u047e\u0480\u048a\u048c\u048e\u0490\u0492\u0494\u0496\u0498\u049a\u049c\u049e\u04a0\u04a2\u04a4\u04a6\u04a8\u04aa\u04ac\u04ae\u04b0\u04b2\u04b4\u04b6\u04b8\u04ba\u04bc\u04be\u04c0\u04c1\u04c3\u04c5\u04c7\u04c9\u04cb\u04cd\u04d0\u04d2\u04d4\u04d6\u04d8\u04da\u04dc\u04de\u04e0\u04e2\u04e4\u04e6\u04e8\u04ea\u04ec\u04ee\u04f0\u04f2\u04f4\u04f6\u04f8\u04fa\u04fc\u04fe\u0500\u0502\u0504\u0506\u0508\u050a\u050c\u050e\u0510\u0512\u0514\u0516\u0518\u051a\u051c\u051e\u0520\u0522\u0524\u0526\u0531-\u0556\u10a0-\u10c5\u1e00\u1e02\u1e04\u1e06\u1e08\u1e0a\u1e0c\u1e0e\u1e10\u1e12\u1e14\u1e16\u1e18\u1e1a\u1e1c\u1e1e\u1e20\u1e22\u1e24\u1e26\u1e28\u1e2a\u1e2c\u1e2e\u1e30\u1e32\u1e34\u1e36\u1e38\u1e3a\u1e3c\u1e3e\u1e40\u1e42\u1e44\u1e46\u1e48\u1e4a\u1e4c\u1e4e\u1e50\u1e52\u1e54\u1e56\u1e58\u1e5a\u1e5c\u1e5e\u1e60\u1e62\u1e64\u1e66\u1e68\u1e6a\u1e6c\u1e6e\u1e70\u1e72\u1e74\u1e76\u1e78\u1e7a\u1e7c\u1e7e\u1e80\u1e82\u1e84\u1e86\u1e88\u1e8a\u1e8c\u1e8e\u1e90\u1e92\u1e94\u1e9e\u1ea0\u1ea2\u1ea4\u1ea6\u1ea8\u1eaa\u1eac\u1eae\u1eb0\u1eb2\u1eb4\u1eb6\u1eb8\u1eba\u1ebc\u1ebe\u1ec0\u1ec2\u1ec4\u1ec6\u1ec8\u1eca\u1ecc\u1ece\u1ed0\u1ed2\u1ed4\u1ed6\u1ed8\u1eda\u1edc\u1ede\u1ee0\u1ee2\u1ee4\u1ee6\u1ee8\u1eea\u1eec\u1eee\u1ef0\u1ef2\u1ef4\u1ef6\u1ef8\u1efa\u1efc\u1efe\u1f08-\u1f0f\u1f18-\u1f1d\u1f28-\u1f2f\u1f38-\u1f3f\u1f48-\u1f4d\u1f59\u1f5b\u1f5d\u1f5f\u1f68-\u1f6f\u1fb8-\u1fbb\u1fc8-\u1fcb\u1fd8-\u1fdb\u1fe8-\u1fec\u1ff8-\u1ffb\u2102\u2107\u210b-\u210d\u2110-\u2112\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u2130-\u2133\u213e\u213f\u2145\u2183\u2c00-\u2c2e\u2c60\u2c62-\u2c64\u2c67\u2c69\u2c6b\u2c6d-\u2c70\u2c72\u2c75\u2c7e-\u2c80\u2c82\u2c84\u2c86\u2c88\u2c8a\u2c8c\u2c8e\u2c90\u2c92\u2c94\u2c96\u2c98\u2c9a\u2c9c\u2c9e\u2ca0\u2ca2\u2ca4\u2ca6\u2ca8\u2caa\u2cac\u2cae\u2cb0\u2cb2\u2cb4\u2cb6\u2cb8\u2cba\u2cbc\u2cbe\u2cc0\u2cc2\u2cc4\u2cc6\u2cc8\u2cca\u2ccc\u2cce\u2cd0\u2cd2\u2cd4\u2cd6\u2cd8\u2cda\u2cdc\u2cde\u2ce0\u2ce2\u2ceb\u2ced\ua640\ua642\ua644\ua646\ua648\ua64a\ua64c\ua64e\ua650\ua652\ua654\ua656\ua658\ua65a\ua65c\ua65e\ua660\ua662\ua664\ua666\ua668\ua66a\ua66c\ua680\ua682\ua684\ua686\ua688\ua68a\ua68c\ua68e\ua690\ua692\ua694\ua696\ua722\ua724\ua726\ua728\ua72a\ua72c\ua72e\ua732\ua734\ua736\ua738\ua73a\ua73c\ua73e\ua740\ua742\ua744\ua746\ua748\ua74a\ua74c\ua74e\ua750\ua752\ua754\ua756\ua758\ua75a\ua75c\ua75e\ua760\ua762\ua764\ua766\ua768\ua76a\ua76c\ua76e\ua779\ua77b\ua77d\ua77e\ua780\ua782\ua784\ua786\ua78b\ua78d\ua790\ua7a0\ua7a2\ua7a4\ua7a6\ua7a8\uff21-\uff3a]",
Ll:"[a-z\u00aa\u00b5\u00ba\u00df-\u00f6\u00f8-\u00ff\u0101\u0103\u0105\u0107\u0109\u010b\u010d\u010f\u0111\u0113\u0115\u0117\u0119\u011b\u011d\u011f\u0121\u0123\u0125\u0127\u0129\u012b\u012d\u012f\u0131\u0133\u0135\u0137\u0138\u013a\u013c\u013e\u0140\u0142\u0144\u0146\u0148\u0149\u014b\u014d\u014f\u0151\u0153\u0155\u0157\u0159\u015b\u015d\u015f\u0161\u0163\u0165\u0167\u0169\u016b\u016d\u016f\u0171\u0173\u0175\u0177\u017a\u017c\u017e-\u0180\u0183\u0185\u0188\u018c\u018d\u0192\u0195\u0199-\u019b\u019e\u01a1\u01a3\u01a5\u01a8\u01aa\u01ab\u01ad\u01b0\u01b4\u01b6\u01b9\u01ba\u01bd-\u01bf\u01c6\u01c9\u01cc\u01ce\u01d0\u01d2\u01d4\u01d6\u01d8\u01da\u01dc\u01dd\u01df\u01e1\u01e3\u01e5\u01e7\u01e9\u01eb\u01ed\u01ef\u01f0\u01f3\u01f5\u01f9\u01fb\u01fd\u01ff\u0201\u0203\u0205\u0207\u0209\u020b\u020d\u020f\u0211\u0213\u0215\u0217\u0219\u021b\u021d\u021f\u0221\u0223\u0225\u0227\u0229\u022b\u022d\u022f\u0231\u0233-\u0239\u023c\u023f\u0240\u0242\u0247\u0249\u024b\u024d\u024f-\u0293\u0295-\u02af\u0371\u0373\u0377\u037b-\u037d\u0390\u03ac-\u03ce\u03d0\u03d1\u03d5-\u03d7\u03d9\u03db\u03dd\u03df\u03e1\u03e3\u03e5\u03e7\u03e9\u03eb\u03ed\u03ef-\u03f3\u03f5\u03f8\u03fb\u03fc\u0430-\u045f\u0461\u0463\u0465\u0467\u0469\u046b\u046d\u046f\u0471\u0473\u0475\u0477\u0479\u047b\u047d\u047f\u0481\u048b\u048d\u048f\u0491\u0493\u0495\u0497\u0499\u049b\u049d\u049f\u04a1\u04a3\u04a5\u04a7\u04a9\u04ab\u04ad\u04af\u04b1\u04b3\u04b5\u04b7\u04b9\u04bb\u04bd\u04bf\u04c2\u04c4\u04c6\u04c8\u04ca\u04cc\u04ce\u04cf\u04d1\u04d3\u04d5\u04d7\u04d9\u04db\u04dd\u04df\u04e1\u04e3\u04e5\u04e7\u04e9\u04eb\u04ed\u04ef\u04f1\u04f3\u04f5\u04f7\u04f9\u04fb\u04fd\u04ff\u0501\u0503\u0505\u0507\u0509\u050b\u050d\u050f\u0511\u0513\u0515\u0517\u0519\u051b\u051d\u051f\u0521\u0523\u0525\u0527\u0561-\u0587\u1d00-\u1d2b\u1d62-\u1d77\u1d79-\u1d9a\u1e01\u1e03\u1e05\u1e07\u1e09\u1e0b\u1e0d\u1e0f\u1e11\u1e13\u1e15\u1e17\u1e19\u1e1b\u1e1d\u1e1f\u1e21\u1e23\u1e25\u1e27\u1e29\u1e2b\u1e2d\u1e2f\u1e31\u1e33\u1e35\u1e37\u1e39\u1e3b\u1e3d\u1e3f\u1e41\u1e43\u1e45\u1e47\u1e49\u1e4b\u1e4d\u1e4f\u1e51\u1e53\u1e55\u1e57\u1e59\u1e5b\u1e5d\u1e5f\u1e61\u1e63\u1e65\u1e67\u1e69\u1e6b\u1e6d\u1e6f\u1e71\u1e73\u1e75\u1e77\u1e79\u1e7b\u1e7d\u1e7f\u1e81\u1e83\u1e85\u1e87\u1e89\u1e8b\u1e8d\u1e8f\u1e91\u1e93\u1e95-\u1e9d\u1e9f\u1ea1\u1ea3\u1ea5\u1ea7\u1ea9\u1eab\u1ead\u1eaf\u1eb1\u1eb3\u1eb5\u1eb7\u1eb9\u1ebb\u1ebd\u1ebf\u1ec1\u1ec3\u1ec5\u1ec7\u1ec9\u1ecb\u1ecd\u1ecf\u1ed1\u1ed3\u1ed5\u1ed7\u1ed9\u1edb\u1edd\u1edf\u1ee1\u1ee3\u1ee5\u1ee7\u1ee9\u1eeb\u1eed\u1eef\u1ef1\u1ef3\u1ef5\u1ef7\u1ef9\u1efb\u1efd\u1eff-\u1f07\u1f10-\u1f15\u1f20-\u1f27\u1f30-\u1f37\u1f40-\u1f45\u1f50-\u1f57\u1f60-\u1f67\u1f70-\u1f7d\u1f80-\u1f87\u1f90-\u1f97\u1fa0-\u1fa7\u1fb0-\u1fb4\u1fb6\u1fb7\u1fbe\u1fc2-\u1fc4\u1fc6\u1fc7\u1fd0-\u1fd3\u1fd6\u1fd7\u1fe0-\u1fe7\u1ff2-\u1ff4\u1ff6\u1ff7\u210a\u210e\u210f\u2113\u212f\u2134\u2139\u213c\u213d\u2146-\u2149\u214e\u2184\u2c30-\u2c5e\u2c61\u2c65\u2c66\u2c68\u2c6a\u2c6c\u2c71\u2c73\u2c74\u2c76-\u2c7c\u2c81\u2c83\u2c85\u2c87\u2c89\u2c8b\u2c8d\u2c8f\u2c91\u2c93\u2c95\u2c97\u2c99\u2c9b\u2c9d\u2c9f\u2ca1\u2ca3\u2ca5\u2ca7\u2ca9\u2cab\u2cad\u2caf\u2cb1\u2cb3\u2cb5\u2cb7\u2cb9\u2cbb\u2cbd\u2cbf\u2cc1\u2cc3\u2cc5\u2cc7\u2cc9\u2ccb\u2ccd\u2ccf\u2cd1\u2cd3\u2cd5\u2cd7\u2cd9\u2cdb\u2cdd\u2cdf\u2ce1\u2ce3\u2ce4\u2cec\u2cee\u2d00-\u2d25\ua641\ua643\ua645\ua647\ua649\ua64b\ua64d\ua64f\ua651\ua653\ua655\ua657\ua659\ua65b\ua65d\ua65f\ua661\ua663\ua665\ua667\ua669\ua66b\ua66d\ua681\ua683\ua685\ua687\ua689\ua68b\ua68d\ua68f\ua691\ua693\ua695\ua697\ua723\ua725\ua727\ua729\ua72b\ua72d\ua72f-\ua731\ua733\ua735\ua737\ua739\ua73b\ua73d\ua73f\ua741\ua743\ua745\ua747\ua749\ua74b\ua74d\ua74f\ua751\ua753\ua755\ua757\ua759\ua75b\ua75d\ua75f\ua761\ua763\ua765\ua767\ua769\ua76b\ua76d\ua76f\ua771-\ua778\ua77a\ua77c\ua77f\ua781\ua783\ua785\ua787\ua78c\ua78e\ua791\ua7a1\ua7a3\ua7a5\ua7a7\ua7a9\ua7fa\ufb00-\ufb06\ufb13-\ufb17\uff41-\uff5a]",
Lt:"[\u01c5\u01c8\u01cb\u01f2\u1f88-\u1f8f\u1f98-\u1f9f\u1fa8-\u1faf\u1fbc\u1fcc\u1ffc]",Lm:"[\u02b0-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0374\u037a\u0559\u0640\u06e5\u06e6\u07f4\u07f5\u07fa\u081a\u0824\u0828\u0971\u0e46\u0ec6\u10fc\u17d7\u1843\u1aa7\u1c78-\u1c7d\u1d2c-\u1d61\u1d78\u1d9b-\u1dbf\u2071\u207f\u2090-\u209c\u2c7d\u2d6f\u2e2f\u3005\u3031-\u3035\u303b\u309d\u309e\u30fc-\u30fe\ua015\ua4f8-\ua4fd\ua60c\ua67f\ua717-\ua71f\ua770\ua788\ua9cf\uaa70\uaadd\uff70\uff9e\uff9f]",Lo:"[\u01bb\u01c0-\u01c3\u0294\u05d0-\u05ea\u05f0-\u05f2\u0620-\u063f\u0641-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u0800-\u0815\u0840-\u0858\u0904-\u0939\u093d\u0950\u0958-\u0961\u0972-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e45\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0edc\u0edd\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10d0-\u10fa\u1100-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17dc\u1820-\u1842\u1844-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bc0-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c77\u1ce9-\u1cec\u1cee-\u1cf1\u2135-\u2138\u2d30-\u2d65\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3006\u303c\u3041-\u3096\u309f\u30a1-\u30fa\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcb\ua000-\ua014\ua016-\ua48c\ua4d0-\ua4f7\ua500-\ua60b\ua610-\ua61f\ua62a\ua62b\ua66e\ua6a0-\ua6e5\ua7fb-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa6f\uaa71-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb\uaadc\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff66-\uff6f\uff71-\uff9d\uffa0-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]",
Mn:"[\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u0900-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962\u0963\u0981\u09bc\u09c1-\u09c4\u09cd\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b62\u0b63\u0b82\u0bc0\u0bcd\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc6\u0ccc\u0ccd\u0ce2\u0ce3\u0d41-\u0d44\u0d4d\u0d62\u0d63\u0dca\u0dd2-\u0dd4\u0dd6\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1be6\u1be8\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfc-\u1dff\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe26]",
Me:"[\u0488\u0489\u20dd-\u20e0\u20e2-\u20e4\ua670-\ua672]",Mc:"[\u0903\u093b\u093e-\u0940\u0949-\u094c\u094e\u094f\u0982\u0983\u09be-\u09c0\u09c7\u09c8\u09cb\u09cc\u09d7\u0a03\u0a3e-\u0a40\u0a83\u0abe-\u0ac0\u0ac9\u0acb\u0acc\u0b02\u0b03\u0b3e\u0b40\u0b47\u0b48\u0b4b\u0b4c\u0b57\u0bbe\u0bbf\u0bc1\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcc\u0bd7\u0c01-\u0c03\u0c41-\u0c44\u0c82\u0c83\u0cbe\u0cc0-\u0cc4\u0cc7\u0cc8\u0cca\u0ccb\u0cd5\u0cd6\u0d02\u0d03\u0d3e-\u0d40\u0d46-\u0d48\u0d4a-\u0d4c\u0d57\u0d82\u0d83\u0dcf-\u0dd1\u0dd8-\u0ddf\u0df2\u0df3\u0f3e\u0f3f\u0f7f\u102b\u102c\u1031\u1038\u103b\u103c\u1056\u1057\u1062-\u1064\u1067-\u106d\u1083\u1084\u1087-\u108c\u108f\u109a-\u109c\u17b6\u17be-\u17c5\u17c7\u17c8\u1923-\u1926\u1929-\u192b\u1930\u1931\u1933-\u1938\u19b0-\u19c0\u19c8\u19c9\u1a19-\u1a1b\u1a55\u1a57\u1a61\u1a63\u1a64\u1a6d-\u1a72\u1b04\u1b35\u1b3b\u1b3d-\u1b41\u1b43\u1b44\u1b82\u1ba1\u1ba6\u1ba7\u1baa\u1be7\u1bea-\u1bec\u1bee\u1bf2\u1bf3\u1c24-\u1c2b\u1c34\u1c35\u1ce1\u1cf2\ua823\ua824\ua827\ua880\ua881\ua8b4-\ua8c3\ua952\ua953\ua983\ua9b4\ua9b5\ua9ba\ua9bb\ua9bd-\ua9c0\uaa2f\uaa30\uaa33\uaa34\uaa4d\uaa7b\uabe3\uabe4\uabe6\uabe7\uabe9\uabea\uabec]",
Nd:"[0-9\u0660-\u0669\u06f0-\u06f9\u07c0-\u07c9\u0966-\u096f\u09e6-\u09ef\u0a66-\u0a6f\u0ae6-\u0aef\u0b66-\u0b6f\u0be6-\u0bef\u0c66-\u0c6f\u0ce6-\u0cef\u0d66-\u0d6f\u0e50-\u0e59\u0ed0-\u0ed9\u0f20-\u0f29\u1040-\u1049\u1090-\u1099\u17e0-\u17e9\u1810-\u1819\u1946-\u194f\u19d0-\u19d9\u1a80-\u1a89\u1a90-\u1a99\u1b50-\u1b59\u1bb0-\u1bb9\u1c40-\u1c49\u1c50-\u1c59\ua620-\ua629\ua8d0-\ua8d9\ua900-\ua909\ua9d0-\ua9d9\uaa50-\uaa59\uabf0-\uabf9\uff10-\uff19]",Nl:"[\u16ee-\u16f0\u2160-\u2182\u2185-\u2188\u3007\u3021-\u3029\u3038-\u303a\ua6e6-\ua6ef]",
No:"[\u00b2\u00b3\u00b9\u00bc-\u00be\u09f4-\u09f9\u0b72-\u0b77\u0bf0-\u0bf2\u0c78-\u0c7e\u0d70-\u0d75\u0f2a-\u0f33\u1369-\u137c\u17f0-\u17f9\u19da\u2070\u2074-\u2079\u2080-\u2089\u2150-\u215f\u2189\u2460-\u249b\u24ea-\u24ff\u2776-\u2793\u2cfd\u3192-\u3195\u3220-\u3229\u3251-\u325f\u3280-\u3289\u32b1-\u32bf\ua830-\ua835]",Zs:"[ \u00a0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000]",Zl:"[\u2028]",Zp:"[\u2029]",Cc:"[\x00-\u001f\u007f-\u009f]",Cf:"[\u00ad\u0600-\u0603\u06dd\u070f\u17b4\u17b5\u200b-\u200f\u202a-\u202e\u2060-\u2064\u206a-\u206f\ufeff\ufff9-\ufffb]",
Cs:"[\ud800-\udfff]",Co:"[\ue000-\uf8ff]",Ps:"[([{\u0f3a\u0f3c\u169b\u201a\u201e\u2045\u207d\u208d\u2329\u2768\u276a\u276c\u276e\u2770\u2772\u2774\u27c5\u27e6\u27e8\u27ea\u27ec\u27ee\u2983\u2985\u2987\u2989\u298b\u298d\u298f\u2991\u2993\u2995\u2997\u29d8\u29da\u29fc\u2e22\u2e24\u2e26\u2e28\u3008\u300a\u300c\u300e\u3010\u3014\u3016\u3018\u301a\u301d\ufd3e\ufe17\ufe35\ufe37\ufe39\ufe3b\ufe3d\ufe3f\ufe41\ufe43\ufe47\ufe59\ufe5b\ufe5d\uff08\uff3b\uff5b\uff5f\uff62]",Pd:"[-\u058a\u05be\u1400\u1806\u2010-\u2015\u2e17\u2e1a\u301c\u3030\u30a0\ufe31\ufe32\ufe58\ufe63\uff0d]",
Pc:"[_\u203f\u2040\u2054\ufe33\ufe34\ufe4d-\ufe4f\uff3f]",Pe:"[)]}\u0f3b\u0f3d\u169c\u2046\u207e\u208e\u232a\u2769\u276b\u276d\u276f\u2771\u2773\u2775\u27c6\u27e7\u27e9\u27eb\u27ed\u27ef\u2984\u2986\u2988\u298a\u298c\u298e\u2990\u2992\u2994\u2996\u2998\u29d9\u29db\u29fd\u2e23\u2e25\u2e27\u2e29\u3009\u300b\u300d\u300f\u3011\u3015\u3017\u3019\u301b\u301e\u301f\ufd3f\ufe18\ufe36\ufe38\ufe3a\ufe3c\ufe3e\ufe40\ufe42\ufe44\ufe48\ufe5a\ufe5c\ufe5e\uff09\uff3d\uff5d\uff60\uff63]",Sm:"[+<->|~\u00ac\u00b1\u00d7\u00f7\u03f6\u0606-\u0608\u2044\u2052\u207a-\u207c\u208a-\u208c\u2118\u2140-\u2144\u214b\u2190-\u2194\u219a\u219b\u21a0\u21a3\u21a6\u21ae\u21ce\u21cf\u21d2\u21d4\u21f4-\u22ff\u2308-\u230b\u2320\u2321\u237c\u239b-\u23b3\u23dc-\u23e1\u25b7\u25c1\u25f8-\u25ff\u266f\u27c0-\u27c4\u27c7-\u27ca\u27cc\u27ce-\u27e5\u27f0-\u27ff\u2900-\u2982\u2999-\u29d7\u29dc-\u29fb\u29fe-\u2aff\u2b30-\u2b44\u2b47-\u2b4c\ufb29\ufe62\ufe64-\ufe66\uff0b\uff1c-\uff1e\uff5c\uff5e\uffe2\uffe9-\uffec]",
Po:"[!-#%-'*,./:;?@\\\u00a1\u00b7\u00bf\u037e\u0387\u055a-\u055f\u0589\u05c0\u05c3\u05c6\u05f3\u05f4\u0609\u060a\u060c\u060d\u061b\u061e\u061f\u066a-\u066d\u06d4\u0700-\u070d\u07f7-\u07f9\u0830-\u083e\u085e\u0964\u0965\u0970\u0df4\u0e4f\u0e5a\u0e5b\u0f04-\u0f12\u0f85\u0fd0-\u0fd4\u0fd9\u0fda\u104a-\u104f\u10fb\u1361-\u1368\u166d\u166e\u16eb-\u16ed\u1735\u1736\u17d4-\u17d6\u17d8-\u17da\u1800-\u1805\u1807-\u180a\u1944\u1945\u1a1e\u1a1f\u1aa0-\u1aa6\u1aa8-\u1aad\u1b5a-\u1b60\u1bfc-\u1bff\u1c3b-\u1c3f\u1c7e\u1c7f\u1cd3\u2016\u2017\u2020-\u2027\u2030-\u2038\u203b-\u203e\u2041-\u2043\u2047-\u2051\u2053\u2055-\u205e\u2cf9-\u2cfc\u2cfe\u2cff\u2d70\u2e00\u2e01\u2e06-\u2e08\u2e0b\u2e0e-\u2e16\u2e18\u2e19\u2e1b\u2e1e\u2e1f\u2e2a-\u2e2e\u2e30\u2e31\u3001-\u3003\u303d\u30fb\ua4fe\ua4ff\ua60d-\ua60f\ua673\ua67e\ua6f2-\ua6f7\ua874-\ua877\ua8ce\ua8cf\ua8f8-\ua8fa\ua92e\ua92f\ua95f\ua9c1-\ua9cd\ua9de\ua9df\uaa5c-\uaa5f\uaade\uaadf\uabeb\ufe10-\ufe16\ufe19\ufe30\ufe45\ufe46\ufe49-\ufe4c\ufe50-\ufe52\ufe54-\ufe57\ufe5f-\ufe61\ufe68\ufe6a\ufe6b\uff01-\uff03\uff05-\uff07\uff0a\uff0c\uff0e\uff0f\uff1a\uff1b\uff1f\uff20\uff3c\uff61\uff64\uff65]",
Sk:"[^`\u00a8\u00af\u00b4\u00b8\u02c2-\u02c5\u02d2-\u02df\u02e5-\u02eb\u02ed\u02ef-\u02ff\u0375\u0384\u0385\u1fbd\u1fbf-\u1fc1\u1fcd-\u1fcf\u1fdd-\u1fdf\u1fed-\u1fef\u1ffd\u1ffe\u309b\u309c\ua700-\ua716\ua720\ua721\ua789\ua78a\ufbb2-\ufbc1\uff3e\uff40\uffe3]",Sc:"[$\u00a2-\u00a5\u060b\u09f2\u09f3\u09fb\u0af1\u0bf9\u0e3f\u17db\u20a0-\u20b9\ua838\ufdfc\ufe69\uff04\uffe0\uffe1\uffe5\uffe6]",Pi:"[\u00ab\u2018\u201b\u201c\u201f\u2039\u2e02\u2e04\u2e09\u2e0c\u2e1c\u2e20]",So:"[\u00a6\u00a7\u00a9\u00ae\u00b0\u00b6\u0482\u060e\u060f\u06de\u06e9\u06fd\u06fe\u07f6\u09fa\u0b70\u0bf3-\u0bf8\u0bfa\u0c7f\u0d79\u0f01-\u0f03\u0f13-\u0f17\u0f1a-\u0f1f\u0f34\u0f36\u0f38\u0fbe-\u0fc5\u0fc7-\u0fcc\u0fce\u0fcf\u0fd5-\u0fd8\u109e\u109f\u1360\u1390-\u1399\u1940\u19de-\u19ff\u1b61-\u1b6a\u1b74-\u1b7c\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116\u2117\u211e-\u2123\u2125\u2127\u2129\u212e\u213a\u213b\u214a\u214c\u214d\u214f\u2195-\u2199\u219c-\u219f\u21a1\u21a2\u21a4\u21a5\u21a7-\u21ad\u21af-\u21cd\u21d0\u21d1\u21d3\u21d5-\u21f3\u2300-\u2307\u230c-\u231f\u2322-\u2328\u232b-\u237b\u237d-\u239a\u23b4-\u23db\u23e2-\u23f3\u2400-\u2426\u2440-\u244a\u249c-\u24e9\u2500-\u25b6\u25b8-\u25c0\u25c2-\u25f7\u2600-\u266e\u2670-\u26ff\u2701-\u2767\u2794-\u27bf\u2800-\u28ff\u2b00-\u2b2f\u2b45\u2b46\u2b50-\u2b59\u2ce5-\u2cea\u2e80-\u2e99\u2e9b-\u2ef3\u2f00-\u2fd5\u2ff0-\u2ffb\u3004\u3012\u3013\u3020\u3036\u3037\u303e\u303f\u3190\u3191\u3196-\u319f\u31c0-\u31e3\u3200-\u321e\u322a-\u3250\u3260-\u327f\u328a-\u32b0\u32c0-\u32fe\u3300-\u33ff\u4dc0-\u4dff\ua490-\ua4c6\ua828-\ua82b\ua836\ua837\ua839\uaa77-\uaa79\ufdfd\uffe4\uffe8\uffed\uffee\ufffc\ufffd]",
Pf:"[\u00bb\u2019\u201d\u203a\u2e03\u2e05\u2e0a\u2e0d\u2e1d\u2e21]"},b={},c;for(c in a)b[c[0]]=b[c[0]]?a[c].substring(0,a[c].length-1)+b[c[0]].substring(1):a[c];for(c in b)a[c]=b[c];return function(b){var c="";b instanceof RegExp&&(c=(b.global?"g":"")+(b.ignoreCase?"i":"")+(b.multiline?"m":""),b=b.source);b=b.replace(/\\p\{(..?)\}/g,function(b,c){return a[c]||b});return new RegExp(b,c)}}()},function(m,n){Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(a){var b=
"",c,d,e,f,k,l,p=0;for(a=Base64._utf8_encode(a);p<a.length;)c=a.charCodeAt(p++),d=a.charCodeAt(p++),e=a.charCodeAt(p++),f=c>>2,c=(c&3)<<4|d>>4,k=(d&15)<<2|e>>6,l=e&63,isNaN(d)?k=l=64:isNaN(e)&&(l=64),b=b+Base64._keyStr.charAt(f)+Base64._keyStr.charAt(c)+Base64._keyStr.charAt(k)+Base64._keyStr.charAt(l);return b},decode:function(a){var b="",c,d,e,f,k,l=0;for(a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<a.length;)c=Base64._keyStr.indexOf(a.charAt(l++)),d=Base64._keyStr.indexOf(a.charAt(l++)),f=Base64._keyStr.indexOf(a.charAt(l++)),
k=Base64._keyStr.indexOf(a.charAt(l++)),c=c<<2|d>>4,d=(d&15)<<4|f>>2,e=(f&3)<<6|k,b+=String.fromCharCode(c),64!=f&&(b+=String.fromCharCode(d)),64!=k&&(b+=String.fromCharCode(e));return b=Base64._utf8_decode(b)},_utf8_encode:function(a){a=a.replace(/\r\n/g,"\n");for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b+=String.fromCharCode(d):(127<d&&2048>d?b+=String.fromCharCode(d>>6|192):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128)),b+=String.fromCharCode(d&63|128))}return b},
_utf8_decode:function(a){var b="",c=0,d;for(c1=c2=0;c<a.length;)d=a.charCodeAt(c),128>d?(b+=String.fromCharCode(d),c++):191<d&&224>d?(c2=a.charCodeAt(c+1),b+=String.fromCharCode((d&31)<<6|c2&63),c+=2):(c2=a.charCodeAt(c+1),c3=a.charCodeAt(c+2),b+=String.fromCharCode((d&15)<<12|(c2&63)<<6|c3&63),c+=3);return b}}},function(m,n){(function(a){(function(){var b=function(){if("undefined"!==typeof window&&"undefined"!==typeof navigator&&navigator.platform&&navigator.platform.indexOf){var b=navigator.platform,
c=navigator.userAgent,f=b+"\n"+c;return _.extend({engine:"browser",browserEngine:0<=c.indexOf("AppleWebKit")?"WebKit":void 0,browser:0<=c.indexOf("Firefox")?"Firefox":0<=c.indexOf("Chrome")?"Chrome":0<=c.indexOf("Safari")?"Safari":0<=c.indexOf("Trident")?"IE":void 0},0<=b.indexOf("Linux arm")||0<=f.indexOf("Android")?{touch:!0,system:"Android"}:0<=f.indexOf("iPad")?{touch:!0,system:"iOS",device:"iPad"}:0<=f.indexOf("iPhone")||0<=f.indexOf("iPod")?{touch:!0,system:"iOS",device:"iPhone"}:{})}return"undefined"!==
typeof a&&a._?{engine:"node"}:{}}(),c="browser"===b.engine?window:"node"===b.engine?a:void 0;c.define=function(a,b,f){if(a in c)throw Error("cannot define global "+a+": already there");return Object.defineProperty(c,a,_.extend(b&&b.get instanceof Function&&b.set instanceof Function&&b||b instanceof Function&&0===b.length&&{get:b}||{value:b},{enumerable:!0},f))};c.define("$global",c);c.define("$platform",Object.defineProperties({},_.mapObject({engine:b.engine,system:b.system,device:b.device,touch:b.touch||
!1,IE:"IE"===b.browser,Firefox:"Firefox"===b.browser,Safari:"Safari"===b.browser,Chrome:"Chrome"===b.browser,WebKit:"WebKit"===b.browserEngine,Browser:"browser"===b.engine,NodeJS:"node"===b.engine,iPad:"iPad"===b.device,iPhone:"iPhone"===b.device,iOS:"iOS"===b.system},function(a,b){return{enumerable:!0,value:a}})))})();$overrideUnderscore=function(a,c){return _[a]=c(_[a])};$platform.NodeJS&&($global.alert=function(a){var c=$global.log&&_.partial(log.warn,log.config({stackOffset:2}))||console.log;
c.apply(c,["ALERT:"].concat(_.asArray(arguments)))});$global.alert2=function(a){alert(_.map(arguments,_.stringify).join(", "));return arguments[0]};$global.log=function(){console.log.apply(console,arguments)}}).call(n,function(){return this}())},function(m,n){_.deferTest(["stdlib","asArray"],function(){(function(a,c){var d=_.asArray(arguments);$assert(_.isArray(d));$assert(2===d.length);$assert(d[0]===a);$assert(d[1]===c)})(42,43);$assert(_.asArray(42),[42]);var a={0:"foo",length:1};$assert(_.asArray(a),
["foo"]);$assert(a,{0:"foo",length:1})},function(){_.extend(_,{asArray:function(a){return void 0!==a.length?[].slice.call(a,0):[a]}})});_.deferTest("argcount tracking",function(){var a=function(){},b=function(a,b,c){},c=$restArg(function(){});$assert(!0===_.noArgs(a));$assert(!1===_.hasArgs(a));$assert(3===_.numArgs(b));$assert(!0===_.hasArgs(b));$assert(!0===_.restArg(c));$assert(!1===_.noArgs(c));$assert(!0===_.oneArg(function(a){}));a=_.withSameArgs(b,function(){});b=_.withArgs(_.numArgs(b)-1,
_.restArg(b),function(){});$assert([_.numArgs(a),_.restArg(a)],[3,!1]);$assert([_.numArgs(b),_.restArg(b)],[2,!1])},function(){_.extend(_,{numArgs:function(a){return void 0===a._ac?a.length:a._ac},restArg:function(a){return a._ra||!1},noArgs:function(a){return 0===_.numArgs(a)&&!a._ra},hasArgs:function(a){return 0<_.numArgs(a)&&!a._ra},oneArg:function(a){return 1===_.numArgs(a)&&!a._ra},withRestArg:$restArg=function(a){Object.defineProperty(a,"_ra",{enumerable:!1,writable:!0,value:!0});return a},
withArgs:function(a,b,c){void 0!==a&&Object.defineProperty(c,"_ac",{enumerable:!1,writable:!0,value:a});void 0!==b&&Object.defineProperty(c,"_ra",{enumerable:!1,writable:!0,value:b});return c},withSameArgs:function(a,b){return _.withArgs(_.numArgs(a),_.restArg(a),b)}})});$overrideUnderscore("memoize",function(a){return function(b){return _.withSameArgs(b,a(b))}});$overrideUnderscore("partial",function(a){return $restArg(function(b){return _.withArgs(Math.max(0,_.numArgs(b)-(arguments.length-1)),b._ra,
a.apply(this,arguments))})});$overrideUnderscore("bind",function(a){return $restArg(function(b,c){return _.withArgs(Math.max(0,_.numArgs(b)-(arguments.length-2)),b._ra,a.apply(this,arguments))})})},function(m,n){_.debugEcho=function(){return[this].concat(_.asArray(arguments))};_.call=function(a,b,c){return a.apply(b,_.rest(arguments,2))};_.arity=function(a,b){return function(){return b.apply(this,_.first(arguments,a))}};_.arity0=function(a){return function(){return a.call(this)}};_.arity1=function(a){return function(b){return a.call(this,
b)}};_.arity2=function(a){return function(b,c){return a.call(this,b,c)}};_.arity3=function(a){return function(b,c,d){return a.call(this,b,c,d)}};_.arityFn=function(a){return _["arity"+a]};_.tails=$restArg(function(a){var b=_.rest(arguments);return function(){return a.apply(this,_.asArray(arguments).concat(b))}});_.tails2=$restArg(function(a){var b=_.rest(arguments);return function(c){return a.apply(this,[c].concat(b))}});_.tails3=$restArg(function(a){var b=_.rest(arguments);return function(c,d){return a.apply(this,
[c,d].concat(b))}});_.deferTest(["function","calls / tails"],function(){var a=_.debugEcho,b=_.callsWith("foo",42),c=_.tailsWith("foo",42),b=b(a),c=c(a),d=_.callsTo(a),e=_.tailsTo(a)("bar",24),d=d("bar",24);$assert(b.call("lol",777),["lol","foo",42,777]);$assert(d.call("lol",777),["lol","bar",24,777]);$assert(c.call("lol",777),["lol",777,"foo",42]);$assert(e.call("lol",777),["lol",777,"bar",24]);$assertEveryCalledOnce(function(b){_.argumentPrependingWrapper(a,function(a){$assert(a(777),["lol",777,
"foo",42]);b()}).call("lol","foo",42)})},function(){_.callsTo=function(a){return $restArg(function(){return _.callsWith.apply(null,arguments)(a)})};_.tailsTo=function(a,b){return $restArg(function(){return _.tailsWith.apply(null,arguments)(a)})};_.callsWith=$restArg(function(){var a=_.asArray(arguments);return function(b){return _.withSameArgs(b,function(){return b.apply(this,a.concat(_.asArray(arguments)))})}});_.tailsWith=$restArg(function(){var a=_.asArray(arguments);return function(b){return _.withSameArgs(b,
function(){return b.apply(this,_.asArray(arguments).concat(a))})}});_.argumentAppendingWrapper=function(a,b){return _.withSameArgs(a,function(){var c=this,d=_.asArray(arguments);return b(function(){return a.apply(c,d.concat(_.asArray(arguments)))})})};_.argumentPrependingWrapper=function(a,b){return _.withSameArgs(a,function(){var c=this,d=_.asArray(arguments);return b(function(){return a.apply(c,_.asArray(arguments).concat(d))})})}});_["new"]=$restArg(function(a,b,c,d,e){switch(arguments.length){case 1:return new a;
case 2:return new a(b);case 3:return new a(b,c);case 4:return new a(b,c,d);case 5:return new a(b,c,d,e);default:_.notImplemented()}});_.flipN=function(a){return $restArg(function(){return a.apply(this,_.asArray(arguments).reverse())})};_.flip=function(a){if(_.restArg(a))return _.flipN(a);switch(_.numArgs(a)){case 0:case 1:return a;case 2:return _.flip2(a);case 3:return _.flip3(a);default:throw Error("flip: unsupported arity");}};_.flip2=function(a){return function(b,c){return a.call(this,c,b)}};_.flip3=
function(a){return function(b,c,d){return a.call(this,d,c,b)}};_.or=function(a,b){return function(){return a.apply(this,arguments)||b.apply(this,arguments)}};_.and=function(a,b){return function(){return a.apply(this,arguments)&&b.apply(this,arguments)}};_.not=function(a){return function(){return!a.apply(this,arguments)}};_.deferTest(["function","Y combinator"],function(){var a=_.Y(function(a){return function(c){return 5<=c?c:a(c+1)}});$assert(a(0),5)},function(){_.extend(_,{Y:function(a){var b=a(function(){return b.apply(this,
arguments)});return b}})});(function(){_.hyperOperator=function(a,b,c,d){var e=_.arityFn(a)||_.identity,f=(c||_.goDeeperWhenFirstArgumentIsGood)(a,d||_.isNonTrivial);return function(){var a=_.last(arguments);return _.Y(function(c){var d=_.tails(b,e(c));return function(){return(f(arguments)?d:a).apply(this,arguments)}}).apply(this,_.initial(arguments))}};_.goDeeperWhenFirstArgumentIsGood=function(a,b){return function(a){return 0<a.length?b(a[0]):!1}};_.goDeeperAlwaysIfPossible=function(a,b){return 0===
a?_.constant(!1):1===a?function(a){return b(a[0])}:2===a?function(a){return b(a[0])||b(a[1])}:function(a){return _.some(_.asArray(a),b)}};_.goDeeperOnlyWhenNessesary=function(a,b){return 0===a?_.constant(!1):1===a?function(a){return b(a[0])}:2===a?function(a){return b(a[0])&&b(a[1])}:function(a){return _.every(_.asArray(a),b)}};_.isTrivial=function(a){return _.isEmpty(a)||_.isString(a)||_.isNumber(a)||!(_.isStrictlyObject(a)||_.isArray(a))||_.isPrototypeInstance(a)||_.isMeta(a)};_.isMeta=_.constant(!1);
_.isNonTrivial=_.not(_.isTrivial);_.binary=2;_.unary=1})();_.deferTest(["function","higherOrder"],function(){var a=[],b=_.higherOrder(function(b){a.push(b)});_.times(3,b("foo"));$assert(a,["foo","foo","foo"])},function(){_.higherOrder=_.callsTo});_.deferTest(["function","eval/evals"],function(){var a=_.property("number"),b=_.evals({number:42});$assert(_.eval(42),_.eval(function(){return 42}),b(a),42)},function(){_.eval=function(a){return _.isFunction(a)?a.call(this):a};_.evals=function(a){var b=arguments;
return function(a){return _.isFunction(a)?a.apply(this,b):a}}});_.method=function(a){var b=_.rest(arguments);return function(c){return c[a].apply(c,b)}};_.asFreeFunction=function(a){return function(b,c){return a.apply(b,_.rest(arguments))}};_.asMethod=function(a){return function(){return a.apply(void 0,[this].concat(_.asArray(arguments)))}};_.deferTest(["function","once"],function(){$assertEveryCalledOnce(function(a){var b=_.once(function(){a()});b();b()})},function(){_.once=function(a){var b=!1;
return function(){if(!b)return b=!0,a.apply(this,arguments)}}});_.deferTest(["function","withTimeout"],function(a){_.withTimeout({maxTime:10,expired:function(){$fail}},function(a){a()});_.withTimeout({maxTime:10,expired:function(b){a()}},function(a){_.delay(a,20)},function(){$fail})},function(){_.withTimeout=function(a,b,c){var d=!1,e=setTimeout(function(){d=!0;a.expired&&a.expired(c)},a.maxTime);b(function(){d||(clearTimeout(e),c&&c.apply(this,arguments))})}});_.deferTest(["function","sequence / then"],
function(){var a={foo:"bar"},b=function(b){$assert(this===a);return"cookies from "+b},c=function(b){$assert(this===a);return"nice "+b},d=b.then?b.then(c):_.then(b,c),e=_.sequence(b,c),b=_.sequence([b,c]);$assert(d.call(a,"shit"),"nice cookies from shit");$assert(e.call(a,"shit"),"nice cookies from shit");$assert(b.call(a,"shit"),"nice cookies from shit");$assert(_.sequence([]).call(a,"foo"),"foo");return _.then(function(a){return Promise.resolve(a)},function(a){return a+"bar"})("foo").then(function(a){$assert(a,
"foobar")})},function(){_.sequence=function(a){var b=_.isArray(a)?a:_.asArray(arguments),c=b.length;return 0===c?_.identity:function(a){for(var e=0;e<c;e++)a=b[e].call(this,a);return a}};_.seq=_.sequence;_.then=function(a,b){return function(c){var d=a.apply(this,arguments);return d instanceof Promise?d.then(b.bind(this)):b.call(this,d)}}})},function(m,n){_.asString=function(a){return a+""};_.typeOf=function(a){return typeof a};_.instanceOf=function(a){return function(b){return b instanceof a}};_.count=
function(a){return a.length};_.array=_.tuple=function(){return _.asArray(arguments)};_.cons=function(a,b){return[a].concat(b||[])};_.atIndex=function(a){return function(b){return b[a]}};_.takesFirst=_.higherOrder(_.first);_.takesLast=_.higherOrder(_.last);_.applies=function(a,b,c){return function(){return a.apply(b,c)}};_.prepends=function(a){return function(b){return a+b}};_.appends=function(a){return function(b){return b+a}};_.join=function(a,b){return a.join(b)};_.joinWith=_.flip2(_.join);_.joinsWith=
_.higherOrder(_.joinWith);_.split=function(a,b){return a.split(b)};_.splitWith=_.flip2(_.split);_.splitsWith=_.higherOrder(_.splitWith);_.sum=function(a,b){return(a||0)+(b||0)};_.subtract=function(a,b){return(a||0)-(b||0)};_.mul=function(a,b){return(a||0)*(b||0)};_.equal=function(a,b){return a===b};_.sums=_.plus=_.higherOrder(_.sum);_.subtracts=_.minus=_.higherOrder(_.subtract);_.muls=_.higherOrder(_.mul);_.equals=_.higherOrder(_.equal);_.less=function(a,b){return a<b};_.lessOrEqual=function(a,b){return a<=
b};_.greater=function(a,b){return a>b};_.greaterOrEqual=function(a,b){return a>=b};_.isNegative=function(a){return 0>a};_.largest=function(a,b){return isNaN(a)&&isNaN(b)?NaN:isNaN(a)?b:isNaN(b)?a:Math.max(a,b)};_.notZero=function(a){return 0!==a};_.propertyOf=function(a){return function(b){return a[b]}};_.oneOf=$restArg(function(){return _.propertyOf(_.index(_.asArray(arguments)))})},function(m,n){_.isInstanceofSyntaxAvailable=function(){var a=Error();try{return a instanceof Error}catch(b){return!1}};
_.isTypeOf_ES4=function(a,b){for(;b;){if(b.constructor===a)return!0;b=b.constructor.$base}return!1};_.isTypeOf_ES5=function(a,b){return b instanceof a};_.isTypeOf=_.isInstanceofSyntaxAvailable()?_.isTypeOf_ES5:_.isTypeOf_ES4;_.isPrototypeInstance=function(a){return a&&a.constructor&&_.isPrototypeConstructor(a.constructor)};_.isPrototypeConstructor=function(a){return a&&void 0!==a.$definition||!1};_.coerceToNaN=function(a){return _.isFinite(a)?a:Number.NaN};_.coerceToArray=function(a){return void 0===
a?[]:_.isArray(a)?a:[a]};_.coerceToFunction=function(a){return _.isFunction(a)?a:_.constant(a)};_.isArrayLike=function(a){return a instanceof Array||$platform.Browser&&a instanceof NodeList};_.deferTest(["type","isArray"],function(){var a=$extends(Array,{method:function(){return 42}});$assert(_.isArray(new a))},function(){_.isArray=function(a){return a instanceof Array}});_.deferTest(["type","matches(regex)"],function(){var a=function(a,c){$assert(_.match(a,c));$assert(_.matches(c)(a));$assertMatches(a,
c)};$assertFails(function(){a({foo:[1,2],bar:2},{foo:[3],bar:2});a({bar:{foo:"foo"}},{bar:{foo:/[0-9]+/}});a({},{foo:1})});$assertFails(function(){a({foo:1},void 0);a(".DS_Store",/.+\.js/)});a({foo:[1,2],bar:2},{foo:[2]});a({bar:{foo:"123",qux:1}},{bar:{foo:/[0-9]+/}});a({foo:1},{})},function(){_.mixin({matches:function(a){return 0===arguments.length&&_.constant(!0)||_.tails2(_.match,a)},match:function(a,b){return a===b||_.isArray(a)&&_.isArray(b)&&_.arrayMatch(a,b)||_.isObject(a)&&_.isObject(b)&&
_.objectMatch(a,b)||_.isTypeOf(RegExp,b)&&_.isString(a)&&null!==a.match(b)},arrayMatch:function(a,b){return _.every(b,_.propertyOf(_.index(a)))},objectMatch:function(a,b){return _.reduce(_.pairs(b),function(b,d){return b&&_.match(a[d[0]],d[1])},!0)}})});_.deferTest(["type","isScalar"],function(){$assert(_.every([42,"foo",null,void 0,!0],_.isScalar));$assert(_.every([/foo/,new Date,{},[]],_.not(_.isScalar)))},function(){_.isScalar=function(a){return void 0===a||null===a||a&&a.constructor&&(a.constructor===
String||a.constructor===Number||a.constructor===Boolean)}});_.deferTest(["type","POD"],function(){$assert(_.every([[],{},42,"foo",null,void 0,!0].map(_.isPOD)));$assert(_.every([/foo/,new Date].map(_.isNonPOD)))},function(){_.isNonPOD=function(a){return a&&a.constructor&&a.constructor!==Object&&a.constructor!==Array&&a.constructor!==String&&a.constructor!==Number&&a.constructor!==Boolean};_.isPOD=function(a){return!_.isNonPOD(a)}});_.deferTest(["type","numbers"],function(){$assert(_.every(_.map([0,
1,-7,200003,12344567788],_.arity1(_.not(_.isDecimal)))));$assert(_.every(_.map([.1,-.001,1E-4,-1E-6,1E-6],_.arity1(_.isDecimal))));$assert(_.isDecimal(.003,.01),!1)},function(){"undefined"===typeof Number.EPSILON&&Object.defineProperty(Number,"EPSILON",{enumerable:!0,get:_.constant(2.220446049250313E-16)});_.isDecimal=function(a,b){return!_.isNumber(a)||_.isNaN(a)?!1:Math.abs(Math.floor(a)-a)>(b||Number.EPSILON)}});_.deferTest(["type","empty-centric routines"],function(){$assert(_.coerceToObject({foo:42}),
{foo:42});$assert(_.coerceToObject([1,2,3]),[1,2,3]);$assert(_.coerceToObject(42),{});$assert(_.coerceToObject(void 0),{});$assert(_.coerceToEmpty(42),void 0);$assert(_.coerceToEmpty([42]),[]);$assert(_.coerceToEmpty({foo:42}),{});$assert([_.isNonemptyString("foo"),_.isNonemptyString(""),_.isNonemptyString([])],[!0,!1,!1]);$assert(_.isEmptyArray([]),!0);$assert(_.isEmptyArray([1,2,3]),!1);$assert(_.isEmptyArray(void 0),!1);$assert(_.isEmptyArray(null),!1);$assert(_.isEmptyArray(""),!1);$assert(_.isEmptyObject({}),
!0);$assert(_.isEmptyObject([]),!1);$assert(_.isEmptyObject({foo:1}),!1);$assert(_.isEmptyObject(void 0),!1);$assert(_.isEmptyObject(null),!1);$assert(_.isEmptyObject(""),!1);$assert(_.isEmptyObject(0),!1);$assert(_.isEmptyObject(!1),!1);$assert(_.isEmpty(0),!1);$assert(_.isEmpty(!1),!1);$assert(_.isEmpty(/.+\.js/),!1);$assert(_.isEmpty(null),!0);$assert(_.isEmpty({}),!0);$assert(_.isEmpty([]),!0);$assert(_.isNonempty("foo"),!0);$assert(_.coerceToUndefined(void 0),void 0);$assert(_.coerceToUndefined({}),
void 0);$assert(_.coerceToUndefined([]),void 0);$assert(_.coerceToUndefined(""),void 0);$assert(_.coerceToUndefined(null),void 0);$assert(_.coerceToUndefined(0),0);$assert(_.coerceToUndefined(Math.NaN),void 0);$assert(_.coerceToUndefined(!1),!1);$assert(_.coerceToUndefined({foo:1}),{foo:1});$assert(_.coerceToUndefined([1,2]),[1,2])},function(){_.extend(_,{isEmpty:function(a){return void 0===_.coerceToUndefined(a)},isNonempty:function(a){return void 0!==_.coerceToUndefined(a)},isEmptyObject:function(a){return!_.isArray(a)&&
!_.isFunction(a)&&_.isObject(a)&&0===_.keys(a).length},isStrictlyObject:function(a){return a&&"object"===typeof a?!0:!1},isEmptyArray:function(a){return _.isArray(a)&&0===a.length},isNonemptyString:function(a){return"string"===typeof a&&0<a.length},coerceToObject:function(a){return _.isStrictlyObject(a)?a:{}},coerceToEmpty:function(a){if(_.isArray(a))return[];if(_.isStrictlyObject(a))return{}},coerceToUndefined:function(a){return void 0===a||null===a||a===Math.NaN||""===a||_.isPOD(a)&&(_.isEmptyObject(a)||
0===a.length)?void 0:a}})})},function(m,n){_.hasStdlib=!0;_.deferTest(["stdlib","throwsError"],function(){$assertThrows(_["throws"]("foo"),"foo");$assertThrows(_.throwsError("\u043d\u0435\u0443\u043b\u043e\u0432\u0438\u043c\u044b\u0439 \u0414\u0436\u043e"),_.matches({message:"\u043d\u0435\u0443\u043b\u043e\u0432\u0438\u043c\u044b\u0439 \u0414\u0436\u043e"}));$assertThrows(_.throwsError(Error("\u043d\u0435\u0443\u043b\u043e\u0432\u0438\u043c\u044b\u0439 \u0414\u0436\u043e")),_.matches({message:"\u043d\u0435\u0443\u043b\u043e\u0432\u0438\u043c\u044b\u0439 \u0414\u0436\u043e"}))},
function(){_.throwsError=_.higherOrder(_.throwError=function(a){throw a instanceof Error?a:Error(a);});_["throws"]=_.higherOrder(_["throw"]=function(a){throw a;});_.overrideThis=_.throwsError("override this");_.notImplemented=_.throwsError("not implemented")});_.deferTest(["stdlib","values2"],function(){$assert(_.values2(void 0),[]);$assert(_.values2(_.identity),[_.identity]);$assert(_.values2("foo"),["foo"]);$assert(_.values2(["foo","bar"]),["foo","bar"]);$assert(_.values2({f:"foo",b:"bar"}),["foo",
"bar"])},function(){_.mixin({values2:function(a){return _.isArrayLike(a)?a:_.isStrictlyObject(a)?_.values(a):_.isEmpty(a)?[]:[a]}})});_.deferTest(["stdlib","map2"],function(){var a=_.appends("bar");$assert(_.map2("foo",a),"foobar");$assert(_.map2(["foo"],a),["foobar"]);$assert(_.map2({foo:"foo"},a),{foo:"foobar"});$assert(Array.from(_.map2(new Set(["foo","bar"]),a).values()),["foobar","barbar"]);$assert(_.mapWith(a,{foo:"foo"}),{foo:"foobar"})},function(){_.mixin({map2:function(a,b,c){return _.isArrayLike(a)?
_.map(a,b,c):a instanceof Set?_.mapSet(a,b,c):_.isStrictlyObject(a)?_.mapObject(a,b,c):b.call(c,a)}});_.mapSet=function(a,b,c){var d=new Set;a=$jscomp.makeIterator(a);for(var e=a.next();!e.done;e=a.next())d.add(b.call(c,e.value));return d};_.mapsWith=_.higherOrder(_.mapWith=_.flip2(_.map2))});_.pluck2=function(a,b){return _.map2(a,_.property(b))};_.deferTest(["stdlib","scatter/obj/arr"],function(){$assert(void 0,_.scatter([],_.noop));$assert([1,10,2,20,3,30],_.scatter([1,2,3],function(a,b,c){c(a);
c(10*a)}));$assert({b:0,a:1,r:2},_.scatter("bar",function(a,b,c){_.each(a.split(""),_.flip(c))}));$assert(_.obj(_.noop),_.arr(_.noop),void 0);$assert(_.obj(function(a){a(42,"foo");a(43,"bar")}),{foo:42,bar:43});$assert(_.arr(function(a){a(42);a(43,44)}),[42,[43,44]])},function(){_.mixin({scatter:function(a,b){var c=void 0;_.map2(a,function(a,e){b(a,e,function(a,b){2>arguments.length?(c=c||[]).push(a):(c=c||{})[b]=a})});return c}});_.obj=function(a){var b=void 0;a(function(a,d){(b=b||{})[d]=a});return b};
_.arr=function(a){var b=void 0;a(function(a){(b=b||[]).push(2>arguments.length?a:_.asArray(arguments))});return b}});_.deferTest(["stdlib","mapKeys"],function(){$assert(_.mapKeys({foo:[1,2,{gay:3}]},_.appends("bar")),{foobar:[1,2,{gaybar:3}]})},function(){_.mapKeys=function(a,b){return _.isArrayLike(a)?_.map(a,_.tails2(_.mapKeys,b)):_.isStrictlyObject(a)?_.object(_.map(_.pairs(a),function(a){return[b(a[0]),_.mapKeys(a[1],b)]})):a}});_.deferTest(["stdlib","mapMap"],function(){$assert(_.mapMap(7,_.typeOf),
"number");$assert(_.mapMap([7],_.typeOf),["number"]);$assert(_.mapMap({foo:7,bar:["foo",{bar:void 0}]},_.typeOf),{foo:"number",bar:["string",{bar:"undefined"}]})},function(){_.mapMap=_.hyperOperator(_.unary,_.map2)});_.deferTest(["stdlib","hyperMap"],function(){var a=_.matches({bar:{baz:5}}),b=_.hyperMap({garply:{bar:{baz:5}},frobni:{foo:[{bar:{baz:5}}]}},function(b){if(a(b))return"pwned!"});$assert(b,{garply:"pwned!",frobni:{foo:["pwned!"]}})},function(){_.hyperMap=function(a,b){return _.hyperOperator(_.unary,
function(a,d){return b(a)||_.map2(a,d)})(a,_.identity)}});_.deferTest(["stdlib","pairs2"],function(){$assert(_.pairs2(void 0),[[void 0,void 0]]);$assert(_.pairs2(_.identity),[[void 0,_.identity]]);$assert(_.pairs2("foo"),[[void 0,"foo"]]);$assert(_.pairs2(["foo","bar"]),[[0,"foo"],[1,"bar"]]);$assert(_.pairs2({0:"foo",1:"bar"}),[["0","foo"],["1","bar"]])},function(){_.pairs2=function(a){return _.scatter(a,function(a,c,d){d([c,a])})}});_.deferTest(["stdlib","filter 2.0"],function(){var a=_.equals("foo");
$assert(_.filter2("foo",a),"foo");$assert(_.filter2(["foo"],a),["foo"]);$assert(_.filter2({f:"foo"},a),{f:"foo"});$assert(_.filter2("foo",_.not(a)),void 0);$assert(_.filter2(["foo"],_.not(a)),[]);$assert(_.filter2({f:"foo"},_.not(a)),{});$assert(_.filter2("foo",_.constant("bar")),"bar");$assert(_.filter2(["foo"],_.constant("bar")),["bar"]);$assert(_.filter2({f:"foo"},_.constant("bar")),{f:"bar"});$assert(_.filterFilter({foo:"foo",bar:[7,"foo",{bar:"foo"}]},_.not(_.equals("foo"))),{bar:[7,{}]})},function(){_.reject2=
function(a,b){return _.filter2(a,_.not(b))};_.filter2=function(a,b){if(_.isArrayLike(a)){for(var c=[],d=0,e=a.length;d<e;d++){var f=a[d],k=b(f,d);!0===k?c.push(f):!1!==k&&c.push(k)}return c}if(_.isStrictlyObject(a))return c={},_.each(Object.keys(a),function(d){var e=a[d],f=b(e,d);!0===f?c[d]=e:!1!==f&&(c[d]=f)}),c;k=b(a);if(!0===k)return a;if(!1!==k)return k};_.filterFilter=_.hyperOperator(_.unary,_.filter2);_.hyperFilter=function(a,b){return _.hyperOperator(_.unary,function(a,d){var e=b(a);return!0===
e&&_.filter2(a,d)||e})(a,_.identity)};_.hyperReject=function(a,b){return _.hyperFilter(a,function(a){a=b(a);return _.isBoolean(a)?!a:a})}});_.deferTest(["stdlib","each 2.0"],function(){var a=function(a){var c=[];_.each2(a,function(a,b,f){c.push([a,b,f])});return c};$assert(a("foo"),[["foo",void 0,1]]);$assert(a(["foo","bar"]),[["foo",0,2],["bar",1,2]]);$assert(a({f:"oo",b:"ar"}),[["oo","f",2],["ar","b",2]])},function(){_.each2=function(a,b){if(_.isArrayLike(a))for(var c=0,d=a.length;c<d;c++)b(a[c],
c,d);else if(_.isStrictlyObject(a))for(var e=Object.keys(a),f,c=0,d=e.length;c<d;c++)b(a[f=e[c]],f,d);else b(a,void 0,1)}});_.deferTest(["stdlib","reduce 2.0"],function(){$assert(_.reduce2(3,[7,9],_.sum),19);$assert(_.reduce2([3,7,9],_.sum),19);$assert(_.reduce2({a:3,b:7,c:9},_.sum),19);$assert(_.reduce2(19,_.sum),19);$assert(_.reduce2([1],_.sum),1);$assert(_.reduce2([],_.sum),void 0);$assert(33,_.reduceReduce([[[1],20],[3,[4,5]]],function(a,b){return _.isNumber(a)&&_.isNumber(b)?a+b:b}))},function(){_.reduce2=
function(a,b,c){var d=3>arguments.length,e=a,f=b,k=c;d&&(e=void 0,f=a,k=b);_.each2(f,function(a,b){e=d?a:k(e,a);d=!1});return e};_.reduceReduce=function(a,b,c){var d=a,e=b,f=c;3>arguments.length&&(d={},e=a,f=b);return _.hyperOperator(_.binary,_.reduce2,_.goDeeperAlwaysIfPossible)(d,e,f)}});_.deferTest(["stdlib","concat2"],function(){$assert(_.concat([1,2],[3],[4,5]),[1,2,3,4,5]);$assert(_.concat({foo:1},{bar:2}),{foo:1,bar:2});$assert(_.concat([{foo:1},{bar:2}]),{foo:1,bar:2});$assert(_.concat(1,
2,3),6)},function(){_.concat=function(a,b){var c,d;1===arguments.length?(c=a[0],d=_.rest(a)):(c=a,d=_.rest(arguments));return _.isArrayLike(c)?c.concat.apply(c,d):_.reduce2(c,d,function(a,b){return _.isObject(a)&&_.isObject(b)?_.extend({},a,b):a+b})}});_.deferTest(["stdlib","zip2"],function(){$assert(_.zip2(["f","o","o"],_.concat),"foo");$assert(_.zip2([["f","b"],["o","a"],["o","r"]],_.concat),["foo","bar"]);$assert(_.zip2([{foo:"f",bar:"b"},{foo:"o",bar:"a"},{foo:"o",bar:"r"}],_.concat),{foo:"foo",
bar:"bar"});$assert(_.zip2({foo:"f",bar:"b"},{foo:"o",bar:"a"},{foo:"o",bar:"r"},_.concat),{foo:"foo",bar:"bar"});$assert(_.zip2(void 0,_.concat),void 0);$assert(_.zip2(5,_.concat),5);$assert(_.zip2([],_.concat),[]);$assert(_.zip2(["foo"],_.concat),"foo");$assert(_.zipObjectsWith([{name:"string"},{born:123}],_.array),{name:["string",void 0],born:[void 0,123]});$assert([3],_.zipSetsWith([new Set([2,3]),new Set([3,4])],function(a,b){return a&&b}).asArray)},function(){_.mixin({zipSetsWith:function(a,
b){return _.reduce(_.rest(a),function(a,d){_.each(_.union(d&&Array.from(d.values())||[],a&&Array.from(a.values())||[]),function(e){var f=b(a&&a.has(e)?e:void 0,d&&d.has(e)?e:void 0);void 0===f?a["delete"](e):a.add(f)});return a},new Set(a[0]))},zipObjectsWith:function(a,b){return _.reduce(_.rest(a),function(a,d){_.each(_.union(_.keys(d),_.keys(a)),function(e){var f=b(a&&a[e],d&&d[e]);void 0===f?delete a[e]:a[e]=f});return a},_.clone(a[0]))},zip2:function(a,b){var c=2===arguments.length?a:_.initial(arguments),
d=2===arguments.length?b:_.last(arguments);return _.isArrayLike(c)&&0!==c.length?_.isArrayLike(c[0])?_.zipWith(c,d):c[0]instanceof Set?_.zipSetsWith(c,d):_.isStrictlyObject(c[0])?_.zipObjectsWith(c,d):_.reduce2(c,d):c}})});_.deferTest(["stdlib","zipZip"],function(){$assert(_.zipZip({phones:[{number:"number"}]},{phones:[{number:333}]},_.array),{phones:[{number:["number",333]}]});$assert(_.zipZip([{foo:7,bar:["foo",{bar:void 0}]},{foo:"number",bar:["string",{bar:"undefined"}]}],_.array),{foo:[7,"number"],
bar:[["foo","string"],{bar:[void 0,"undefined"]}]})},function(){_.mixin({zipZip:_.hyperOperator(_.binary,_.zip2)})});_.deferTest(["stdlib","extend 2.0"],function(){$assert(_.extendWith({foo:42,qux:1},{foo:1,bar:1}),{foo:42,qux:1,bar:1});(function(){var a=_.extendsWith({foo:42});$assert(_.map([{bar:1},{}],_.arity1(a)),[{bar:1,foo:42},{foo:42}])})();$assert(_.extend2({foo:1,bar:{qux:1}},{foo:42,bar:{baz:1}}),{foo:42,bar:{baz:1,qux:1}});$assert(_.extendedDeep({foo:1,bar:{qux:1}},{foo:42,bar:{baz:1}}),
{foo:42,bar:{baz:1,qux:1}});$assert(_.extendedDeep({foo:new Set([7])},{}).foo instanceof Set);$assert(Array.from(_.extendedDeep({foo:new Set([1,2])},{foo:new Set([2,3])}).foo.values()),[1,2,3]);(function(){var a={foo:1};$assert(_.extended(a,{bar:1}),{foo:1,bar:1});$assert(a,{foo:1})})()},function(){_.extend=$restArg(_.extend);_.extended=$restArg(function(){return _.extend.apply(this,[{}].concat(_.asArray(arguments)))});_.extendWith=_.flip(_.extend);_.extendsWith=_.flip(_.partial(_.partial,_.flip(_.extend)));
_.extendedDeep=_.tails3(_.zipZip,function(a,b){return void 0===b?a:b});_.extend2=$restArg(function(a){return _.extend(a,_.reduceRight(arguments,function(a,c){return _.object(_.map(_.union(_.keys(c),_.keys(a)),function(d){var e=c[d];return[d,d in a?"object"===typeof e?_.extend(e,a[d]):a[d]:e]}))},{}))})});_.deferTest(["stdlib","findFind"],function(){var a={x:1,y:{z:2}};$assert(_.findFind({foo:1,bar:[1,2,3]},_.constant(!1)),!1);$assert(_.findFind({foo:1,bar:[1,2,3]},_.equals(2)),2);$assert(_.findFind({foo:{bar:a}},
_.equals(a)),a)},function(){_.find2=function(a,b){if(_.isArrayLike(a))for(var c=0,d=a.length;c<d;c++){var e=b(a[c],c,a);if("boolean"!==typeof e)return e;if(!0===e)return a[c]}else if(_.isStrictlyObject(a))for(var c=0,f=Object.keys(a),d=f.length;c<d;c++){var k=f[c],e=b(a[k],k,a);if("boolean"!==typeof e)return e;if(!0===e)return a[k]}};_.findFind=function(a,b){return _.hyperOperator(_.unary,function(a,d){if(_.isArrayLike(a))for(var e=0,f=a.length;e<f;e++){var k=d(a[e]);if("boolean"!==typeof k)return k;
if(!0===k)return a[e]}else if(_.isStrictlyObject(a))for(var e=0,l=Object.keys(a),f=l.length;e<f;e++){var p=l[e],k=d(a[p]);if("boolean"!==typeof k)return k;if(!0===k)return a[p]}k=b(a);return"boolean"!==typeof k?k:!0===k?a:!1})(a,b)}});_.deferTest(["stdlib","nonempty"],function(){$assert(_.nonempty({blank:{},empty:[],one:1,none:void 0,nil:null,clear:"",zero:0,no:!1}),{one:1,zero:0,no:!1});$assert(_.nonempty([{},[],1,void 0,null,"",0,!1]),[1,0,!1]);$assert(_.nonempty(null),void 0);$assert(_.nonempty(""),
void 0)},function(){_.nonempty=function(a){return _.filter2(a,_.isNonempty)}});_.deferTest(["stdlib","cloneDeep"],function(){var a={a:[{b:{c:"d"}}],b:{},c:new ($prototype({}))},b=_.cloneDeep(a);$assert(a!==b);$assert(a.a!==b.a);$assert(a.b!==b.b);$assert(a.c===b.c);$assert(a,b);$assert(_.cloneDeep({foo:new Set}).foo instanceof Set);$assert(Array.from(_.cloneDeep({foo:new Set([1,2,3])}).foo.values()),[1,2,3])},function(){_.extend(_,{clone:function(a){return a instanceof Set?new Set(a):_.isObject(a)?
_.isArray(a)?a.slice():_.extend({},a):a},cloneDeep:_.tails2(_.mapMap,function(a){return _.isStrictlyObject(a)&&!_.isPrototypeInstance(a)?_.clone(a):a})})});_.deferTest(["stdlib","diff"],function(){$assert(_.diff("foo","foo"),void 0);$assert(_.diff("foo","bar"),"bar");$assert(_.diff({a:1,b:2,c:3},{a:1,b:3,d:4}),{b:3,d:4});$assert(_.diff([1,2,3],[1,2,3]),void 0);$assert(_.diff([1,"foo",2],[1,2,3]),[2,3])},function(){_.hyperMatch=_.hyperOperator(_.binary,function(a,b,c){return _.coerceToUndefined(_.nonempty(_.zip2(a,
b,c)))});_.diff=_.tails3(_.hyperMatch,function(a,b){return $atom.unwrap(a)===$atom.unwrap(b)||a===$any||b===$any?void 0:b})});_.deferTest(["stdlib","undiff"],function(){$assert(_.undiff("foo","foo"),"foo");$assert(_.undiff("foo","bar"),void 0);$assert(_.undiff({a:1,b:2,c:3},{a:1,b:3,d:4}),{a:1});$assert(_.undiff([1,2,3],[1,2,3]),[1,2,3]);$assert(_.undiff([1,2],[1,3]),[1,void 0]);$assert(_.undiff([1,2],[0,2]),[void 0,2])},function(){_.hyperMatch=_.hyperOperator(_.binary,function(a,b,c){return _.coerceToUndefined(_.zip2(a,
b,c))});_.undiff=_.tails3(_.hyperMatch,function(a,b){return $atom.unwrap(a)===$atom.unwrap(b)||a===$any||b===$any?b:void 0})});_.deferTest(["stdlib","index"],function(){$assert(_.index(["foo","bar"]),{foo:!0,bar:!0})},function(){_.extend(_,{index:function(a){for(var b={},c=0,d=a.length;c<d;c++)b[a[c]]=!0;return b}})});_.deferTest(["stdlib","quote"],function(){$assert(_.quote("qux"),"qux");$assert(_.quote("qux","[]"),"[qux]");$assert(_.quote("qux","/"),"/qux/");$assert(_.quote("qux","{  }"),"{ qux }");
$assert(_.quote("qux","</>"),"</qux>");$assert(_.quoteWith("[]","qux"),"[qux]")},function(){_.quote=function(a,b){var c=b||"",d=Math.floor(c.length/2+c.length%2),e=c.slice(0,d),c=c.slice(d)||e;return e+a+c};_.quoteWith=_.flip2(_.quote);_.quotesWith=_.higherOrder(_.quoteWith)});_.deferTest(["stdlib","partition2"],function(){$assert(_.partition2(["a","b","c",void 0,void 0,42],_.isNonempty),[["a","b","c"],[void 0,void 0],[42]]);$assert(_.partition3(["a","b","c",void 0,void 0,42],_.typeOf),[{label:"string",
items:["a","b","c"]},{label:"undefined",items:[void 0,void 0]},{label:"number",items:[42]}])},function(){_.partition2=function(a,b){return _.pluck(_.partition3(a,b),"items")};_.partition3=function(a,b){var c=a||[],d=[],e={label:void 0,items:[c.first]};_.each(c,function(a){var c=b(a);e.label!=c&&e.items.length?d.push(e={label:c,items:[a]}):e.items.push(a)});return e.length&&d.push(e),d}});_.deferTest(["stdlib","longestCommonSubstring"],function(){$assert("foo",_.longestCommonSubstring("foo","ffooa"))},
function(){var a=function(a){var c={};_.each(a,function(a,b){c[a]=c[a]||[];c[a].push(b)});return c};_.longestCommonSubstring=function(a,c){var d=_.indexOfLongestCommonSubstring(a,c);return d.length?a.substr(d.a,d.length):void 0};_.indexOfLongestCommonSubstring=function(b,c){var d={a:0,b:0,length:0},e=a(b),f=[];_.each(c,function(a,b){var c,q=[];_.each(e[a]||[],function(a){c=(a&&f[a-1]||0)+1;c>d.length&&(d.length=c,d.a=a-c+1,d.b=b-c+1);q[a]=c});f=q});return d}});_.key=function(a){return function(b,
c){return a(c)}};_.filterKeys=function(a,b){return _.filter(a,function(a,d){return b(d)})};_.rejectKeys=function(a,b){return _.reject(a,function(a,d){return b(d)})};_.pickKeys=function(a,b){return _.pick(a,function(a,d){return b(d)})};_.omitKeys=function(a,b){return _.omit(a,function(a,d){return b(d)})}},function(m,n){_.deferTest("properties",function(){var a={};_.defineProperty(a,"fourtyTwo",42);_.defineProperty(a,"fourtyTwo_too",function(){return 42});_.defineProperty(a,"fourtyTwo_orDie",function(a){$assert(42==
a);return 42});_.defineProperty(a,"fourtyTwo_eitherWay",{configurable:!0,get:function(){return 42},set:function(a){$assert(42==a)}});$assert(42,a.fourtyTwo,a.fourtyTwo_too,a.fourtyTwo_orDie(42),a.fourtyTwo_eitherWay=42);delete a.fourtyTwo_eitherWay;$assert(void 0===a.fourtyTwo_eitherWay);delete a.fourtyTwo;$assert(42===a.fourtyTwo);_.defineHiddenProperty(a,"hiddenAndDangerous",42);$assert(0>_.keys(a).indexOf("hiddenAndDangerous"));$assertEveryCalledOnce(function(b){_.defineMemoizedProperty(a,"_42",
function(){b();return 42});$assert(a._42,a._42,a._42,42)})},function(){_.extend(_,{defineProperty:function(a,b,c,d){if(_.isObject(a)&&a.hasOwnProperty(b))throw Error("_.defineProperty: targetObject already has property "+b);Object.defineProperty(a,b,_.extend({enumerable:!0},d,_.coerceToPropertyDefinition(c,b)))},defineHiddenProperty:function(a,b,c,d){return _.defineProperty(a,b,c,_.extend({enumerable:!1},d))},defineMemoizedProperty:function(a,b,c,d){c=_.coerceToPropertyDefinition(c,b);return _.defineProperty(a,
b,_.extend({},c,{get:_.memoizeToThis("_"+b,c.get)}),d)},defineProperties:function(a,b){_.each(b,_.defineProperty.partial(a).flip2)},memoizedState:function(a){return _.filter2(a,function(a,c){return"_"===c[0]&&!_.isFunction(a)})},memoizeToThis:function(a,b){return function(){var c=this[a];return void 0!==c?c:this[a]=b.call(this)}},coerceToPropertyDefinition:function(a,b){var c=a||{},d="undefined"===typeof Tags?a:Tags.unwrap(a);return!c.$constant&&!c.$get&&_.isPropertyDefinition(d)&&d||(c.$get||!c.$constant&&
_.isFunction(d)&&_.noArgs(d))&&{get:d,set:_.throwsError("cannot change "+(b||"property")+" (as it's an accessor function)")}||!c.$get&&{get:_.constant(d),set:_.throwsError("cannot change "+(b||"property")+" (as it's sealed to "+d+")")}||_.throwsError("coerceToPropertyDefinition: crazy input, unable to match")()},isPropertyDefinition:function(a){return _.isObject(a)&&(_.isFunction(a.get)||_.isFunction(a.set))},ownProperties:function(a){return a&&_.pickKeys(a,a.hasOwnProperty.bind(a))||{}}})})},function(m,
n){_.hasTags=!0;_.deferTest("keywords",function(){void 0===$global.$fourtyTwo&&(_.defineKeyword("fourtyTwo",42),_.defineKeyword("fourtyTwo_too",function(){return 42}),_.defineKeyword("fourtyTwo_orDie",function(a){$assert(42==a);return 42}),_.defineTagKeyword("foo"),_.defineTagKeyword("bar"),_.defineTagKeyword("qux"),$assert(_.isTagKeyword("qux")),_.defineModifierKeyword("plusOne",function(a){return a+1}));$assert(42,$fourtyTwo,$fourtyTwo_too,$fourtyTwo_orDie(42));$assert($foo(42).$foo,!0);$assert($bar(null).$bar,
!0);$assert($foo(42).$bar,void 0);$assert($foo($bar(42)),$bar($foo($foo(42))));$assert($foo.is($foo(42)),!0);$assert($foo.is($bar(42)),!1);$assert($foo.is(42),!1);var a={fourtyOne:$bar($foo(41)),fourtyTwo:$foo($bar(42)),notTagged:40};$assert($untag(42),Tags.unwrap(42),Tags.unwrap(a.fourtyTwo),42);$assert(Tags.unwrapAll(a),{fourtyTwo:42,fourtyOne:41,notTagged:40});$assert($foo.matches($foo()));$assert($foo.matches(a.fourtyOne));$assert(!1===$foo.matches(42));$assert({fourtyOne:41,fourtyTwo:42},Tags.unwrapAll(_.pick(a,
_.and($foo.matches,$bar.matches))));$assert({notTagged:40},Tags.unwrapAll(_.omit(a,$foo.matches)));$assert(43,Tags.modify(42,function(a){return a+1}));$assert($foo(43),Tags.modify($foo(42),_.constant(43)));$assert($foo($bar(43)),Tags.modify($foo(42),function(a){return $bar(a+1)}));$assert($plusOne(41),42);$assert($plusOne($foo($bar(41))),$foo($bar(42)));$assert(Tags.add("qux",42).$qux);$assert(Tags.add("qux",a.fourtyTwo).$qux);$assert(Tags.hasSubject($foo()),!1);$assert(Tags.hasSubject($foo(42)),
!0);$assert($qux([8,9,$foo($bar(10))]),Tags.map($qux([1,2,$foo($bar(3))]),_.sums(7)));$assertMatches(["foo","bar","qux"],_.arr(function(b){Tags.each(a.fourtyTwo,b)}));$assert($foo({some:"params"},42).$foo,{some:"params"});$assert(Tags.extend($foo(7),$bar(8)),$foo($bar(7)));$assert(Tags.extend($foo(7),8),$foo(7));$assert(Tags.extend(7,$foo(8)),$foo(7));$assert(Tags.extend(7,8),7);$assert(Tags.omit(7,"$foo"),7);$assert(Tags.omit($foo($bar(7)),"$foo","$bar"),7);$assert(Tags.omit($foo($bar(7)),"$foo"),
$bar(7))},function(){Tags=_.extend2(function(a,b){void 0!==a&&(this.subject=a);void 0!==b&&_.extend(this,b)},{$definition:{},prototype:{add:function(a,b){return this[_.keyword(a)]=b||!0,this},clone:function(a){return _.extend(new Tags(a||this.subject),_.pick(this,_.keyIsKeyword))},modify:function(a){this.subject=a(this.subject);return _.isTypeOf(Tags,this.subject)?_.extend(this.subject,_.pick(this,_.keyIsKeyword)):this},extend:function(a){return _.isTypeOf(Tags,a)?_.extend(this,_.pick(a,_.keyIsKeyword)):
this}},omit:$restArg(function(a,b){if(_.isTypeOf(Tags,a)){var c=_.index(_.rest(arguments)),d=_.pick(a,function(a,b){return _.isKeyword(b)&&!(b in c)});return _.isEmptyObject(d)?a.subject:new Tags(a.subject,d)}return a}),clone:function(a,b){return _.isTypeOf(Tags,a)?a.clone(b):b||a},extend:function(a,b){return _.isTypeOf(Tags,a)?a.clone().extend(b):_.isTypeOf(Tags,b)?Tags.wrap(a).extend(b):a},get:function(a){return _.isTypeOf(Tags,a)?_.pick(a,_.keyIsKeyword):{}},each:function(a,b){_.isTypeOf(Tags,
a)&&_.each(a,function(a,d){"$"===d[0]&&b(d.slice(1))})},hasSubject:function(a){return _.isTypeOf(Tags,a)&&"subject"in a},matches:function(a){return function(b){return b&&void 0!==b[_.keyword(a)]}},unwrapAll:function(a){return _.map2(a,Tags.unwrap)},unwrap:function(a){return _.isTypeOf(Tags,a)?a.subject:a},wrap:function(a){return _.isTypeOf(Tags,a)?a:0===arguments.length?new Tags:new Tags(a)},modify:function(a,b){return _.isTypeOf(Tags,a)?a.clone().modify(b):b(a)},map:function(a,b){return Tags.modify(a,
function(a){return _.map2(a,function(a,c){return Tags.modify(a,function(f){return b(f,c,_.isTypeOf(Tags,a)?a:void 0)})})})},add:function(a,b,c){return Tags.wrap.apply(null,_.rest(arguments,1)).add(a,c)}});_.keyword=function(a){return"$"+a};_.isKeyword=function(a){return"$"==a[0]};_.keywordName=function(a){return _.isKeyword(a)?a.slice(1):a};_.keywords=function(a){return _.pick(a,_.keyIsKeyword)};_.tagKeywords={};_.isTagKeyword=function(a){return _.keywordName(a)in _.tagKeywords};_.keyIsKeyword=function(a,
b){return _.isKeyword(b[0])};_.defineKeyword=function(a,b){_.defineProperty($global,_.keyword(a),b)};_.defineKeyword("untag",Tags.unwrap);_.defineTagKeyword=function(a,b){b=_.isFunction(b)&&b||_.identity;_.keyword(a)in $global||(_.defineKeyword(a,Tags.add("constant",_.extendWith({matches:Tags.matches(a)},b(function(b,c){return 2>arguments.length?Tags.add(a,b):Tags.add(a,c,b)})))),_.tagKeywords[a]=!0);var c=_.keyword(a);return _.extend($global[c],{is:function(a){return _.isTypeOf(Tags,a)&&c in a||
!1},isNot:function(a){return!(_.isTypeOf(Tags,a)&&c in a)||!1},unwrap:function(a){return!0===$atom.matches(a)?Tags.unwrap(a):a}})};_(["constant","get","once","async"]).each(_.defineTagKeyword);_.defineModifierKeyword=function(a,b){_.defineKeyword(a,function(a){return Tags.modify(a,b)})};_.deleteKeyword=function(a){delete $global[_.keyword(a)]}})},function(m,n){_.hasTypeMatch=!0;_.defineTagKeyword("required");_.defineTagKeyword("atom");_.defineKeyword("any",_.identity);_.deferTest(["type","type matching"],
function(){$assert(_.omitTypeMismatches({"*":$any,foo:$required("number"),bar:$required("number")},{baz:"x",foo:42,bar:"foo"}),{});$assert(_.omitTypeMismatches({foo:{"*":$any}},{foo:{bar:42,baz:"qux"}}),{foo:{bar:42,baz:"qux"}});$assert(_.omitTypeMismatches({foo:{bar:$required(42),"*":$any}},{foo:{bar:"foo",baz:"qux"}}),{});$assert(_.omitTypeMismatches([{foo:$required("number"),bar:"number"}],[{foo:42,bar:42},{foo:24},{bar:42}]),[{foo:42,bar:42},{foo:24}]);$assert(_.omitTypeMismatches({"*":"number"},
{foo:42,bar:42}),{foo:42,bar:42});$assert(_.omitTypeMismatches({foo:$any},{foo:0}),{foo:0});$assert(_.decideType([]),[]);$assert(_.decideType(42),"number");$assert(_.decideType(_.identity),"function");$assert(_.decideType([{foo:1},{foo:2}]),[{foo:"number"}]);$assert(_.decideType([{foo:1},{bar:2}]),[]);$assert(_.decideType({foo:{bar:1},foo:{baz:[]}}),{foo:{bar:"number"},foo:{baz:[]}});$assert(_.decideType({foo:{bar:1},foo:{bar:2}}),{foo:{bar:"number"}});$assert(_.decideType({foo:{bar:1},bar:{bar:2}}),
{"*":{bar:"number"}});if(_.hasOOP){var a=$prototype();$assert(_.decideType({x:new a}),{x:a})}},function(){_.isMeta=function(a){return a===$any||!0===$atom.is(a)||!0===$required.is(a)};var a=function(a,b,c){var d=Tags.unwrapAll(_.filter2(a,$required.matches));a=_.nonempty(_.zip2(Tags.unwrapAll(a),b,c));if(_.isEmpty(d))return a;c=_.nonempty(_.zip2(d,b,c));return _.values2(d).length===_.values2(c).length?a:_.coerceToEmpty(b)},b=_.hyperOperator(_.binary,function(b,c,d){var l=Tags.unwrap(b);if(_.isArray(l)){if(_.isArray(c))return a(_.times(c.length,
_.constant(l[0])),c,d)}else if(_.isStrictlyObject(l)&&l["*"]){if(_.isStrictlyObject(c))return a(_.extend(_.map2(c,_.constant(l["*"])),_.omit(l,"*")),c,d)}else return a(b,c,d)}),c=function(a,b){var c=Tags.unwrap(a);return c===$any||void 0===c&&void 0===b||_.isFunction(c)&&(_.isPrototypeConstructor(c)?_.isTypeOf(c,b):!0===c(b))||typeof b===c||b===c};_.mismatches=function(a,c,d){return b(c,d,function(b,c){return a(b,c)?void 0:b})};_.omitMismatches=function(a,c,d){return b(c,d,function(b,c){return a(b,
c)?c:void 0})};_.typeMismatches=_.partial(_.mismatches,c);_.omitTypeMismatches=_.partial(_.omitMismatches,c);_.valueMismatches=_.partial(_.mismatches,function(a,b){return a===$any||b===$any||a===b});var d=function(a){if(_.isArray(a))return _.nonempty([_.reduce(_.rest(a),function(a,b){return _.undiff(a,b)},_.first(a)||void 0)]);if(_.isStrictlyObject(a)){var b=_.pairs(a),b=_.map(_.reduce(_.rest(b),function(a,b){return _.undiff(a,b)},_.first(b)||[void 0,void 0]),_.nonempty);return _.isEmpty(b)||_.isEmpty(b[1])?
a:_.object([[b[0]||"*",b[1]]])}return a};_.decideType=function(a){return _.hyperOperator(_.unary,function(a,b){return a&&a.constructor&&a.constructor.$definition?a.constructor:d(_.map2(a,b))})(a,function(a){return _.isPrototypeInstance(a)?a.constructor:_.isEmptyArray(a)?a:typeof a})}})},function(m,n){_.json=function(a){if("string"===typeof a)try{return JSON.parse(a)}catch(b){return{}}else return JSON.stringify(a)};_.deferTest(["type","stringify"],function(){if(_.hasTags){var a={foo:$constant($get({foo:7},
1)),nil:null,nope:void 0,fn:_.identity,bar:[{baz:"garply",qux:[1,2,3]}]};a.bar[0].bar=a.bar;var b=$prototype({});$assert(_.stringify(b),$platform.NodeJS?"Proto ()":"<prototype>");$assert(_.stringify(void 0),"undefined");$assert(_.stringify(123),"123");$assert(_.stringify(a,{pretty:!1}),'{ foo: $constant ($get ({ foo: 7 }, 1)), nil: null, nope: undefined, fn: <function>, bar: [{ baz: "garply", qux: [1, 2, 3], bar: <cyclic> }] }')}$assert(_.pretty({array:["foo","bar","baz"],more:"qux",evenMore:42}),
'{    array: [ "foo",\n              "bar",\n              "baz"  ],\n      more:   "qux",\n  evenMore:    42       }');a={};$assert(_.stringify([a,a,a]),"[{  }, <ref:1>, <ref:1>]");$assert(_.stringify({foo:1},{json:!0,pretty:!0}),'{ "foo": 1 }')},function(){_.alignStringsRight=function(a){var b=a.map(_.count),c=_.max(b);return[b,a].zip(function(a,b){return" ".repeats(c-a)+b})};_.bullet=function(a,b){var c=" ".repeats(a.length);return _.joinWith("\n",_.splitWith("\n",b).map(function(b,e){return 0===
e?a+b:c+b}))};_.stringifyOneLine=function(a,b){return _.stringify(a,_.extend(b||{},{pretty:!1}))};_.pretty=function(a,b){return _.stringify(a,_.extend(b||{},{pretty:!0}))};_.stringify=function(a,b){b=b||{};var c=_.stringifyImpl(a,[],[],0,b);return 80>c.length||"pretty"in b?c:_.pretty(a,b)};_.stringifyPrototype=function(a){if($platform.NodeJS&&a.$meta){var b="";a.$meta(function(a){b=a.name});return b&&b+" ()"}return"<prototype>"};_.builtInTypes={Event:{target:$any},MutationEvent:{target:$any,attrName:$any,
prevValue:$any},Range:{startContainer:$any,startOffset:$any,endContainer:$any,endOffset:$any},ClientRect:{left:$any,top:$any,right:$any,bottom:$any,width:$any,height:$any}};_.stringifyImpl=function(a,b,c,d,e){var f=e.formatter&&e.formatter(a);if(f)return f;"undefined"!==typeof jQuery&&_.isTypeOf(jQuery,a)&&(a=_.asArray(a));if(a===$global)return"$global";if(0<=b.indexOf(a))return e.pure?void 0:"<cyclic>";if(0<=c.indexOf(a))return e.pure?void 0:"<ref:"+c.indexOf(a)+">";if(void 0===a)return"undefined";
if(null===a)return"null";if(_.isFunction(a))return e.pure?a.toString():_.isPrototypeConstructor(a)&&_.stringifyPrototype(a)||"<function>";if("string"===typeof a)return _.quoteWith('"',a.limitedTo(e.pure?Number.MAX_SAFE_INTEGER:60));if(_.isTypeOf(Tags,a))return _.reduce(Tags.get(a),function(a,d,e){return _.isBoolean(d)?e+" "+a.quote("()"):e+" ("+_.stringifyImpl(d,b,c,0,{pretty:!1})+", "+a+")"},_.stringifyImpl($untag(a),b,c,d+1,e));if(!e.pure&&_.hasOOP&&_.isPrototypeInstance(a)&&$prototype.defines(a.constructor,
"toString"))return a.toString();if(!_.isObject(a)||"undefined"!==typeof $atom&&$atom.is(a))return _.isDecimal(a)&&0<e.precision?_.toFixed(a,e.precision):a+"";if(f=_.find2(_.builtInTypes,function(b,c){return $global[c]&&a instanceof $global[c]&&c+" "+_.stringifyOneLine(_.omitTypeMismatches(b,a))||!1}))return f;a instanceof Set&&(a=a.asArray);var k=_.isArray(a),f=e.pretty||!1;if($platform.Browser){if(_.isTypeOf(Element,a))return(a.tagName.lowercase+(a.id&&"#"+a.id||"")+(a.className&&"."+a.className||
"")).quote("<>");if(_.isTypeOf(Text,a))return"@"+a.wholeText.limitedTo(20)}if(a.toJSON)return _.quoteWith('"',a.toJSON());if(!e.pure&&(d>(e.maxDepth||5)||k&&a.length>(e.maxArrayLength||60)))return k?"<array["+a.length+"]>":"<object>";var l=b.concat([a]);c.push(a);var p=_.pairs(a),q=_.stringifyImpl.tails2(l,c,d+1,e),D=e.json?'""':"";if(f){p=_.values(a);d=_.alignStringsRight(_.keys(a).map(_.quotesWith(D).then(_.appends(": "))));e=p.map(q);var f=e.map(function(a,b){return"["===a[0]||"{"===a[0]?3:_.isString(p[b])?
1:0}),m=_.max(f);e=[f,e].zip(function(a,b){return" ".repeats(m-a)+b});d=k?e:[d,e].zip(_.bullet);d=_.bullet(k?"[ ":"{ ",d.join(",\n"));e=d.split("\n");return d+(" ".repeats(_.max(e.map(_.count))-_.count(e.last))+(k?" ]":" }"))}return _.quoteWith(k?"[]":"{  }",_.joinWith(", ",_.map(p,function(a){return(k?"":a[0].quote(D)+": ")+q(a[1])})))}});_.toFixed=function(a,b){return a&&a.toFixed&&a.toFixed(b)||void 0};_.toFixed2=function(a){return _.toFixed(a,2)};_.toFixed3=function(a){return _.toFixed(a,3)}},
function(m,n){_.deferTest(["Array","squash"],function(){$assert([["all","your","to","us"],["your","belong","us"],["base","belong","to"],["your","base"]].squash(),"all your base belong to us".split(" "))},function(){Array.prototype.squash=function(a){a=a||{};var b=a.key||_.identity,c={key:null,next:{},depth:{}},d={};_.each(this,function(a){for(var e=0,f=a.length,k=c,m;e<f;e++,k=m){m=a[e];var n=b(m);m=d[n]||(d[n]={key:n,item:m,next:{},depth:{}});k&&(k.next[n]=m,k.depth[n]=0)}});var e=function(a,b,c,
d){d=d||0;a[b.key]=!0;b.next=_.filter2(_.values(b.next),function(c){if(c.key in a)return!1;c=e(a,c,b);d=Math.max(d,b.depth[c.key]);return c});c&&(c.depth[b.key]=Math.max(c.depth[b.key]||0,d+1));delete a[b.key];return b},f=function(a,b){return a===b||_.some(a.next,function(a){return f(a,b)})},k=function(a){if(!a)return[];var b=(a.next||[]).sort(function(b,c){return(a.depth[b.key]||0)<(a.depth[c.key]||0)});return[a].concat(k(_.reduce(b,function(a,b){if(a===b)return a;if(f(b,a))return b.next.push(a),
b;a.next.push(b);return a})))};return _.rest(_.pluck(k(e({},c)),"item"))}});_.deferTest(["DAG","squash"],function(){var a={tier1:{requires:[]},tier11:{requires:["tier1"]},tier2:{requires:["tier0"]},tier111:{requires:["tier12","tier100"]},tier12:{requires:["tier0","tier11","tier2"]},tier100:{requires:["tier10"]},tier0:{requires:[]},tier10:{requires:["tier0","tier2"]},root:{requires:["tier2","tier111"]}};$assert(DAG.squash("root",{nodes:function(b){return a[b].requires}}),"tier0 tier1 tier11 tier2 tier12 tier10 tier100 tier111".split(" "))},
function(){DAG=function(a){this.cfg=a||{};this.nodes=a.nodes||_.noop};DAG.prototype.each=function(a,b,c,d){d=d||new Set;if(!d.has(a)){d.add(a);var e=this,f=this.nodes(a)||[];!0!==b.call(this,a,{nodes:f,prev:c,visited:d})&&f.forEach(function(c){e.each(c,b,a,d)})}return d};DAG.prototype.edges=function(a){var b=[];this.each(a,function(a,d){d.nodes.concat(a).reduce(function(a,c){b.push([a,c]);return c})});return b};DAG.prototype.squash=function(a){return this.edges(a).squash(this.cfg).remove(a)};DAG.squash=
function(a,b){return(new DAG(b)).squash(a)}})},function(m,n){_.cps=function(){return _.cps.sequence.apply(null,arguments)};_.deferTest(["cps","apply"],function(){},function(){_.cps.apply=function(a,b,c,d){c=_.asArray(c);var e=_.numArgs(a)-1,f=c[e];c[e]=function(){d.call(this,arguments,f)};return a.apply(b,c)}});_.deferTest(["cps","each"],function(){var a=["foo","bar","baz"],b=0;_.cps.each(a,function(c,d,k,l,p){$assert(c===a[d]);$assert(d===b++);$assert(p===a);$assert(_.isFunction(k));$assert(_.isFunction(l));
k()},function(){$assert(b===a.length)});var c=[];_.cps.each(a,function(a,b){c.push(a);b()},function(){$assert(a,c)});var d=[];_.cps.each(a,function(a,b,c,l){d.push(a);l()},function(){$assert(d,["foo"])});$assertEveryCalled(function(a,b){var c={foo:1,bar:2,baz:3};_.cps.each(c,function(b,d,f){$assert(b===c[d]);a();f()},function(){b()})});$assertEveryCalled(function(a,b){_.cps.each("foo",function(b,c,d){$assert([b,c],["foo",void 0]);a();d()},function(){b()})});$assertEveryCalled(function(a){_.cps.each(void 0,
function(){$fail},function(){a()})})},function(){_.extend(_.cps,{each:function(a,b,c,d,e,f){var k=c||_.noop,l=function(c,d,e){2===_.numArgs(b)?b(c,e,k,a):b(c,d,e,k,a)};if(_.isEmpty(a))k();else if(_.isScalar(a))l(a,void 0,k);else{var p=d||0,q=0===p?void 0===a.length?_.keys(a):void 0:f,m=0===p?q?q.length:a.length:e;if(p>=(m||0))k();else{var n=q?q[p]:p;l(a[n],n,arguments.callee.bind(this,a,b,c,p+1,m,q))}}}})});_.deferTest(["cps","map"],function(){_.cps.map([7,6,5],function(a,b){b(a+1)},function(a){$assert(a,
[8,7,6])});_.cps.map([7,6,5],function(a,b,c){c(a+1)},function(a){$assert(a,[8,7,6])})},function(){_.extend(_.cps,{map:function(a,b,c){var d=_.isArray(a)?[]:{};_.cps.each(a,2==_.numArgs(b)?function(a,c,k){b(a,function(a){d[c]=a;k()})}:function(a,c,k){b(a,c,function(a){d[c]=a;k()})},function(){c(d)})}})});_.deferTest(["cps","find"],function(){_.cps.find([7,6,5],function(a,b){b(0===a%3)},function(a,b){$assert([a,b],[6,1])});_.cps.find({foo:7,bar:6,baz:5},function(a,b,c){c("baz"===b)},function(a,b){$assert([a,
b],[5,"baz"])});_.cps.find([7,6,5],function(a,b){b(0===a%3?"yeah":!1)},function(a,b){$assert([a,b],["yeah",1])});_.cps.find([7,6,5],function(a,b,c){c(!1)},function(a){$assert(a,void 0)})},function(){_.extend(_.cps,{find:function(a,b,c){var d=2!==_.numArgs(b);_.cps.each(a,function(a,c,k,l){var p=function(b){!1===b?k():l(!0===b?a:b,c)};d?b(a,c,p):b(a,p)},c)}})});_.deferTest(["cps","memoize"],function(){$assertEveryCalledOnce(function(a){var b=_.cps.memoize(function(b,d){a();d(b+1)});b(2,function(a){$assert(3===
a)});b(2,function(a){$assert(3===a)})})},function(){_.extend(_.cps,{memoize:function(a){return _.barrier?_.cps._betterMemoize(a):_.cps._poorMemoize(a)},_poorMemoize:function(a){var b={};return function(c,d){c in b?d(b[c]):a.call(this,c,function(a){d(b[c]=a)})}},_betterMemoize:function(a){var b={};switch(_.numArgs(a)){case 1:return function(c){b.already||a.call(this,b=_.barrier());b(c)};case 2:return b={},function(c,d){c in b||a.call(this,c,b[c]=_.barrier());b[c](d)};default:throw Error("_.cps.memoize: unsupported number of arguments");
}}})});_.deferTest(["cps","reduce"],function(){$assertEveryCalled(function(a){var b=function(a,b,c){c(a+b)},c=function(b){$assert(6===b);a()};_.cps.reduce([1,2,3],b,c);_.cps.reduce([],b,c,6)})},function(){var a=function(b,c,d,e,f){!b||f>=(b.length||0)?d(e):c(e,b[f],function(e){a(b,c,d,e,f+1)})};_.cps.reduce=function(b,c,d,e){4>arguments.length?a(b,c,d,b[0],1):a(b,c,d,e,0)}});_.deferTest(["cps","noop, identity, constant"],function(){$assertEveryCalled(function(a,b,c,d){_.cps.noop(1,2,3,function(){$assert(0===
arguments.length);a()});_.cps.identity(1,2,3,function(){$assert([1,2,3],_.asArray(arguments));b()});_.cps.constant(3)(function(a){$assert(3===a);c()});_.cps.constant(1,2)(function(a,b){$assert(1===a);$assert(2===b);d()})})},function(){_.extend(_.cps,{noop:$restArg(function(){return _.last(arguments).call(this)}),identity:$restArg(function(){var a=_.initial(arguments),b=_.last(arguments);if(b)return b.apply(this,a)}),constant:$restArg(function(){var a=arguments;return function(){return _.last(arguments).apply(this,
a)}})})});_.deferTest(["cps","arity / resultArity"],function(){var a=_.cps.identity;$assertCPS(_.partial(a,1,2,3),[1,2,3]);$assertCPS(_.partial(_.cps.arity2(a),1,2,3),[1,2]);$assertCPS(_.partial(_.cps.arity1(a),1,2,3),[1]);$assertCPS(_.partial(_.cps.arity0(a),1,2,3));a=function(a){a(1,2,3)};$assertCPS(a,[1,2,3]);$assertCPS(_.cps.resultArity2(a),[1,2]);$assertCPS(_.cps.resultArity1(a),[1]);$assertCPS(_.cps.resultArity0(a))},function(){_.cps.arity0=function(a){return function(){a.call(this,_.last(arguments))}};
_.cps.arity1=function(a){return function(){a.call(this,arguments[0],_.last(arguments))}};_.cps.arity2=function(a){return function(){a.call(this,arguments[0],arguments[1],_.last(arguments))}};_.cps.transformResult=function(a,b){return function(c){b.apply(this,_.initial(arguments).concat(a(_.last(arguments))))}};_.cps.resultArity2=_.partial(_.cps.transformResult,_.arity2);_.cps.resultArity1=_.partial(_.cps.transformResult,_.arity1);_.cps.resultArity0=_.partial(_.cps.transformResult,_.arity0)});_.deferTest(["cps",
"sequence / compose"],function(){$assertEveryCalled(function(a){var b=function(a,b){b("cookies "+a)},c=function(a,b){b("nice "+a)},d=function(b){$assert(b,"nice cookies from shit");a()};_.cps.sequence(b,c,d)("from shit");_.cps.sequence([b,c,d])("from shit");_.cps(b,c,d)("from shit");_.cps.compose(d,c,b)("from shit")})},function(){_.cps.sequence=$restArg(function(a){var b=_.isArray(a)&&a||_.asArray(arguments);return _.reduceRight(b,function(a,b){return function(){return b.apply(this,_.asArray(arguments).concat(a))}},
_.cps.identity)});_.cps.compose=$restArg(function(a){var b=_.isArray(a)&&a||_.asArray(arguments);return _.cps.sequence(b.slice().reverse())})});_.deferTest(["cps","trySequence"],function(){var a=Error();$assertEveryCalledOnce(function(a){_.cps.trySequence([_.cps.constant("foo"),_.appends("bar").asContinuation],function(c){$assert(c,"foobar");a()})});$assertEveryCalledOnce(function(b){_.cps.trySequence([function(){throw a;},function(){$fail}],function(c){$assert(c===a);b()})});$assertEveryCalledOnce(function(b){_.cps.trySequence([function(b){b(a)},
function(){$fail}],function(c){$assert(c===a);b()})});$assertEveryCalledOnce(function(b){_.cps.trySequence([function(b){b(a)},function(){$fail}],function(a){$fail},function(c){$assert(c===a);b()})})},function(){_.cps.trySequence=function(a,b,c){_.reduceRight(a,function(a,e){return function(f){if(_.isTypeOf(Error,f))return(c||b)(f);try{return e.apply(this,_.asArray(arguments).concat(a))}catch(k){return(c||b)(k)}}},b)()}})},function(m,n){_(["method","property","flipped","forceOverride"]).each(_.defineTagKeyword);
$extensionMethods=function(a,b){_.each(b,function(b,d){var e=Tags.unwrap(b);d in _||(_[d]=_[d]||e);if(b.$method||!b.$property&&!_.oneArg(e)){if(b.$property)throw Error("$extensionMethods: crazy input, unable to match");d in a.prototype&&!b.$forceOverride||(a.prototype[d]=_.asMethod(b.$flipped?_.flip(e):e))}else d in a.prototype&&!b.$forceOverride||_.defineHiddenProperty(a.prototype,d,function(){return e(this)})})}},function(m,n){_.tests.Function={"$ for partial application":function(){var a=function(a,
c){return a+c};$assert(a.$("foo")("bar"),"foobar");$assert(a.$$("foo")("bar"),"barfoo")},"Fn.callsWith":function(){$assert(42,function(a,b,c){$assert([a,b,c],[1,2,3]);return 42}.callsWith(1,2)(3))},asContinuation:function(){$assertEveryCalled(function(a){var b=function(){return 4},c=function(b){$assert(4==b);a()};b.asContinuation(c);_.asContinuation(b)(c)})},postpone:function(a){$assertEveryCalledOnce($async(function(b,c){var d=!1,e=function(){d?(c(),a()):(b(),d=!0,e.postpone())};e.postpone();e.postpone()}))},
postponed:function(a){$assertEveryCalledOnce($async(function(a){(function(c){$assert(this,"foo");$assert(42,c);a()}).postponed.call("foo",42)}),a)},"postponed args":function(a){var b=[],c=function(a){b.push(a)};c.postponed(42);c.postponed(43);_.delay(function(){$assert(b,[43]);a()},1)},delayed:function(a){var b=function(a,b){$assert(a,42);b()}.delayed(5);$assertEveryCalledOnce($async(function(a){b(42,function(){a()})}),a)}};$extensionMethods(Function,{$:$method(_.partial),$$:$method(_.tails),bind:_.bind,
partial:_.partial,calls:_.bind,tails:_.tails,tails2:_.tails2,tails3:_.tails3,applies:_.applies,compose:_.compose,then:_.then,flip:_.flip,"with":_.flipN,flip2:_.flip2,flip3:_.flip3,asFreeFunction:_.asFreeFunction,asMethod:_.asMethod,callsWith:_.callsTo,tailsWith:_.tailsTo,higherOrder:_.higherOrder,returns:function(a,b){return function(){a.apply(this,arguments);return b}},asContinuation:function(a){return $restArg(function(){_.last(arguments)(a.apply(this,_.initial(arguments)))})},wraps:function(a,
b){a._wrapped=_.withSameArgs(a,b);return a},wrapped:function(a){return a._wrapped||a},original:function(a){for(;a&&a._wrapped;)a=a._wrapped;return a},arity0:_.arity0,arity1:_.arity1,arity2:_.arity2,arity3:_.arity3,or:_.or,and:_.and,not:_.not,"new":_.higherOrder(_["new"]),each:function(a,b){return _.each2(b,a)},map:function(a,b){return _.map2(b,a)},oneShot:function(a){var b=!1;return function(){if(!b)return b=!0,a.apply(this,arguments)}},memoized:_.memoize,throttled:_.throttle,debounced:function(a,
b,c){var d,e,f,k,l,p=function(){var q=Date.now()-d;q<b&&0<q?e=setTimeout(p,b-q):(e=null,c||(f=a.apply(l,k),e||(l=k=null)))},q=function(){l=this;k=arguments;d=Date.now();var q=c&&!e;e||(e=setTimeout(p,b));q&&(f=a.apply(l,k),l=k=null);return f};q.cancel=function(){e&&(clearTimeout(e),e=null)};q.callImmediately=function(){q.cancel();a.apply(l,k)};return q},postpone:$method(function(a){a.postponed.apply(null,arguments)}),postponed:function(a){return function(){var b=!a._postponed;a._postponed=_.asArray(arguments);
a._postponedThis=this;b&&_.delay(function(){var b=a._postponed,d=a._postponedThis;a._postponed=void 0;a._postponedThis=void 0;a.apply(d,b)})}},delay:_.delay,delayed:function(a,b){return function(){var c=arguments,d=this;_.delay(function(){a.apply(d,c)},b)}}});_.tests.Function.catches=function(){$assert("yo",_.constant("yo").catches($fails)(),_.identity.catches($fails)("yo"),_.throwsError("xx").catches("yo")());$assertThrows(function(){_.constant("yo").catches(function(){$assert("catch handler shoudnt work on passed continuations")},
_.throwsError("xx"))()});$assert(function(a){throw a;}.catches(_.appends("+error_case"),_.appends("+no_error_case"),_.appends("+finally"))("foo"),"foo+error_case+finally");$assertMatches(_.throwError.catches()("yo"),{message:"yo"});$assert(_.catches(_.throwsError(42),$assertMatches.$({message:42}).returns("yo"))(),"yo");$assertCPS(_.constant("yo").catches($fails),"yo")};$extensionMethods(Function,{catch_:function(a,b,c,d){return a.catches(b,c)()},catches:function(a,b,c,d){var e=arguments.length;b=
1<e?_.coerceToFunction(b):_.identity;c=2<e?_.coerceToFunction(c):_.identity;d=3<e?_.coerceToFunction(d):_.identity;return function(){var e=void 0,k=!1;try{e=a.apply(this,arguments)}catch(l){e=b(l),k=!0}k||(e=c(e));return d(e)}}})},function(m,n){_.deferTest("Array extensions",function(){var a=[1,3,2,3,3,4,3];$assert([a.first,a.second,a.top,a.last],[1,3,3,3]);$assert(a.rest,[3,2,3,3,4,3]);$assert(a.take(4),[1,3,2,3]);$assert([a.contains(4),a.contains(9)],[!0,!1]);$assert(a.lastIndex,6);$assert(a.copy,
a);$assert(a.copy!==a);$assert(a.remove(3),[1,2,4]);$assert(a,[1,2,4]);$assert(a.removeAll(),[]);$assert(a,[]);$assert(["a","b","c"].removeAt(1),["a","c"]);$assert(["a","c"].insertAt("b",1),["a","b","c"]);$assert(1===[0,1,2].itemAtWrappedIndex(4));a=[1,2,3];$assert(a.reversed,[3,2,1]);$assert(a,[1,2,3]);$assert([[1],[[2],3],4].flat,[1,[2],3,4]);$assert([[1,2,3],[4,5,6]].zip(_.sum),[5,7,9]);$assert(_.zap([1,2,3],[4,5,6],_.sum),[5,7,9]);$assert(["a","b","c"].swap(1,2),["a","c","b"]);$assert(1===[1].random);
$assert(void 0===[].random);$assert([{foo:"bar"},{foo:"qux"}].pluck("foo"),["bar","qux"]);$assert(["foo,bar","foo.bar","foo777bar","foo","bar"],["foobar","foo.bar",["foo",777,"bar"],"foo","bar"])},function(){$extensionMethods(Array,{each:_.each,map:_.map,fold:_.reduce2,reduce:_.reduce,reduceRight:_.reduceRight,zip:_.zipWith,groupBy:_.groupBy,indexBy:_.indexBy,find:_.find,filter:_.filter,reject:$method(_.reject),flat:_.flatten.tails2(!0),object:_.object,shuffle:_.shuffle,nonempty:_.nonempty,pluck:$method(_.pluck),
without:$method(_.without),join:function(a){return $forceOverride(function(b,c){c=2>arguments.length?"":c;return _.isString(c)?a.call(b,c):_.reduce2(b,function(a,b){return[a].concat([c,b])})})}(Array.prototype.join),contains:function(a,b){return 0<=a.indexOf(b)},top:function(a){return a[a.length-1]},first:function(a){return a[0]},second:function(a){return a[1]},rest:function(a){return _.rest(a)},last:function(a){return a[a.length-1]},take:function(a,b){return a.slice(0,b)},lastN:$method(_.last),before:function(a,
b){var c=a.indexOf(b);return 0>c?a:a.slice(0,c-1)},after:function(a,b){var c=a.indexOf(b);return 0>c?a:a.slice(c+1)},isEmpty:function(a){return 0===a.length},notEmpty:function(a){return 0<a.length},lastIndex:function(a){return a.length-1},random:function(a){return a[_.random(0,a.lastIndex)]},copy:function(a){return a.slice(0)},removeAll:$method(function(a){return a.splice(0,a.length),a}),remove:function(a,b){for(var c;-1!==(c=a.indexOf(b));)a.splice(c,1);return a},removeAt:function(a,b){a.splice(b,
1);return a},insertAt:function(a,b,c){a.splice(c,0,b);return a},itemAtWrappedIndex:function(a,b){return a[b%a.length]},reversed:function(a){return a.slice().reverse()},swap:$method(function(a,b,c){var d=a[b];a[b]=a[c];a[c]=d;return a})});_.zap=function(a){var b=_.last(arguments);return _.reduce(_.rest(_.initial(arguments)),function(a,d){return _.times(Math.max(a.length,d.length),function(e){return b(a[e],d[e])})},a)}})},function(m,n){_.deferTest("String extensions",function(){$assert(""==="\u0436".repeats(0));
$assert("\u0436\u0436\u0436\u0436"==="\u0436".repeats(4));$assert("\u0436\u043e"==="\u0436\u043e\u043f\u0430".first(2));$assert("\u0430\u043f\u043e\u0436"==="\u0436\u043e\u043f\u0430".reversed);$assert("\u0416\u043e\u043f\u0430"==="\u0436\u043e\u043f\u0430".capitalized);$assert("\u0436\u043e\u043f\u0430"==="  \u0436\u043e\u043f\u0430  ".trimmed);$assert("&lt;\u0436\u043e\u043f\u0430&gt;"==="<\u0436\u043e\u043f\u0430>".escaped);$assert("\u043f\u0430".prepend("\u0436\u043e"),"\u0436\u043e".append("\u043f\u0430"),
"\u0436\u043e\u043f\u0430");$assert(["\u0436\u043e\u043f\u0430".contains("\u043e\u043f\u0430"),"\u0436\u043e\u043f\u0430".contains("\u0430\u043f\u043e\u0436")],[!0,!1]);$assert(["\u0436\u043e\u043f\u0430".startsWith("\u0436"),"\u0436\u043e\u043f\u0430".startsWith("\u0436\u043e"),"\u0436\u043e\u043f\u0430".startsWith("\u043e")],[!0,!0,!1]);$assert(["\u0436\u043e\u043f\u0430".endsWith("\u0430"),"\u0436\u043e\u043f\u0430".endsWith("\u043f\u0430"),"\u0436\u043e\u043f\u0430".endsWith("\u0436")],[!0,!0,
!1]);$assert([_.map([1,2,3],_.prepends("foo")),_.map([1,2,3],_.appends("bar"))].zip(_.append),["foo11bar","foo22bar","foo33bar"]);$assert("}|{\u041e/7A \u0441 Py4K()\u0419 ololo 321321".latinAlphanumericValue,"7APy4Kololo321321");$assert("}|{\u041e/7A \u0441 Py4K()\u0419 ololo 321321".alphanumericValue,"\u041e7A\u0441Py4K\u0419ololo321321");$assert("+7(965)412-63-21".numericValue,"79654126321");$assert("+7(965)412-63-21".integerValue,79654126321);$assert("foo".integerValue,void 0);$assert("0".integerValue,
0);$assert("123".parsedInt,123);$assert("foo".parsedInt,void 0);$assert("0".parsedInt,0);$assert("foo".hash,101574);$assert("\u041f\u0438\u0441\u044f \u041a\u0430\u043c\u0443\u0448\u043a\u0438\u043d\u044a".transliterate,"pisyakamushkin");$assert("qux".quote(""),"qux");$assert("qux".quote('"'),'"qux"');$assert("qux".quote("[]"),"[qux]");$assert("qux".quote("/"),"/qux/");$assert("qux".quote("{  }"),"{ qux }");$assert("qux".quote("</>"),"</qux>");$assert(_.isTypeOf(Uint8Array,"foo".bytes));$assert(_.asArray("foo".bytes),
[102,111,111]);$assert(["foobar".limitedTo(6),"tooloong".limitedTo(6),"".limitedTo(0)],["foobar","toolo\u2026",""]);$assert("\u0436\u043e\u043f".pad(5),"\u0436\u043e\u043f  ");$assert("\u0436\u043e\u043f".pad(5,"\u2192"),"\u0436\u043e\u043f\u2192\u2192");$assert("foo".pluck([{foo:10},{foo:11}]),[10,11]);$assert("foo".pluck({a:{foo:10},b:{foo:11}}),{a:10,b:11})},function(){$extensionMethods(String,{quote:_.quote,pluck:function(a,b){return _.pluck2(b,a)},contains:function(a,b){return 0<=a.indexOf(b)},
startsWith:function(a,b){return 1===b.length?a[0]===b:a.substring(0,b.length)===b},endsWith:function(a,b){return 1===b.length?a[a.length-1]===b:a.substring(a.length-b.length)===b},pad:function(a,b,c){return a+(c||" ").repeats(Math.max(0,b-a.length))},cut:function(a,b){return a.substring(0,b-1)+a.substring(b,a.length)},insert:function(a,b,c){return a.substring(0,b)+c+a.substring(b,a.length)},lowercase:function(a){return a.toLowerCase()},uppercase:function(a){return a.toUpperCase()},trimmed:function(a){return a.trim()},
limitedTo:function(a,b){return a&&(a.length<=b?a:a.substr(0,b-1)+"\u2026")},escaped:function(a){return _.escape(a)},repeats:function(a,b){return _.times(b,_.constant(a)).join("")},prepend:function(a,b){return b+a},append:function(a,b){return a+b},first:function(a,b){return _.first(a,b).join("")},last:function(a,b){return _.last(a,b).join("")},reversed:function(a){return a.split("").reverse().join("")},capitalized:function(a){return a.charAt(0).toUpperCase()+a.slice(1)},decapitalized:function(a){return a.charAt(0).toLowerCase()+
a.slice(1)},latinAlphanumericValue:function(a){return a.replace(/[^a-z0-9]/gi,"")},alphanumericValue:function(a){return a.replace(unicode_hack(/[^0-9\p{L}|^0-9\p{N}|^0-9\p{Pc}|^0-9\p{M}]/g),"")},numericValue:function(a){return a.replace(/[^0-9]/g,"")},integerValue:function(a){return a.numericValue.parsedInt},parsedInt:function(a){a=parseInt(a,10);return _.isFinite(a)?a:void 0},bytes:function(a){for(var b=new Uint8Array(a.length),c=0;c<a.length;++c)b[c]=a.charCodeAt(c);return b},hash:function(a){var b=
0,c,d,e;if(0===a.length)return b;c=0;for(e=a.length;c<e;c++)d=a.charCodeAt(c),b=(b<<5)-b+d,b|=0;return b},transliterate:function(){var a=_.extend({"\u0430":"a","\u0431":"b","\u0432":"v","\u0433":"g","\u0434":"d","\u0435":"e","\u0451":"yo","\u0436":"zh","\u0437":"z","\u0438":"i","\u0439":"y","\u043a":"k","\u043b":"l","\u043c":"m","\u043d":"n","\u043e":"o","\u043f":"p","\u0440":"r","\u0441":"s","\u0442":"t","\u0443":"u","\u0444":"ph","\u0445":"h","\u0446":"ts","\u0447":"ch","\u0448":"sh","\u0449":"sch",
"\u044c":"","\u044a":"","\u044b":"y","\u044d":"e","\u044e":"yu","\u044f":"ya"},_.object(_.map("_-1234567890qwertyuiopasdfghjklzxcvbnm",function(a){return[a,a]})));return function(b){var c="";b=(b||"").toLowerCase();for(var d=0,e=b.length;d<e;d++)c+=a[b[d]]||"";return c}}()})});_.extend(String,{randomHex:function(a){void 0===a&&(a=_.random(1,32));for(var b="",c=0;c<a;c++)b+=Math.floor(16*Math.random()).toString(16);return b},leadingZero:function(a){return 10>a?"0"+a:a.toString()}});_.deferTest(["identifier naming style interpolation"],
function(){$assert(_.camelCaseToLoDashes("flyingBurritoOption"),"flying_burrito_option");$assert(_.camelCaseToDashes("flyingBurritoOption"),"flying-burrito-option");$assert(_.dashesToCamelCase("flying-burrito-option"),"flyingBurritoOption");$assert(_.loDashesToCamelCase("flying_burrito_option"),"flyingBurritoOption")},function(){_.camelCaseToDashes=function(a){return a.replace(/[a-z][A-Z]/g,function(a){return a[0]+"-"+a[1].lowercase})};_.camelCaseToLoDashes=function(a){return a.replace(/[a-z][A-Z]/g,
function(a){return a[0]+"_"+a[1].lowercase})};_.dashesToCamelCase=function(a){return a.replace(/(-.)/g,function(a){return a[1].uppercase})}});_.loDashesToCamelCase=function(a){return a.replace(/(_.)/g,function(a){return a[1].uppercase})}},function(m,n){_.deferTest("bindable",function(){var a={plusOne:function(a){return a+1},innocentMethod:function(a){return a}};$assertEveryCalled(function(b,c,d,e,f,k){_.onBefore(a,"plusOne",function(a){b();$assert(7===a)});_.onAfter(a,"plusOne",function(a,b){c();
$assert([a,b],[7,8])});$assert(a.plusOne(7),8);_.intercept(a,"innocentMethod",function(a,b){d();return 2*b(a+1)});$assert(a.innocentMethod(42),86);_.intercept(a,"innocentMethod",function(a,b){e();$assert(b(a),86);return"hard boiled shit"});$assert(a.innocentMethod(42),"hard boiled shit");var l=_.bindable(function(a){f();$assert(42===a)});l.onBefore(function(a){k();$assert(42===a)});l(42)});$assertEveryCalledOnce(function(b,c){var d=function(a){b();$assert(7===a)},e=function(a,b){c();$assert([a,b],
[7,8])};_.times(2,function(){_.onceBefore(a,"plusOne",d);_.onceAfter(a,"plusOne",e)});$assert(a.plusOne(7),8);$assert(a.plusOne(7),8)});$assertEveryCalled(function(a,c){var d=_.bindable(function(){});d.onBefore(c);d.onAfter(a);d.off(c);d();d.onBefore(c);d.onAfter(c);d.off();d()})},function(){var a=["onceBefore","onceAfter","onBefore","onAfter","intercept"],b=function(b,d){if("function"!==typeof b)throw Error("method should be a function");return _.extend({},b,{_bindable:!0,impl:b,_wrapped:b,context:d,
off:function(b){_.each(a,function(a){b?this["_"+a].remove(b):this["_"+a].removeAll()},this);return this}},_.object(_.map(a,function(a){var b="_"+a,c=0<=a.indexOf("once");return[a,function(a){if(!_.isBindable(this))throw Error("wrong this");var d=this[b];(!c||0>d.indexOf(a))&&this[b].push(a);return this}]})),_.object(_.map(a,function(a){return["_"+a,[]]})))};_.extend(_,_.mapObject(_.invert(a),function(a){return function(b,e,f){var k=b[e];b=_.isBindable(k)?k:b[e]=_.bindable(k);return b[a].call(b,f)}}.flip2),
{unbind:function(a,b,e){(a=a[b])&&a.off&&a.off(e)},isBindable:function(a){return a&&a._bindable?!0:!1},bindable:_.extendWith({hooks:a,hooksShort:["onceBefore","onceAfter","before","after","intercept"]},function(a,d){return _.withSameArgs(a,_.extendWith(b(a,d),function(){var b=arguments.callee,f=b._onceBefore,k=b._onceAfter,l=b._onBefore,p=b._onAfter,q=b._intercept,b=d||this,m,n;if(f.length){m=0;for(n=f.length;m<n;m++)f[m].apply(b,arguments);f.removeAll()}m=0;for(n=l.length;m<n;m++)l[m].apply(b,arguments);
f=(q.length?_.cps.compose([a].concat(q)):a).apply(b,arguments);if(p.length||k.length){l=_.asArray(arguments).concat(f);m=0;for(n=p.length;m<n;m++)p[m].apply(b,l);if(k.length)for(p=k.copy,k.removeAll(),m=0,n=p.length;m<n;m++)p[m].apply(b,l)}return f}))})})})},function(m,n){_.tests.stream={triggerOnce:function(){$assertEveryCalledOnce(function(a){var b=_.triggerOnce(),c=function(b){$assert(321===b);a()};b(c);b(c);b(321);b(123)})},observable:function(){var a=_.observable(555);$assert(a.value,555);$assertEveryCalledOnce(function(a){var c=
_.observable();c(999);c(function(c){$assert(c,999);a()})});$assertEveryCalled(function(a){var c=_.observable();c(a);c(123);c(345);c(567)});$assertEveryCalledOnce(function(a){var c=_.observable();c(function(c){$assert(111,c);a()});c(111);c(111)});$assertEveryCalledOnce(function(a){var c=_.observable(444);c(function(c,e){e&&($assert([c,e],[666,444]),a())});c(666)})},"observable.when":function(){$assertEveryCalledOnce(function(a){_.observable(234).when(234,function(){a()})});$assertEveryCalledOnce(function(a){var b=
_.observable();b.when(_.equals(432),function(){a()});b(432);b(234)});$assertNotCalled(function(a){var b=_.observable();b.when(_.equals(432),function(){a()});b(7)})},once:function(){$assertEveryCalledOnce(function(a){var b=_.trigger();b.once(a);b.once(a);b();b()})},"_.gatherChanges":function(){var a=_.observable(),b=_.observable(),c=[];_.gatherChanges(a,b,function(a,b){c.push([a,b])});a(123);b(777);$assert(c,[[123,void 0],[123,777]])},context:function(){var a=_.extend(_.trigger(),{context:42});a(function(){$assert(this,
42)});a()},"_.off (bound)":function(){var a=function(){$fail},b=_.trigger(a);_.off(a);b()},"_.off (stream)":function(){var a=_.trigger(function(){$fail});_.off(a);a()},"_.barrier (defaultListener)":function(){$assertEveryCalled(function(a){_.barrier(function(){a()})()})},"all shit":function(){var a={somethingReady:_.barrier(),whenSomething:_.trigger()};$assertEveryCalled(function(b,c){a.whenSomething(b);a.whenSomething(c);a.whenSomething();a.whenSomething()});$assertEveryCalledOnce(function(a){var b=
_.trigger(),c=function(){$fail};b(function(){a()});b(c);b.off(c);b()});$assertEveryCalledOnce(function(b,c){a.somethingReady(function(c){$assert("foo"===c);a.somethingReady(c);b()});a.somethingReady(function(a){$assert("foo"===a);c()});a.somethingReady("foo")});a.somethingReady("bar");var b=_.triggerOnce(),c=_.triggerOnce(),d=_.triggerOnce(),e=_.triggerOnce();_.allTriggered([b,c],function(){$fail});b();$assertEveryCalledOnce(function(a){_.allTriggered([d,e],a);d();e()})},"call order consistency":function(a){var b=
"",c=function(a){return _.barrier(function(){b+=a})},d=c("a"),e=c("b"),f=c("c"),k=_.barrier();k(d)(function(){k.postpones=!0;k(f);k.postpones=!1})(e);k(!0);_.allTriggered([d,e,f],function(){$assert(b,"abc");a()})},"_.barrier reset":function(){var a=_.barrier();a("not_42");a.reset();$assertEveryCalledOnce(function(b){a(function(a){b();$assert(a,42)});a(42)})},"_.barrier (value)":function(){$assertEveryCalledOnce(function(a){var b=_.barrier(42);$assert(b.already);b(function(b){$assert(b,42);a()})})},
"observable.item":function(){var a=_.observable({foo:7,bar:8}),b=a.item("foo"),c=a.item("bar");$assert(b,a.item("foo"));$assert(b.value,7);$assert(c.value,8);b(77);$assert(b.value,77);$assert(a.value,{foo:77,bar:8});a({bar:88});$assert(b.value,void 0);$assert(c.value,88);$assert(a.value,{bar:88})}};_.extend(_,{gatherChanges:function(a){var b=_.isArray(a)?a:_.initial(arguments),c=_.last(arguments),d=function(a){c.apply(this,_.pluck(b,"value"))};_.each(b,function(a){a(d)})},allTriggered:function(a,
b){var c=[];0<a.length?_.each(a,function(d){d(function(){c=_.union(c,[d]);b&&c.length===a.length&&(b(),b=void 0)})}):b()},observableRef:function(a){return _.extend(_.observable.apply(this,arguments),{trackReference:!0})},observable:function(a){var b=_.stream({isObservable:!0,hasValue:0<arguments.length,value:_.isFunction(a)?void 0:a,read:function(a){return function(d){b.hasValue&&d.call(this,b.value);a.call(this,d)}},write:function(a){return function(d){b.beforeWrite&&(d=b.beforeWrite(d));if(!b.hasValue||
(b.trackReference?b.value!==d:!_.isEqual(b.value,d))){var e=b.value,f=b.hasValue;b.hasValue=!0;b.value=d;f?a.call(this,!1,b.value,e):a.call(this,!1,b.value)}}}});arguments.length&&b.apply(this,arguments);return _.extend(b,{force:function(a){b.hasValue=!1;b(a||b.value)},then:function(a){var d=_.observable();d.beforeWrite=a;b(function(a){d.write(a)});return d},toggle:function(){return b(!b.value)},tie:function(a){b(a);a(b);return b},item:function(a){var d=b.itemObservables||(b.itemObservables={}),e=
d[a];e||(e=d[a]=_.observable((b.value&&b.value)[a]),e(function(d){(b.value&&b.value[d])!==d&&((b.value||(b.value={}))[a]=d,b.force())}),b(function(b){e.write(b[a])}));return e},when:function(a,d){var e=_.isFunction(a)?a:_.equals(a),f=!1;b(function(a){e(a)&&!f&&(f=!0,b.off(arguments.callee),d.apply(this,arguments))})}})},barrier:function(a){var b=void 0;_.isFunction(a)&&(b=a,a=void 0);var c=_.stream({already:void 0!==a,value:a,reset:function(){c.already=!1;delete c.value},write:function(a){return function(b){c.already||
(c.already=!0,c.value=b);a.call(this,!0,c.value)}},read:function(a){return function(b){c.already?(c.postpones||c.commitingReads?b.postponed:b).call(this,c.value):a.call(this,b)}}});b&&c(b);_.defineProperty(c,"promise",function(){return new Promise(function(a){c(a)})});return c},triggerOnce:$restArg(function(){var a=_.stream({read:function(b){return function(c){0>a.queue.indexOf(c)&&b.call(this,c)}},write:function(a){return a.partial(!0)}}).apply(this,arguments);return a}),trigger:$restArg(function(){return _.stream({read:_.identity,
write:function(a){return a.partial(!1)}}).apply(this,arguments)}),off:function(a,b){a.queue&&(1===arguments.length?a.queue.off():a.queue.off(b));a.queuedBy&&(_.each(a.queuedBy,function(b){b.remove(a)}),delete a.queuedBy)},stream:function(a){a=a||{};var b=_.extend([],{off:function(a){this.length&&(0===arguments.length?(_.each(this,function(a){a.queuedBy.remove(this)},this),this.removeAll()):a.queuedBy&&(a.queuedBy.remove(this),this.remove(a)))}}),c=void 0,d=a.write(function(a,d){var e=_.rest(arguments),
p=c.context||this,q=b.copy;a&&b.off();c.commitingReads=!0;for(var m=0,n=q.length;m<n;m++)(c.postpones?q[m].postponed:q[m]).apply(p,e);delete c.commitingReads}),e=a.read(function(a){0>b.indexOf(a)&&(a.queuedBy?a.queuedBy.push(b):a.queuedBy=[b],b.push(a))});return c=_.extend($restArg(function(a){_.isFunction(a)?e.call(this,a):d.apply(this,arguments);return arguments.callee}),a,{queue:b,once:function(a){_.find(b,function(b){return b.onceWrapped_===a})||e(_.extend(function(b){_.off(c,arguments.callee);
a(b)},{onceWrapped_:a}))},off:_.off.asMethod,read:e,write:d,postpone:function(){this.postponed.apply(c.context,arguments)}})}});_.deferTest(["stream","observable.map"],function(){var a=_.observable("foo"),b=_.observable("bar"),c=[];_.observable.map([a,b],_.appends("42"))(function(a){c.push(a.copy)});$assert(c,[["foo42","bar42"]]);a("qux");b("zap");$assert(c,[["foo42","bar42"],["qux42","bar42"],["qux42","zap42"]]);_.observable.map({foo:_.observable("bar")})(function(a){$assert({foo:"bar"},a)})},function(){_.observable.map=
function(a,b){b=b||_.identity;var c=_.isArray(a)?Array(a.length):{},d=_.observable(c);_.each(a,function(a,f){a(function(a){c[f]=b(a,f);d.force(c)})});return d};_.observable.all=_.observable.map})},function(m,n){_.hasOOP=!0;_.deferTest("OOP",{"$prototype / $extends":function(){var a=$prototype({method:function(){return"foo.method"},staticMethod:$static(function(){return"Foo.staticMethod"}),property:$property(function(){return"foo.property"}),staticProperty:$static($property(function(){return"Foo.staticProperty"})),
$static:{$property:{one:1,two:2,three:3}},$property:{static42:$static(42),just42:42,just42_too:function(){return 42},fullBlown:{enumerable:!1,configurable:!0,get:function(){return 42},set:function(a){$stub}}}}),b=$extends(a,$final({staticMethod:$static(function(){return"Bar.staticMethod"}),method:function(){return"bar.method"}})),c=new a,d=new a({method:function(){return"fuu.method"}}),e=new b({hi:"there"});$assert("there"===e.hi);$assert("fuu.method"===d.method());$assert([c.just42,e.just42],[42,
42]);$assert([a.static42,b.static42],[42,void 0]);$assert([c.method(),e.method()],["foo.method","bar.method"]);$assert([a.staticMethod(),b.staticMethod()],["Foo.staticMethod","Bar.staticMethod"]);$assert([c.property,c.staticProperty],["foo.property",void 0]);$assert([a.staticProperty,a.property],["Foo.staticProperty",void 0]);$assertThrows(function(){c.just42=43},_.matches({message:"cannot change just42 (as it's sealed to 42)"}))},$final:function(){$assertThrows(function(){var a=$prototype({constructor:$final(function(){})});
$extends(a,{constructor:function(){}})},_.matches({message:"Cannot override $final constructor"}));$assertThrows(function(){var a=$prototype($final({}));$extends(a)},_.matches({message:"Cannot derive from $final-marked prototype"}))},$alias:function(){var a=new ($prototype({error:function(){return"foo.error"},failure:$alias("error"),crash:$alias("error"),finalCrash:$final($alias("crash"))})),b=a.constructor.$definition;$assert(a.finalCrash,a.crash,a.failure,a.error);$assert(b.finalCrash.$final);$assertNot(b.crash.$final);
$assertNot(b.error.$final);a=new ($prototype({w:$alias($property("x")),h:$alias($property("y"))}));$assert([a.x=42,a.y=24],[a.w,a.h],[42,24])},$constructor:function(){$assertEveryCalledOnce(function(a){new ($prototype({$constructor:function(){a()}}))})},RTTI:function(){var a=$prototype({$static:{noop:_.noop}}),b=$extends(a),c=new a,d=new b;$assert(c.constructor===a);$assert(d.constructor===b);$assert(_.isTypeOf(Function,c.constructor.noop));$assert(_.isTypeOf(Tags,c.constructor.$definition.noop));
$assert(a.isTypeOf(c));$assert(!b.isTypeOf(c));$assert(b.isTypeOf(d));$assert(a.isTypeOf(d));$assert(c.isInstanceOf(a));$assert(!c.isInstanceOf(b));$assert(d.isInstanceOf(b));$assert(d.isInstanceOf(a));$assert(_.isTypeOf_ES5(b,d));$assert(_.isTypeOf_ES5(a,d));$assert(_.isTypeOf_ES4(b,d));$assert(_.isTypeOf_ES4(a,d))},isConstructor:function(){var a=$prototype(),b=function(){};$assert($prototype.isConstructor(a),!0);$assert($prototype.isConstructor(b),!1);$assert($prototype.isConstructor(null),!1);
$assert([a,b].map($prototype.isConstructor),[!0,!1])},inheritanceChain:function(){var a=$prototype(),b=$extends(a),c=$extends(b);$assert($prototype.inheritanceChain(c),[c,b,a])},defines:function(){var a=$prototype({toString:function(){}}),a=$extends(a),b=$prototype();$assert([$prototype.defines(a,"toString"),$prototype.defines(b,"toString")],[!0,!1])},"two-argument syntax of $prototype":function(){var a=$prototype(),b=$prototype(a,{});$assert(b.$base===a.prototype)},"value contracts for arguments":function(){var a=
new ($prototype($testArguments({frobnicate:function(a,c,d){},noMistake:function(){}})));$assertFails(function(){a.frobnicate(999,"not right")});a.frobnicate(777,"foo bar baz");a.noMistake()},$membersByTag:function(){var a=$static($property(1)),b=$property(2);$assertMatches($prototype({foo:a,bar:b}).$membersByTag,{"static":{foo:a},property:{foo:a,bar:b}})},"tags on definition":function(){$assertMatches($prototype($static($final({}))),{$static:!0,$final:!0})},$mixin:function(){var a=$prototype();$mixin(a,
{twentyFour:$static($property(24)),fourtyTwo:$property(42)});$assert([a.twentyFour,(new a).fourtyTwo],[24,42])}},function(){_("property static final alias memoized private builtin hidden testArguments".split(" ")).each(_.defineTagKeyword);$prototype=function(a,b){return $prototype.impl.compile.apply($prototype.impl,1<arguments.length?_.asArray(arguments).reverse():arguments)};$extends=function(a,b){return $prototype(a,b||{})};$mixin=function(a,b){return $prototype.impl.compileMixin(_.extend(b,{constructor:a}))};
_.extend($prototype,{isConstructor:function(a){return _.isPrototypeConstructor(a)},macro:function(a,b){1===arguments.length?$prototype.impl.alwaysTriggeredMacros.push(a):$prototype.impl.memberNameTriggeredMacros[a]=b},macroTag:function(a,b){_.defineTagKeyword(a);$prototype.impl.tagTriggeredMacros[_.keyword(a)]=b},each:function(a){var b=$global,c;for(c in b)if(!_.isKeyword(c)){var d=b[c];$prototype.isConstructor(d)&&a(d,c)}},defines:function(a,b){return _.find($prototype.inheritanceChain(a),function(a){return a.$definition&&
a.$definition.hasOwnProperty(b)||!1})?!0:!1},inheritanceChain:function(a){for(var b=[];a;)b.push(a),a=a.$base&&a.$base.constructor;return b},wrapMethods:function(a,b){return Tags.map(a,function(a,d,e){return _.isFunction(a)?b(a,d,e).wraps(a):a})},impl:{alwaysTriggeredMacros:[],memberNameTriggeredMacros:{},tagTriggeredMacros:{},compile:function(a,b){var c=b&&b.$impl||this;return $untag(c.sequence(a,b).call(c,a||{}).constructor)},sequence:function(a,b){return _.sequence(this.extendWithTags,this.flatten,
this.generateCustomCompilerImpl(b),this.generateArgumentContractsIfNeeded,this.ensureFinalContracts(b),this.generateConstructor(b),this.evalAlwaysTriggeredMacros(b),this.evalMemberTriggeredMacros(b),this.contributeTraits(b),this.evalPrototypeSpecificMacros(b),this.generateBuiltInMembers(b),this.callStaticConstructor,this.expandAliases,this.groupMembersByTagForFastEnumeration,this.defineStaticMembers,this.defineInstanceMembers)},compileMixin:function(a){return _.sequence(this.flatten,this.contributeTraits(),
this.expandAliases,this.evalMemberTriggeredMacros(),this.defineStaticMembers,this.defineInstanceMembers).call(this,a||{}).constructor},flatten:function(a){var b=_.pick(a,this.isTagKeywordGroup),b=_.object(_.flatten(_.map(b,function(a,b){return _.map(this.flatten(a),function(a,c){return[c,$global[b](a)]})},this),!0));a=_.omit(a,this.isTagKeywordGroup);return _.extend(a,b)},evalAlwaysTriggeredMacros:function(a){return function(b){for(var c=$prototype.impl.alwaysTriggeredMacros,d=0,e=c.length;d<e;d++)b=
c[d](b,a)||b;return b}},evalMemberTriggeredMacros:function(a){return function(b){var c=$prototype.impl.memberNameTriggeredMacros,d=$prototype.impl.tagTriggeredMacros;_.each(b,function(e,f){c.hasOwnProperty(f)&&(b=c[f](b,e,f,a)||b);_.each(_.keys(e),function(c){d.hasOwnProperty(c)&&(b=d[c](b,e,f,a)||b)})});return b}},evalPrototypeSpecificMacros:function(a){return function(b){if(!b.isTraitOf){var c=$untag(b.$macroTags||a&&a.$definition&&a.$definition.$macroTags);c&&this.applyMacroTags(c,b)}return b}},
applyMacroTags:function(a,b){_.each(b,function(c,d){_.each(a,function(a,f){c=b[d];_.isObject(c)&&_.keyword(f)in c&&(b[d]=a.call(b,b,c,d)||c)},this)},this);return b},generateCustomCompilerImpl:function(a){return function(b){b.$impl?(b.$impl=_.extend(Object.create(a&&a.$impl||this),b.$impl),b.$impl=$static($builtin($property(b.$impl)))):a&&a.$impl&&(b.$impl=$static($builtin($property(a.$impl))));return b}},generateArgumentContractsIfNeeded:function(a){return a.$testArguments?$prototype.wrapMethods(a,
function(a,c){return function(){var d=_.asArray(arguments);$assertArguments(d.copy,a.original,c);return a.apply(this,d)}}):a},contributeTraits:function(a){return function(b){if(b.$traits){var c=b.$traits;this.mergeTraitsMembers(b,c,a);b.$traits=$static($builtin($property(c)));b.hasTrait=$static($builtin(function(a){return 0<=c.indexOf(a)}))}return b}},mergeTraitsMembers:function(a,b,c){_.each(b,function(b){_.defaults(a,_.omit(b.$definition,_.or($builtin.matches,_.key(_.equals("constructor")))))})},
extendWithTags:function(a){return _.extendWith($untag(a),_.mapObject(Tags.get(a),$static.arity1))},callStaticConstructor:function(a){a.isTraitOf||(_.each($untag(a.$traits),function(b){b.$definition.$constructor&&$untag(b.$definition.$constructor).call(a)}),a.$constructor&&$untag(a.$constructor).call(a));return a},generateConstructor:function(a){return function(b){return _.extend(b,{constructor:Tags.modify(b.hasOwnProperty("constructor")?b.constructor:this.defaultConstructor(a),function(b){a&&(b.prototype=
Object.create(a.prototype),b.prototype.constructor=b);return b})})}},generateBuiltInMembers:function(a){return function(b){b.$constructor&&(b.$constructor=$builtin($static(b.$constructor)));return _.defaults(b,{$base:$builtin($static($property(_.constant(a&&a.prototype)))),$definition:$builtin($static($property(_.constant(_.extend({},a&&a.$definition,b))))),isTypeOf:$builtin($static(_.partial(_.isTypeOf,$untag(b.constructor)))),isInstanceOf:$builtin(function(a){return _.isTypeOf(a,this)}),$:$builtin($prototype.impl.$)})}},
$:function(a){return _.$.apply(null,[this].concat(_.asArray(arguments)))},defaultConstructor:function(a){return a?function(){a.prototype.constructor.apply(this,arguments)}:function(a){_.extend(this,a||{})}},defineStaticMembers:function(a){this.defineMembers($untag(a.constructor),_.pick(a,$static.matches));return a},defineInstanceMembers:function(a){this.defineMembers($untag(a.constructor).prototype,_.omit(a,$static.matches));return a},defineMembers:function(a,b){_.each(b,function(c,d){"constructor"!==
d&&b.hasOwnProperty(d)&&this.defineMember(a,c,d)},this)},defineMember:function(a,b,c){b&&b.$property?b.$memoized?_.defineMemoizedProperty(a,c,b):_.defineProperty(a,c,b,b.$hidden?{enumerable:!1}:{}):(b=$untag(b),a[c]=b)},ensureFinalContracts:function(a){return function(b){if(a){if(a.$final)throw Error("Cannot derive from $final-marked prototype");if(a.$definition){var c=_.intersection(_.keys(_.pick(a.$definition,$final.matches)),_.keys(b));if(c.length)throw Error("Cannot override $final "+c.join(", "));
}}return b}},expandAliases:function(a){_.each(a,function(b,c){a[c]=this.resolveMember(a,c,b)[1]},this);return a},resolveMember:function(a,b,c){c=c||a[b];if($alias.is(c)){a=this.resolveMember(a,$untag(c));var d=a[0];a=a[1];return[d,$property.is(c)?$property({get:function(){return this[d]},set:function(a){this[d]=a}}):Tags.extend(a,Tags.omit(c,"$alias"))]}return[b,c]},groupMembersByTagForFastEnumeration:function(a){var b={};_.each(a,function(a,d){Tags.each(a,function(e){(b[e]=b[e]||{})[d]=a})});a.$membersByTag=
$static($builtin($property(b)));return a},isTagKeywordGroup:function(a,b){var c=$untag(a);return _.isKeyword(b)&&_.isFunction($global[b])&&"object"===typeof c&&!_.isArray(c)},modifyMember:function(a,b){return $property.is(a)&&Tags.modify(a,function(a){return _.extend(a,_.map2(_.pick(a,"get","set"),b))})||_.isFunction($untag(a))&&Tags.modify(a,b)||a}}})});_.deferTest(["OOP","$traits"],function(){var a=$trait({close:function(){}}),b=$trait({move:function(){}}),c=$trait({each:function(a){},length:$property(function(){return 0})}),
d=$prototype({$traits:[a]}),e=$prototype({$traits:[b,c],move:function(){}}),f=new e;$assert(f.move===e.prototype.move);$assertThrows(function(){new a},_.matches({message:"Traits are not instantiable (what for?)"}));$assertTypeMatches(f,{move:"function",each:"function",length:"number"});$assert([f.isInstanceOf(b),f.isInstanceOf(c),f.isInstanceOf(a)],[!0,!0,!1]);$assert(b.isTypeOf(f));$assert(b.isTraitOf(f));$assert(e.hasTrait(c));$assertMatches(e,{$traits:[b,c]});$assertMatches(d,{$traits:[a]});$assertCallOrder(function(a,
b,c){var d,e;$assertNotCalled(function(c){d=$trait({$constructor:function(){c();a()}});e=$trait({$constructor:function(){c();b()}})});$prototype({$traits:[d,e],$constructor:function(){c()}})})},function(){_.isTraitOf=function(a,b){var c=b&&b.constructor;return c&&c.hasTrait&&c.hasTrait(a)||!1};_.isTypeOf=_.or(_.isTypeOf,_.isTraitOf);$trait=function(a,b){var c=void 0,d=_.extend(1<arguments.length?b:a,{constructor:_.throwsError("Traits are not instantiable (what for?)"),isTraitOf:$static($builtin(function(a){return _.isTraitOf(c,
a)}))});return c=$prototype.impl.compile(d,1<arguments.length?a:b)}});$prototype.macro("$macroTags",function(a,b,c){_.each($untag(b),function(a,b){_.defineTagKeyword(b)})});_.$=function(a,b){return _.rest(arguments,2).length?_.bind.apply(void 0,[b,a].concat(_.rest(arguments,2))):_.withSameArgs(b,function(){return b.apply(a,arguments)})};_.deferTest(["OOP","$const"],function(){var a=$prototype({$const:{foo:"foo",bar:"bar"},qux:$const("qux"),zap:$const("zap")});$assert([a.foo,a.bar,a.qux,a.zap],["foo",
"bar","qux","zap"]);$assertThrows(function(){a.foo="bar "})},function(){_.defineKeyword("const",function(a){return $static($property(a))})});_.deferTest(["OOP","$callableAsFreeFunction"],function(){var a=$prototype({foo:$callableAsFreeFunction($property(function(){$assert(this._42,42);return 42}))});x=new a({_42:42});$assert(x.foo,a.foo(x),42)},function(){_.defineTagKeyword("callableAsFreeFunction");$prototype.macroTag("callableAsFreeFunction",function(a,b,c){a.constructor[c]=$untag(b).asFreeFunction;
return a})});_.deferTest(["OOP","$callableAsMethod"],function(){var a=$prototype({foo:$callableAsMethod(function(a,c){$assert(a._42,c,42);return 42})});x=new a({_42:42});$assert(x.foo(42),a.foo(x,42),42)},function(){_.defineTagKeyword("callableAsMethod");$prototype.macroTag("callableAsMethod",function(a,b,c){a[c]=Tags.modify(b,_.asMethod);a.constructor[c]=$untag(b);return a})});_.deferTest(["OOP","$singleton"],function(){$assertEveryCalledOnce(function(a,c){var d=$prototype({method:_.constant(42)}),
e=$singleton({constructor:function(){a()},method:function(){return 42}}),f=$singleton(d,{constructor:function(){c();d.prototype.constructor.apply(this,arguments)}});$assert(e.method(),f.method(),42)});var a=$singleton({Inside:$prototype({foo:function(){}})});$assertTypeMatches((new a.Inside).foo,"function")},function(){$singleton=function(a,b){return new ($prototype.apply(null,arguments))}})},function(m,n){Math.clamp=_.clamp=function(a,b,c){return Math.max(b,Math.min(c,a))};Math.lerp=_.lerp=function(a,
b,c){return b+(c-b)*a};Math.rescale=_.rescale=function(a,b,c,d){a=(a-b[0])/(b[1]-b[0]);return _.lerp(d&&d.clamp?_.clamp(a,0,1):a,c[0],c[1])};Math.rescaleClamped=_.rescaleClamped=function(a,b,c){return _.rescale(a,b,c,{clamp:!0})};Math.sqr=_.sqr=function(a){return a*a};Math.sign||(Math.sign=function(a){return 0>a?-1:0<a?1:0});Intersect={rayCircle:function(a,b,c,d){var e=a.sub(c);c=b.dot(b);var f=2*e.dot(b);d=e.dot(e)-d*d;e=f*f-4*c*d;if(!(0>e)){e=Math.sqrt(e);d=(-f-e)/(2*c);c=(-f+e)/(2*c);if(0<=d&&
1>=d)return{time:d,where:a.add(b.scale(d))};if(0<=c&&1>=c)return{time:c,where:a.add(b.scale(c)),insideOut:!0}}}};Vec2=$prototype({$static:{xx:function(a){return new Vec2(a,a)},xy:function(a,b){return new Vec2(a,b)},x:function(a){return new Vec2(a,0)},y:function(a){return new Vec2(0,a)},zero:$property(function(){return new Vec2(0,0)}),unit:$property(function(){return new Vec2(1,1)}),one:$alias("unit"),lt:$alias("fromLT"),wh:$alias("fromWH"),fromLT:function(a){return a&&new Vec2(a.left,a.top)},fromWH:function(a){return a&&
new Vec2(a.width,a.height)},fromLeftTop:$alias("fromLT"),fromWidthHeight:$alias("fromWH"),lerp:function(a,b,c){return new Vec2(_.lerp(a,b.x,c.x),_.lerp(a,b.y,c.y))},clamp:function(a,b,c){return new Vec2(_.clamp(a.x,b.x,c.x),_.clamp(a.y,b.y,c.y))}},constructor:function(a,b){1===arguments.length?_.isNumber(a)?this.x=this.y=a:(this.x=a.x,this.y=a.y):(this.x=a,this.y=b)},w:$alias($property("x")),h:$alias($property("y")),width:$alias($property("x")),height:$alias($property("y")),length:$property(function(){return Math.sqrt(this.lengthSquared)}),
lengthSquared:$property(function(){return this.x*this.x+this.y*this.y}),distance:function(a){return this.sub(a).length},aspect:$property(function(){return this.x/this.y}),add:function(a,b){return void 0===b?"number"===typeof a?new Vec2(this.x+a,this.y+a):new Vec2(this.x+a.x,this.y+a.y):new Vec2(this.x+a,this.y+b)},aspect:$property(function(){return this.w/this.h}),dot:function(a){return this.x*a.x+this.y*a.y},sub:function(a){return new Vec2(this.x-a.x,this.y-a.y)},scale:function(a,b){return new Vec2(this.x*
a,this.y*(void 0===b?a:b))},mul:function(a){return new Vec2(this.x*a.x,this.y*a.y)},divide:function(a){return new Vec2(this.x/a.x,this.y/a.y)},normal:$property(function(){return this.scale(1/this.length)}),perp:$property(function(){return new Vec2(this.y,-this.x)}),half:$property(function(){return new Vec2(.5*this.x,.5*this.y)}),inverse:$property(function(){return new Vec2(-this.x,-this.y)}),asArray:$property(function(){return[this.x,this.y]}),asLeftTop:$property(function(){return{left:this.x,top:this.y}}),
asLeftTopMargin:$property(function(){return{marginLeft:this.x,marginTop:this.y}}),asWidthHeight:$property(function(){return{width:this.x,height:this.y}}),asTranslate:$property(function(){return"translate("+this.x+" "+this.y+")"}),separatedWith:function(a){return this.x+a+this.y},floor:$property(function(){return new Vec2(Math.floor(this.x),Math.floor(this.y))}),sum:$static(function(a){return _.reduce(_.isArray(a)&&a||_.asArray(arguments),function(a,c){return a.add(c||Vec2.zero)},Vec2.zero)}),toString:function(){return"{"+
this.x+","+this.y+"}"},projectOnCircle:function(a,b){return a.add(this.sub(a).normal.scale(b))},projectOnLineSegment:function(a,b){var c=b.sub(a),d=c.lengthSquared;if(0==d)return a;d=this.sub(a).dot(c)/d;return 0>d?a:1<d?b:a.add(c.scale(d))},projectOnRay:function(a,b){var c=b.lengthSquared;return 0==c?0:this.sub(a).dot(b)/c}});Bezier={cubic:function(a,b,c,d,e){var f=a*a*a,k=a*a,l=3*(c.x-b.x),p=3*(c.y-b.y),m=3*(d.x-c.x)-l;c=3*(d.y-c.y)-p;return new Vec2((e.x-b.x-l-m)*f+m*k+l*a+b.x,(e.y-b.y-p-c)*f+
c*k+p*a+b.y)},cubic1D:function(a,b,c,d,e){return Bezier.cubic(a,Vec2.zero,new Vec2(b,c),new Vec2(d,e),Vec2.one).y},make:{cubic:function(a,b,c,d){return function(e){return Bezier.cubic(e,a,b,c,d)}},cubic1D:function(a,b,c,d){return function(e){return Bezier.cubic1D(e,a,b,c,d)}}}};BBox=$prototype({$static:{zero:$property(function(){return new BBox(0,0,0,0)}),unit:$property(function(){return new BBox(0,0,1,1)}),rect:$property(function(a){return new BBox(0,0,a,a)}),fromLeftTopAndSize:function(a,b){return BBox.fromLTWH({left:a.x,
top:a.y,width:b.x,height:b.y})},fromLTWH:function(a,b,c,d){return 1===arguments.length?a&&BBox.fromLTWH(a.left,a.top,a.width,a.height):new BBox(a+c/2,b+d/2,c,d)},fromLTRB:function(a,b,c,d){return 1===arguments.length?a&&BBox.fromLTRB(a.left,a.top,a.right,a.bottom):new BBox(_.lerp(.5,a,c),_.lerp(.5,b,d),c-a,d-b)},fromSizeAndCenter:function(a,b){return new BBox(b.x-a.x/2,b.y-a.y/2,a.x,a.y)},fromSize:function(a,b){return b?new BBox(-a/2,-b/2,a,b):new BBox(-a.x/2,-a.y/2,a.x,a.y)},fromPoints:function(a){var b=
Number.MAX_VALUE,c=Number.MAX_VALUE,d=Number.MIN_VALUE,e=Number.MIN_VALUE;_.each(a,function(a){b=Math.min(a.x,b);c=Math.min(a.y,c);d=Math.max(a.x,d);e=Math.max(a.y,e)});return BBox.fromLTRB(b,c,d,e)}},constructor:function(a,b,c,d){4==arguments.length?(this.x=a,this.y=b,this.width=c,this.height=d):_.extend(this,a)},classifyPoint:function(a){a=_.extend(a.x>this.right?{right:!0}:{},a.x<this.left?{left:!0}:{},a.y>this.bottom?{bottom:!0}:{},a.y<this.top?{top:!0}:{});return _.extend(a,a.left||a.right||
a.bottom||a.top?{}:{inside:!0})},classifyRay:function(a,b,c){var d=this.size.half,e,f,k,l,p,m;e=1/b.x;f=1/b.y;p=Math.sign(e);m=Math.sign(f);k=(this.x-p*d.x-a.x)*e;l=(this.y-m*d.y-a.y)*f;e*=this.x+p*d.x-a.x;d=(this.y+m*d.y-a.y)*f;if(!(k>d||l>e||(f=k>l?k:l,1<=f||0>=(e<d?e:d))))return e={time:_.clamp(f,0,1)},e.normal=k>l?new Vec2(-p,0):new Vec2(0,-m),e.delta=b.scale(e.time),e.where=a.add(e.delta),c&&(k=this.grow(-c),e.where.x>k.right?e.where.y<k.top?e=Intersect.rayCircle(a,b,k.rightTop,c):e.where.y>
k.bottom&&(e=Intersect.rayCircle(a,b,k.rightBottom,c)):e.where.x<k.left&&(e.where.y<k.top?e=Intersect.rayCircle(a,b,k.leftTop,c):e.where.y>k.bottom&&(e=Intersect.rayCircle(a,b,k.leftBottom,c))),e&&e.insideOut&&(e.where=a)),e},nearestPointTo:function(a,b){var c=b||0,d=new Vec2(this.left,this.top),e=new Vec2(this.right,this.top),f=new Vec2(this.right,this.bottom),k=new Vec2(this.left,this.bottom),c=[a.projectOnLineSegment(d.add(c,0),e.add(-c,0)),a.projectOnLineSegment(e.add(0,c),f.add(0,-c)),a.projectOnLineSegment(f.add(-c,
0),k.add(c,0)),a.projectOnLineSegment(k.add(0,-c),d.add(0,c)),a.projectOnCircle(d.add(c,c),c),a.projectOnCircle(e.add(-c,c),c),a.projectOnCircle(f.add(-c,-c),c),a.projectOnCircle(k.add(c,-c),c)];return _.min(c,function(b){return a.sub(b).length})},xywh:$property(function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}),ltwh:$property(function(){return{left:this.left,top:this.top,width:this.width,height:this.height}}),union:function(a){return BBox.fromLTRB(Math.min(this.left,a.left),
Math.min(this.top,a.top),Math.max(this.right,a.right),Math.max(this.bottom,a.bottom))},centerIn:function(a){return new BBox(a.x,a.y,this.width,this.height)},clone:$property(function(){return new BBox(this.x,this.y,this.width,this.height)}),floor:$property(function(){return new BBox.fromLTRB(Math.floor(this.left),Math.floor(this.top),Math.floor(this.right),Math.floor(this.bottom))}),css:$property(function(){return{left:this.left+"px",top:this.top+"px",width:this.width+"px",height:this.height+"px"}}),
leftTop:$property(function(){return new Vec2(this.left,this.top)}),leftBottom:$property(function(){return new Vec2(this.left,this.bottom)}),rightBottom:$property(function(){return new Vec2(this.right,this.bottom)}),rightTop:$property(function(){return new Vec2(this.right,this.top)}),left:$property(function(){return this.x-this.width/2}),right:$property(function(){return this.x+this.width/2}),top:$property(function(){return this.y-this.height/2}),bottom:$property(function(){return this.y+this.height/
2}),center:$property(function(){return new Vec2(this.x,this.y)}),extent:$alias("size"),size:$property(function(){return new Vec2(this.width,this.height)}),offset:function(a){return new BBox(this.x+a.x,this.y+a.y,this.width,this.height)},newWidth:function(a){return new BBox(this.x-(a-this.width)/2,this.y,a,this.height)},grow:function(a){return new BBox(this.x,this.y,this.width+2*a,this.height+2*a)},shrink:function(a){return this.grow(-a)},mul:function(a){return new BBox(this.x*a,this.y*a,this.width*
a,this.height*a)},area:$property(function(){return Math.abs(this.width*this.height)}),intersects:function(a){return!(this.right<a.left||this.left>a.right||this.bottom<a.top||this.top>a.bottom)},toString:function(){return"{ "+this.left+","+this.top+" \u2190\u2192 "+this.right+","+this.bottom+" }"}});Transform=$prototype({$static:{identity:$property(function(){return new Transform}),svgMatrix:function(a){return new Transform([[a.a,a.c,a.e],[a.b,a.d,a.f],[0,0,1]])},translation:function(a){return new Transform([[1,
0,a.x],[0,1,a.y],[0,0,1]])}},constructor:function(a){this.components=a||[[1,0,0],[0,1,0],[0,0,1]]},multiply:function(a){var b=[[0,0,0],[0,0,0],[0,0,0]],c,d,e=this.components,f=a.components;for(a=0;3>a;a++)for(c=0;3>c;c++)for(d=0;3>d;d++)b[a][c]+=e[a][d]*f[d][c];return new Transform(b)},translate:function(a){return this.multiply(Transform.translation(a))},scale:function(a){return this.multiply(new Transform([[a,0,0],[0,a,0],[0,0,1]]))},inverse:$property($memoized(function(){var a=this.components,b=
1/(a[0][0]*(a[1][1]*a[2][2]-a[2][1]*a[1][2])-a[0][1]*(a[1][0]*a[2][2]-a[1][2]*a[2][0])+a[0][2]*(a[1][0]*a[2][1]-a[1][1]*a[2][0]));return new Transform([[(a[1][1]*a[2][2]-a[2][1]*a[1][2])*b,-(a[0][1]*a[2][2]-a[0][2]*a[2][1])*b,(a[0][1]*a[1][2]-a[0][2]*a[1][1])*b],[(a[1][0]*a[2][2]-a[1][2]*a[2][0])*b,(a[0][0]*a[2][2]-a[0][2]*a[2][0])*b,-(a[0][0]*a[1][2]-a[1][0]*a[0][2])*b],[(a[1][0]*a[2][1]-a[2][0]*a[1][1])*b,-(a[0][0]*a[2][1]-a[2][0]*a[0][1])*b,(a[0][0]*a[1][1]-a[1][0]*a[0][1])*b]])})),unproject:function(a){var b=
this.components;return new Vec2(a.x*b[0][0]+a.y*b[0][1]+b[0][2],a.x*b[1][0]+a.y*b[1][1]+b[1][2])},project:function(a){return this.inverse.unproject(a)}});_.rng=function(a,b,c){var d=a,e=987654321;return function(){e=36969*(e&65535)+(e>>16)&4294967295;d=18E3*(d&65535)+(d>>16)&4294967295;var a=(e<<16)+d&4294967295,a=a/4294967296+.5;return void 0===b&&void 0===c?a:Math.round(b+a*(c-b))}};_.equalDistribution=function(a,b){var c=a/b,d=0;return _.times(b,function(){var a=Math.round(d),b=Math.round(d+=c);
return Math.floor(b-a)})};_.ptInRect=function(a,b){return a.x>=b.left&&a.y>=b.top&&a.x<b.right&&a.y<b.bottom};_.hue2CSS=function(a,b){return _.RGB2CSS(_.hue2RGB(a),b)};_.HSL2CSS=function(a,b){return _.RGB2CSS(_.HSL2RGB(a),b)};_.HSL2RGB=function(a){var b=a[1],c=a[2];a=_.hue2RGB(a[0]);b*=1-Math.abs(2*c-1);return[(a[0]-.5)*b+c,(a[1]-.5)*b+c,(a[2]-.5)*b+c]};_.hue2RGB=function(a){return[Math.max(0,Math.min(1,Math.abs(6*a-3)-1)),Math.max(0,Math.min(1,2-Math.abs(6*a-2))),Math.max(0,Math.min(1,2-Math.abs(6*
a-4)))]};_.RGB2CSS=function(a,b){return"rgba("+Math.round(255*a[0])+","+Math.round(255*a[1])+","+Math.round(255*a[2])+","+(void 0===b?void 0===a[3]?1:a[3]:b)+")"};_.RGB2HSL=function(a,b){var c=a[0],d=a[1],e=a[2],f=void 0===b?a[3]:b,k=Math.max(c,d,e),l=Math.min(c,d,e),p,m=(k+l)/2;if(k==l)p=l=0;else{var n=k-l,l=.5<m?n/(2-k-l):n/(k+l);switch(k){case c:p=(d-e)/n+(d<e?6:0);break;case d:p=(e-c)/n+2;break;case e:p=(c-d)/n+4}p/=6}return void 0===f?[p,l,m]:[p,l,m,f]};_.extend(Math,function(a){return{roundTo:function(a,
c){return a-a%c},round10:function(b,c){return a("round",b,c)},floor10:function(b,c){return a("floor",b,c)},ceil10:function(b,c){return a("ceil",b,c)}}}(function(a,b,c){if("undefined"===typeof c||0===+c)return Math[a](b);b=+b;c=+c;if(isNaN(b)||"number"!==typeof c||0!==c%1)return NaN;b=b.toString().split("e");b=Math[a](+(b[0]+"e"+(b[1]?+b[1]-c:-c)));b=b.toString().split("e");return+(b[0]+"e"+(b[1]?+b[1]+c:c))}))},function(m,n){_.tests.parse={fileName:function(){$assert(Parse.fileName("\u0431\u043b\u0430\u0431\u043b\u0430"),
"\u0431\u043b\u0430\u0431\u043b\u0430");$assert(Parse.fileName("\u0431\u043b\u0430\u0431\u043b\u0430.jpg"),"\u0431\u043b\u0430\u0431\u043b\u0430");$assert(Parse.fileName("c:\\\u0431\u043b\u0430\u0431\u043b\u0430/path/path2/\u0431\u043b\u0430\u0431\u043b\u0430.jpg"),"\u0431\u043b\u0430\u0431\u043b\u0430")}};Parse={keyCodeAsString:function(a){return String.fromCharCode(96<=a&&105>=a?a-48:a)},fileName:function(a){return _.first(_.last(a.split(/\\|\//)).split("."))}}},function(m,n){Sort={Ascending:1,
Descending:-1,strings:function(a,b){a=$.trim(a).toLowerCase();b=$.trim(b).toLowerCase();return 0==a.length&&0<b.length?1:0<a.length&&0==b.length?-1:a==b?0:a<b?-1:1},numbers:function(a,b){return isNaN(a)&&isNaN(b)?0:isNaN(a)?-1:isNaN(b)?1:a<b?-1:a>b?1:0},generic:function(a,b){return a||b?a?b?a<b?-1:a>b?1:0:1:-1:0},inverse:function(a){return function(b,c){return-a(b,c)}},field:function(a,b,c){return function(d,e){return b(d[a],e[a])*c}}}},function(m,n){_.tests.concurrency={scope:function(a){var b=[],
c=[],d=$scope(function(a,d,k){c.push(d);_.delay(function(){a(function(){b.push(d);k&&k()})},10)});d(42,function(){$assert(11,c.length,b.length);$assert(c,b.reversed);a()});_.times(10,function(){d(_.random(1E3))})},interlocked:function(){var a=!1,b=_.interlocked(function(b,d){$assert(!a);a=!0;return __.delay(_.random(2)).then(function(){a=!1})});return __.scatter(_.times(15,String.randomHex),b,{maxConcurrency:10})}};Lock=$prototype({acquire:function(a){this.wait(this.$(function(){this.waitQueue||(this.waitQueue=
[]);a()}))},acquired:function(){return void 0!==this.waitQueue},wait:function(a){this.acquired()?this.waitQueue.push(a):a()},release:function(){if(this.waitQueue.length){var a=_.first(this.waitQueue);this.waitQueue=_.rest(this.waitQueue);a()}else delete this.waitQueue}});_.interlocked=function(a){var b=new Lock;a=$untag(a);return _.extendWith({lock:b,wait:b.$(b.wait)},function(){var c=this,d=arguments;return new Promise(function(e){b.acquire(function(){__.then(a.apply(c,d),function(a){b.release();
e(a)})})})})};_.defineKeyword("scope",function(a){var b=void 0;return _.argumentPrependingWrapper(Tags.unwrap(a),function(a){var d={when:void 0};(b=b||[]).push(d);a(function(a){if(d.when)throw Error("$scope: release called twice");for(d.when=a;b&&b.last&&b.last.when;)a=b.last.when,(b=_.initial(b)).isEmpty&&(b=void 0),a()})})});$platform.NodeJS&&(m.exports=_)},function(m,n){_.tests.component={"constructor([cfg, ][then])":function(){$assertNotCalled(function(a){a=$component({});$assertMatches(new a({foo:42}),
{foo:42})})},init:function(){$assertEveryCalledOnce(function(a){$singleton(Component,{init:function(){a()}})})},"no constructor overriding":function(){$assertThrows(function(){$singleton(Component,{constructor:function(){}})})},"manual init()":function(){$assertNotCalled(function(a){var b=new ($component({init:function(){a()}}))({init:!1});$assert(typeof b.init,"function")})},"initialized (barrier)":function(){var a=new ($component({init:function(){}}))({init:!1});$assert(!a.initialized.already);
$assertEveryCalledOnce(function(b){a.initialized(function(){b()});a.init()})},"thiscall for methods":function(){$assertEveryCalledOnce(function(a,b){var c=null,c=new new $component({prototypeMethod:function(){$assert(this===c);a()}})({instanceMethod:function(){$assert(this===c);b()}});c.prototypeMethod.call(null);c.instanceMethod.call(null)})},"pluggable init with $traits":function(){var a,b,c,d;a=$trait({beforeInit:function(){a=!0;return Promise.resolve()},afterInit:function(){b=!0;return Promise.resolve()}});
b=$trait({beforeInit:function(){c=!0},afterInit:function(){d=!0}});c=$component({$traits:[b,a]});return(new c).initialized.promise.then(function(){$assert(a,b,c,d,!0)})},"$defaults basic":function(){var a=$component({$defaults:{foo:42}});$assert($untag(a.$definition.$defaults),{foo:42});$assert(a.$defaults,{foo:42});a=$component({$traits:[$trait({$defaults:{foo:11}})],$defaults:{}});$assert($untag(a.$definition.$defaults),{foo:11});$assert(a.$defaults,{foo:11})},$defaults:function(){var a=$trait({$defaults:{pff:"pff",
inner:{fromTrait:1}}}),b=$component({$defaults:{foo:12,qux:"override me",inner:{fromBase:1}}}),a=$extends(b,{$traits:[a],$defaults:{bar:34,qux:"overriden",inner:{fromDerived:1}}});$assert((new a).inner!==(new a).inner);$assertMatches(new a({pff:"overriden from cfg"}),{pff:"overriden from cfg",foo:12,bar:34,qux:"overriden",inner:{fromTrait:1,fromBase:1,fromDerived:1}})},"$defaults cloning semantics":function(){var a=new Set([1,2,3]),b=new ($component({$defaults:{foo:a,bar:new Set}}));$assert(b.foo instanceof
Set,b.bar instanceof Set,!0);$assert(b.foo!==a)},$requires:function(){var a=$prototype(),b=$component({$requires:{foo:a,ffu:{a:"number",b:"string"},bar:"number",qux:["number"],baz:_.not(_.isEmpty)}}),c=$extends(b,{$requires:{more:"string"}});$assertFails(function(){new b({baz:{}})});$assertFails(function(){new c({more:"hey how about other requirements"})});new c({foo:new a,bar:42,qux:[1,2,3],more:"blah blah",ffu:{a:1,b:"2"},baz:"blahblah"})},$bindable:function(){$assertEveryCalledOnce(function(a,
b,c){var d=$singleton(Component,{method:$bindable(function(b){a();return 42})});d.method.onBefore(function(a){b();$assert(this===d);$assert(a,5)});d.method.onAfter(function(a,b){c();$assert(this===d);$assert(a,5);$assert(b,42)});$assert(d.method(5),42)})},$trigger:function(){$assertEveryCalled(function(a){var b=$singleton(Component,{mouseMoved:$trigger()});b.mouseMoved(function(b,d){$assert([b,d],[7,12]);a()});b.mouseMoved(7,12);b.mouseMoved(7,12)})},"init streams from config":function(){$assertEveryCalled(function(a,
b){new ($component({mouseMoved:$trigger(a),init:function(){this.mouseMoved()}}))({mouseMoved:b})})},$triggerOnce:function(){var a=$singleton(Component,{somthingHappened:$triggerOnce()});$assertEveryCalled(function(b,c){a.somthingHappened(function(a){$assert(a,"somthin");b()});a.somthingHappened(function(a){$assert(a,"somthin");c()});a.somthingHappened("somthin")})},$barrier:function(){$assertEveryCalled(function(a,b){var c=$singleton(Component,{hasMessage:$barrier()});c.hasMessage(function(b){$assert(b,
"mkay");a()});c.hasMessage("mkay");c.hasMessage(function(a){$assert(a,"mkay");b()})})},$observableProperty:function(){$assertEveryCalled(function(a,b,c,d,e){var f=new ($component({color:$observableProperty(),smell:$observableProperty(),shape:$observableProperty("round",function(a){$assert(a,"round");d()}),size:$observableProperty(function(a){$assert(a,42);e()}),init:function(){this.colorChange(function(b,c){c&&(a(),$assert([b,c],["green","blue"]))})}}))({color:"blue",size:42,colorChange:function(a,
c){c&&(b(),$assert([a,c],["green","blue"]))}});f.smellChange(function(a,b){c();$assert(f.smell,a,"bad");$assert(void 0,b)});f.color="green";f.smell="bad"})},"$observableProperty (Prototype)":function(){(new ($component({position:$observableProperty(Vec2.zero),init:function(){this.positionChange(function(a){$assertTypeMatches(a,Vec2);$assert(a.y,42)})}}))({position:{x:10,y:42}})).position={x:20,y:42}},"binding to streams with traits":function(){_.defineTagKeyword("dummy");$assertEveryCalled(function(a,
b){var c=void 0,d=$trait({somethingHappened:$trigger()}),e=$trait({somethingHappened:$dummy(function(b){$assert(this,c);$assert(b,42);a()})}),c=new ($component({$traits:[d,e],somethingHappened:function(a){$assert(this,c);$assert(a,42);b()}}));c.somethingHappened(42)})},"binding to bindables with traits":function(){$assertCallOrder(function(a,b,c,d){var e=void 0,f=$trait({doSomething:$bindable(function(a){$assert(this,e);c()})}),k=$trait({beforeDoSomething:function(b){$assert(this,e);$assert(b,42);
a()},interceptDoSomething:function(a,c){b();$assert(this,e);return c(a)}}),e=new ($component({$traits:[f,k],afterDoSomething:function(a){$assert(this,e);$assert(a,42);d()}}));e.doSomething(42)})},"binding to observable properties with traits":function(){$assertEveryCalled(function(a,b){var c=void 0,c=$trait({someValue:$observableProperty(42)}),d=$trait({someValue:function(b){a()}}),c=new ($component({$traits:[c,d],someValue:function(a){b()}}));$assert(_.isFunction(c.someValueChange));c.someValue=
33})},"hierarchy management":function(){$assertEveryCalled(function(a){var b=$extends(Component,{init:function(){a()},destroy:function(){a()}}),c=(new b).attach((new b).attach(new b)),d=(new b).attachTo(c).attachTo(c);$assert(d.attachedTo===c);$assert(void 0===d.detach().attachedTo);b=new b;c.attach(b);c.attach(b);c.destroy()})},"thiscall for streams":function(){var a=$singleton(Component,{trig:$trigger()});a.trig(function(){$assert(this===a)});a.trig.call({})},"$defaults can set $observableProperty":function(){var a=
$singleton(Component,{twentyFour:$observableProperty(42),$defaults:{twentyFour:24}});$assertEveryCalledOnce(function(b){a.twentyFourChange(function(a){$assert(a,24);b()})})},"defer init with $defaults":function(){$singleton(Component,{$defaults:{init:!1},init:function(){}}).init()},"stream members should be available at property setters when inited from config":function(){new ($component({ready:$barrier(),value:$property({set:function(a){$assertTypeMatches(this.ready,"function")}})}))({value:42})},
"observableProperty.force (regression)":function(){$assertEveryCalled(function(a){var b=$singleton(Component,{prop:$observableProperty()});b.prop=42;b.propChange(function(c){$assert(c,42);$assert(this===b);a()});b.propChange.force()})},"two-argument $observableProperty syntax":function(){$assertEveryCalled(function(a){var b=$singleton(Component,{prop:$observableProperty(42,function(c){a();b&&($assert(this===b),$assert(c===b.prop))})});b.prop=43})},"two-argument $observable":function(){$assertEveryCalled(function(a){$assert("foo",
$singleton(Component,{foo:$observable("foo",function(b){$assert(b,"foo");a()})}).foo.value)})},"destroyAll()":function(){$assertEveryCalled(function(a){var b=$extends(Component,{destroy:function(){a()}}),b=(new b).attach(new b).attach(new b);$assert(2===b.attached.length);b.destroyAll();b.destroyAll();$assert(0===b.attached.length)})},"random $nonce generation":function(){var a=$prototype();$assert(_.isString(a.$nonce))},"$macroTags for component-specific macros":function(){var a=$trait({$macroTags:{add_2:function(a,
b,e){return Tags.modify(b,function(a){return a.then(_.sum.$(2))})}}}),b=$component({$macroTags:{add_20:function(a,b,e){return Tags.modify(b,function(a){return a.then(_.sum.$(20))})}}}),a=$extends(b,{$traits:[a],$macroTags:{dummy:function(){}},testValue:$static($add_2($add_20(_.constant(20))))});$assert(42,a.testValue());$assertMatches(_.keys(a.$macroTags),["dummy","add_2","add_20"]);_.each(_.keys(a.$macroTags),_.deleteKeyword)},"$raw for performance-critical methods (disables thiscall proxy)":function(){var a=
new ($component({method:function(a){$assert(a===this)},rawMethod:$raw(function(a){$assert(a!==this)})})),b=a.method;b(a);b=a.rawMethod;b(a)},"two-way $observable binding":function(){var a=$component({x:$observable("foo")}),b=_.observable("bar"),a=new a({x:b});$assert(a.x!==b);$assert(a.x.value,b.value,"bar");a.x(42);$assert(b.value,42);b("lol");$assert(a.x.value,"lol");a.destroy();$assert(a.x.queue,[]);a.x("yo");$assert(b.value,"lol");b("oy");$assert(a.x.value,"yo")},"unbinding (simple)":function(){var a=
_.trigger(),b=$singleton(Component,{fail:function(){$fail}});a(b.fail);b.destroy();a()},"(regression) undefined was allowed as trait":function(){$assertThrows(function(){$component({$traits:[void 0]})},{message:"invalid $traits value"})},"(regression) undefined members fail":function(){var a=$component({yoba:void 0});$assert("yoba"in a.prototype)},"(regression) $defaults with $traits fail":function(){var a=$component({$traits:[$trait({$defaults:{x:1}})],$defaults:{a:{},b:[],c:0}});$assert(a.$defaults,
{x:1,a:{},b:[],c:0})},"(regression) $defaults with $traits fail #2":function(){var a=$component({$traits:[$trait({$defaults:{x:1}})]});$assert(a.$defaults,{x:1})},"(regression) method overriding broken":function(){var a=new ($component({method:function(){$fail}}))({value:42,method:function(){return this.value}});$assert(a.method(),42)},"(regression) $observableProperty (false)":function(){$assertEveryCalledOnce(function(a){$singleton(Component,{foo:$observableProperty(!1),init:function(){this.fooChange(a)}})})},
"(regression) was not able to define inner compos at singleton compos":function(){var a=$singleton(Component,{InnerCompo:$component({foo:$observableProperty()})}),a=new ($extends(a.InnerCompo,{bar:$observableProperty()}));$assertTypeMatches(a,{fooChange:"function",barChange:"function"})},"(regression) undefined at definition":function(){$singleton(Component,{fail:void 0})},"(regression) properties were evaluated before init":function(){$singleton(Component,{fail:$property(function(){$fail})})},"(regression) misinterpretation of definition":function(){$singleton(Component,
{get:function(){$fail}})},"(regression) alias incorrectly worked with destroy":function(){var a=$singleton(Component,{destroy:function(){mkay()},close:$alias("destroy")});$assert(a.close,a.destroy)}};_.defineKeyword("component",function(a){return $extends(Component,a)});_("extendable trigger triggerOnce barrier bindable memoize interlocked memoizeCPS debounce throttle overrideThis listener postpones reference raw binds observes".split(" ")).each(_.defineTagKeyword);(function(){var a=function(a){return function(c,
d){return _.isFunction(c)&&1===arguments.length?a(c,d):a(d,c)}};_.defineTagKeyword("observableProperty",a);_.defineTagKeyword("observable",a)})();_.defineKeyword("observableRef",function(a){return $observableProperty($reference(a))});$prototype.macro("$depends",function(a,b,c){a.$depends=$builtin($const(_.coerceToArray(b)));return a});$prototype.macroTag("extendable",function(a,b,c){a[c]=$builtin($const(b));return a});$prototype.macro(function(a){a.$nonce=$static($builtin($property(String.randomHex(32))));
return a});Component=$prototype({$defaults:$extendable({}),$requires:$extendable({}),$macroTags:$extendable({}),$impl:{sequence:function(a,b){return _.sequence(this.extendWithTags,this.flatten,this.generateCustomCompilerImpl(b),this.generateArgumentContractsIfNeeded,this.ensureFinalContracts(b),this.generateConstructor(b),this.evalAlwaysTriggeredMacros(b),this.evalMemberTriggeredMacros(b),this.expandTraitsDependencies,this.mergeExtendables(b),this.contributeTraits(b),this.mergeStreams,this.mergeBindables,
this.generateBuiltInMembers(b),this.callStaticConstructor,this.expandAliases,this.groupMembersByTagForFastEnumeration,this.defineStaticMembers,this.defineInstanceMembers)},expandTraitsDependencies:function(a){_.isNonempty($untag(a.$depends))&&_.isEmpty($untag(a.$traits))&&(a.$traits=DAG.squash(a,{nodes:function(a){return $untag(a.$depends)},key:function(a){return $untag(a.$nonce)}}));return a},mergeExtendables:function(a){return function(b){_.each(a.$definition,function(a,d){a&&a.$extendable&&(b[d]=
Tags.modify(a,function(a){a=_.extendedDeep(a,$untag(b[d]||{}));_.each($untag(b.$traits),function(c){if(!c)throw log.e(b.$traits),Error("invalid $traits value");(c=c.$definition[d])&&(a=_.extendedDeep($untag(c),a))});return a}))});return b}},mergeTraitsMembers:function(a,b){var c={},d={},e={},f=$untag(a.$macroTags),k=_.pluck(b,"$definition").concat(_.clone(a));_.each(k,function(b){_.each(f&&this.applyMacroTags(f,_.extend(_.clone(b),{constructor:a.constructor}))||b,function(b,f){$builtin.isNot(b)&&
$builtin.isNot(a[f])&&"constructor"!==f&&($bindable.is(b)&&(d[f]=b),Component.isStreamDefinition(b)&&(e[f]=b),(c[f]||(c[f]=[])).push(b),a[f]=b)})},this);a.__bindables=d;a.__streams=e;a.__membersByName=c},mergeStreams:function(a){var b=a.__membersByName;_.each(a.__streams,function(c,d){var e=a[d]=Tags.clone(c);e.listeners=[];_.each(b[d],function(a){a!==c&&e.listeners.push($untag(a))})});return a},mergeBindables:function(a){var b=a.__membersByName;_.each(a.__bindables,function(c,d){var e=_.filter2(_.bindable.hooks,
function(a,c){var e=b[_.bindable.hooksShort[c]+d.capitalized];return e?[a,e]:!1});if(e.length){var f={};_.each(e,function(a){_.each(a[1],function(b){b=$untag(b);if(_.isFunction(b)){var c="_"+a[0];(f[c]||(f[c]=[])).push(b)}})});a[d]=$bindable({hooks:f},Tags.clone(c))}},this);return a}},isStreamDefinition:$static(function(a){return _.isObject(a)&&(a.$trigger||a.$triggerOnce||a.$barrier||a.$observable||a.$observableProperty)}),mapMethods:function(){var a=_.last(arguments),b=1===arguments.length?_.constant(!0):
arguments[0],c;for(c in this){var d=this.constructor.$definition[c];if(!d||!d.$property){var e=this[c];_.isFunction(e)&&!_.isPrototypeConstructor(e)&&b(d)&&(this[c]=a.call(this,e,c,d)||e)}}},enumMethods:function(a,b){2===arguments.length?this.mapMethods(a,b.returns(void 0)):this.mapMethods(a.returns(void 0))},constructor:$final(function(a,b){this.parent_=void 0;this.children_=[];var c=this.cfg="object"===typeof a?a:{},d=this.constructor.$definition;this.constructor.$defaults&&(c=this.cfg=_.extend(_.cloneDeep(this.constructor.$defaults),
c));this.mapMethods(function(a,b,c){if(!("$"===b||"init"===b||c&&c.$raw))return this.$(a)});_.onBefore(this,"destroy",this._beforeDestroy);_.onAfter(this,"destroy",this._afterDestroy);var e=[],f={init:!0};_.each(d,function(a,b){if(void 0!==a){if(a.$observableProperty){var d=a.subject,m=b in c?c[b]:d,n=b+"Change",B=f[n]=this[n]=_.observable();B.context=this;B.postpones=a.$postpones;if(_.isPrototypeInstance(d)){var E=d.constructor;B.beforeWrite=function(a){return E.isTypeOf(a)?a:new E(a)}}a.$reference&&
(B.trackReference=!0);_.defineProperty(this,b,{get:function(){return B.value},set:function(a){B.write.call(this,a)}});a.listeners&&_.each(a.listeners,function(a){e.push([B,a])});_.isFunction(a.$observableProperty)&&e.push([B,a.$observableProperty]);void 0!==m&&B(m)}else if(Component.isStreamDefinition(a)){var F=f[b]=this[b]=_.extend((a.$trigger?_.trigger:a.$triggerOnce?_.triggerOnce:a.$observable?_.observable:a.$barrier?_.barrier:void 0)(a.subject),{context:this,postpones:a.$postpones});a.$reference&&
(B.trackReference=!0);a.listeners&&_.each(a.listeners,function(a){e.push([F,a])});_.isFunction(a.$observable)&&e.push([F,a.$observable]);(d=c[b])&&(a.$observable&&d.isObservable?d.tie(F):e.push([F,d]))}a.$listener&&(this[b].queuedBy=[]);a.$interlocked&&(this[b]=_.interlocked(this[b]));a.$bindable&&(this[b]=_.extend(_.bindable(this[b],this),_.map2(a.$bindable.hooks||{},_.mapsWith(this.$.bind(this).arity1))));a.$debounce&&(d=this[b],m=_.coerceToObject(a.$debounce),this[b]=d.debounced(m.wait||500,m.immediate));
a.$throttle&&(d=this[b],m=_.coerceToObject(a.$throttle),this[b]=_.throttle(d,m.wait||500,m));a.$memoize?this[b]=_.memoize(this[b]):a.$memoizeCPS&&(this[b]=_.cps.memoize(this[b]))}},this);this.init=this._beforeInit.then(this.init.then(this._afterInit)).bind(this);_.each(c,function(a,b){b in f||(this[b]=_.isFunction(a)?this.$(a):a)},this);_.each(d,function(a,b){a&&a.$alias&&!a.$raw&&(this[b]=this[$untag(a)])},this);_.hasAsserts&&_.each(this.constructor.$requires,function(a,b){$assertTypeMatches(_.object([[b,
this[b]]]),_.object([[b,a]]))},this);_.each(e,function(a){a[0].call(this,a[1])},this);!1===c.init||this.constructor.$defaults&&!1===this.constructor.$defaults.init||(d=this.init(),d instanceof Promise&&d.panic)}),callChainMethod:function(a){var b=this;return __.seq(_.filter2(this.constructor.$traits||[],function(c){return(c=c.prototype[a])&&c.bind(b)||!1}))},_beforeInit:function(){if(this.initialized.already)throw Error("Component: I am already initialized. Probably you're doing it wrong.");return this.callChainMethod("beforeInit")},
init:function(){},_afterInit:function(){var a=this.cfg,b=this;return __.then(this.callChainMethod.$("afterInit"),function(){b.initialized(!0);b.alive(!0);_.each(b.constructor.$definition,function(c,d){if(c&&c.$observableProperty){d+="Change";var e=a[d];if(e)b[d](e)}});return!0})},initialized:$barrier(),alive:$observable(!1),_beforeDestroy:function(){if(this.destroyed_)throw Error("Component: I am already destroyed. Probably you're doing it wrong.");if(this.destroying_)throw Error("Component: Recursive destroy() call detected. Probably you're doing it wrong.");
this.destroying_=!0;_.each(this.constructor.$traits,function(a){a.prototype.beforeDestroy&&a.prototype.beforeDestroy.call(this)},this);this.alive(!1);this.enumMethods(_.off.arity1);_.each(this.children_,_.method("destroy"));this.children_=[]},destroy:function(){},_afterDestroy:function(){_.each(this.constructor.$traits,function(a){a.prototype.destroy&&a.prototype.destroy.call(this);a.prototype.afterDestroy&&a.prototype.afterDestroy.call(this)},this);delete this.destroying_;this.parent_=void 0;this.destroyed_=
!0},attachedTo:$property(function(){return this.parent_}),attachTo:function(a){if(a===this)throw Error("smells like time-travel paradox.. how else can I be parent of myself?");this.parent_!==a&&(void 0!==this.parent_&&this.parent_.children_.remove(this),void 0!==(this.parent_=a)&&this.parent_.children_.push(this));return this},detach:function(){return this.attachTo(void 0)},attached:$property(function(){return this.children_}),attach:function(a){_.invoke(_.coerceToArray(a),"attachTo",this);return this},
detachAll:function(){_.each(this.children_,function(a){a.parent_=void 0});this.children_=[];return this},destroyAll:function(){_.each(this.children_,function(a){a.parent_=void 0;a.destroy()});this.children_=[];return this}})},function(m,n){R=$singleton({$test:function(){var a=function(a,b){$assert(a,_.quote(b.str,"//"))};a("/[^\\s]*/",$r.anyOf.except.space.$);a("/\\[.*\\]|[\\s]/",$r.anything.inBrackets.or.oneOf.space.$);var b=$r.expr("before",$r.anything.text("$print").something).then($r.expr("argument",
$r.someOf.except.text(",)")).inParentheses.then($r.expr("tail",$r.anything))).$;a("/(.*\\$print.+)\\(([^,\\)]+)\\)(.*)/",b);$assert(b.parse(" var x = $print (blabla) // lalala "),{before:" var x = $print ",argument:"blabla",tail:" // lalala "});$assert([["[^","\\s","]"],"*"],R.anyOf(R.except(R.space)))},constructor:function(){this.reduce=_.hyperOperator(_.binary,_.reduce2,_.goDeeperAlwaysIfPossible,_.isNonTrivial.and(_.not(this.isSubexpr)));this.initDSL()},expr:function(a,b){b=b||[];return new R.Expr(R.reduce("",
a,function(a,d){return R.isSubexpr(d)?(b.push(d),a+R.expr(R.root(d.value),b).str):a+d}),b)},Expr:$prototype({constructor:function(a,b){this.rx=RegExp();this.rx.compile(a);this.str=a;this.subexprs=b},parse:function(a){return(a=a.match(this.rx))&&_.extend.apply(null,_.zipWith([_.rest(a),this.subexprs],function(a,c){return _.object([[c.name,a]])}))||{}}}),metacharacters:$property(_.index("\\^$.|?*+()[{")),escape:function(a){return _.map(a,function(a){return R.metacharacters[a]?"\\"+a:a}).join("")},text:$alias("escape"),
subexpr:function(a,b){return{name:a,value:["(",b,")"]}},maybe:function(a){return[a,"?"]},anyOf:function(a){return[a,"*"]},someOf:function(a){return[a,"+"]},oneOf:function(a){return["[",a,"]"]},except:function(a){return["[^",a,"]"]},or:function(a,b){return[a,"|",b]},begin:$property("^"),end:$property("$"),space:$property("\\s"),maybeSpaces:$property("\\s*"),spaces:$property("\\s+"),anything:$property(".*"),something:$property(".+"),comma:$property(","),parentheses:function(a){return["\\(",a,"\\)"]},
brackets:function(a){return["\\[",a,"\\]"]},isSubexpr:function(a){return _.isStrictlyObject(a)&&!_.isArray(a)?!0:!1},root:function(a){return a&&a.$$?a.$$:a},initDSL:function(){_.defineKeyword("r",function(){return $$r([])});_.defineKeyword("$r",function(a){var b=function(b){a.push(b);return a.forward};_.defineHiddenProperty(a,"then",function(b){a.push(R.root(b));return a});_.defineHiddenProperty(a,"text",function(b){a.push(R.text(b));return a});_.defineHiddenProperty(a,"expr",function(b,d){a.push(R.subexpr(b,
R.root(d)));return a});_.defineHiddenProperty(a,"forward",function(){return a.next||((a.next=$r).prev=a).next});_.each(["maybe","anyOf","someOf","oneOf","except"],function(c){_.defineHiddenProperty(a,c,function(){return b(R[c](a.forward))})});_.each(["parentheses","brackets"],function(b){_.defineHiddenProperty(a,"in"+b.capitalized,function(){return a.$$.prev=$$r(R[b](a.$$))})});_.each(["or"],function(b){_.defineHiddenProperty(a,b,function(){var d=$r;return(d.prev=a.$$.prev=$$r(R[b](a.$$,d))).next=
d})});_.each(["begin","end","space","anything","something"],function(c){_.defineHiddenProperty(a,c,function(){return b([R[c],a.forward])})});_.defineHiddenProperty(a,"$$",function(){for(var b=a;b.prev;)b=b.prev;return b});_.defineHiddenProperty(a,"$",function(){return R.expr(a.$$)});return a})}})},function(m,n){_.tests.AOP={basics:function(){var a=[],b=$prototype($testArguments({create:function(b){a.push([this,"Thing.create"])},display:function(b,d){a.push([this,"Thing.display"])},destroy:function(){a.push([this,
"Thing.destroy"]);return 456}}));$aspect(b,$testArguments({beforeCreate:function(b){a.push([this,"NewFlavorOfThing.beforeCreate"])},display:function(b,d,e){a.push([this,"NewFlavorOfThing.display"]);return e.call(this,b+"bar",778)},afterDestroy:function(b){a.push([this,"NewFlavorOfThing.afterDestroy"])}}));b=new b;b.create(777);b.display("foo",123);b.destroy();$assert(a,[[b,"NewFlavorOfThing.beforeCreate"],[b,"Thing.create"],[b,"NewFlavorOfThing.display"],[b,"Thing.display"],[b,"Thing.destroy"],[b,
"NewFlavorOfThing.afterDestroy"]])}};(function(){var a=$r.expr("how",$r.text("before").or.text("after")).expr("name",$r.anything).$;_.defineKeyword("aspect",function(b,c){var d=Tags.unwrap(_.sequence($prototype.impl.extendWithTags,$prototype.impl.flatten,$prototype.impl.generateArgumentContractsIfNeeded,$prototype.impl.contributeTraits({}),$prototype.impl.expandAliases).call($prototype.impl,c)),e=b.constructor&&b.constructor.$definition;e&&(e.$aspects=e.$aspects||[]).push(d);_.each(d,function(c,e){if(d.hasOwnProperty(e)&&
_.isFunction(c)){var l=a.parse(e),m=l.name&&l.name.decapitalized||e;if(l=l.how&&_["on"+l.how.capitalized]||_.intercept){var n=b[m];n&&_.isFunction(n)&&l(b,m,c);var n=b.prototype,D=n[m];D&&_.isFunction(D)&&l(n,m,c)}}});b.aspectAdded&&b.aspectAdded(d);return d})})()},function(m,n){_.tests["Promise+"]={promisify:function(){var a={42:42,dontTouchMe:function(){$assert(0===arguments.length);return 42},dontTouchMe2:function(){$assert(0===arguments.length);return 42},readFileSync:function(){$assert(0===arguments.length);
return 42},readFile:function(b,c){$assert(this===a);b?c(null,"contents of "+b):c("path empty")}};fsAsync=Function.promisifyAll(a,{except:_.endsWith.$$("Sync").or(["dontTouchMe","dontTouchMe2"].asSet.matches)});$assert(fsAsync.dontTouchMe(),fsAsync.dontTouchMe2(),fsAsync.readFileSync(),fsAsync["42"],42);return __.all([fsAsync.readFile(null).assertRejected("path empty"),fsAsync.readFile("foo").assert("contents of foo")])},__:function(){return[__(123).assert(123),__(Promise.resolve(123)).assert(123),
__(function(){return 123}).assert(123),__(function(){throw 123;}).assertRejected(123),__(function(a,b){return function(c,d){return[c+a,d+b]}}("foo","bar"),123,456).assert(["123foo","456bar"])]},first:function(){return[Promise.firstResolved([Promise.reject(123),Promise.resolve(456)]).assert(456),Promise.firstResolved([Promise.reject(123),Promise.reject(456)]).assertRejected(null),Promise.firstResolved([]).assertRejected(null)]},all:function(){return[__.all([123,456]).assert([123,456]),__.all([_.constant(123),
_.constant(456)]).assert([123,456]),__.all([Promise.resolve(123),Promise.resolve(456)]).assert([123,456])]},seq:function(){$assert(__.seq(123),123);$assert(__.seq([123,333]),333);$assert(__.seq([123,_.constant(333)]),333);return[__.seq([Promise.resolve(123),Promise.resolve(333)]).assert(333),__.seq([123,__.constant(333)]).assert(333),__.seq([123,__.rejects("foo")]).assertRejected("foo"),__.seq([123,__.delays(0),_.appends("bar")]).assert("123bar")]},map:function(){return[__.map(111,_.appends("bar")).assert("111bar"),
__.map([222],_.appends("bar")).assert(["222bar"]),__.map(__(333),_.appends("bar")).assert("333bar"),__.map({foo:444},_.appends("bar")).assert({foo:"444bar"}),__.map({foo:555},__.constant("bar")).assert({foo:"bar"}),__.map(["a","b","c","d","e"],function(a,b){return Promise.resolve([b,a]).delay(10-b)}).assert([[0,"a"],[1,"b"],[2,"c"],[3,"d"],[4,"e"]])]},filter:function(){return[__.filter(123,_.constant(456)).assert(456),__.filter(["foo",456],_.isString).assert(["foo"]),__.filter(["foo",456],__.constant("baz")).assert(["baz",
"baz"]),__.filter({foo:123,bar:"456"},_.isNumber).assert({foo:123})]},each:function(){var a=function(a){var c=[];return __.each(a,function(a,b){c.push([a,b])}).then(_.constant(c))};return[a().assert([]),a(void 0).assert([]),a(42).assert([[42,void 0]]),a([42,48]).assert([[42,0],[48,1]]),a({0:42,1:48}).assert([[42,"0"],[48,"1"]]),__.each([1,2],function(a,c){0<c&&$fail;return Promise.reject("foo")}).assertRejected("foo")]}};TimeoutError=$extends(Error,{message:"timeout expired"});__=Promise.eval=function(a){var b=
this,c=_.rest(arguments);return a instanceof Promise?a:a instanceof Function?new Promise(function(d){d(a.apply(b,c))}):Promise.resolve(a)};Promise.coerce=function(a){return a instanceof Promise?a:Promise.resolve(a)};__.noop=function(){return Promise.resolve()};__.eternity=new Promise(function(){});__.identity=function(a){return Promise.resolve(a)};__.constant=function(a){return function(){return Promise.resolve(a)}};__.reject=function(a){return Promise.reject(a)};__.rejects=function(a){return function(){return Promise.reject(a)}};
__.then=function(a,b){b=_.coerceToFunction(b);try{var c=a instanceof Function?a():a;return c instanceof Promise?c.then(b):b(c)}catch(d){return Promise.reject(d)}};__.delay=function(a){return __.delays(a)()};__.delays=function(a){return function(b){return new Promise(function(c){setTimeout(function(){c(b)},a||0)})}};$mixin(Promise,{delay:function(a){return this.then(__.delays(a))},timeout:function(a){return this.race(__.delay(a).reject(new TimeoutError))},now:$property(function(){return this.timeout(0)})});
$mixin(Array,{race:$property(function(){return Promise.race(this)})});$mixin(Promise,{race:function(a){return[this,a].race},firstResolved:$static(function(a){return new Promise(function(b,c){var d=a&&a.length;d?_.each(a,function(a){Promise.coerce(a).then(function(a){d--;b&&(b(a),b=void 0)})["catch"](function(){d--;d||c(null)})}):c(null)})}),reject:function(a){return this.then(_.throwsError(a))},chain:function(a){return this.then(function(b){a(b);return b})},done:function(a){return this.then(function(b){a(null,
b);return b},function(b){a(b,null);throw b;})},"finally":function(a){return this.then(function(b){return a(null,b)},function(b){return a(b,null)})},log:$property(function(){return this.then(log,log.then(_.throwsError))}),alert:$property(function(){return this.done(alert2,alert2.then(_.throwsError))}),panic:$property(function(){return this["catch"](function(a){_.globalUncaughtExceptionHandler&&_.globalUncaughtExceptionHandler(a);throw a;})}),assert:function(a){return this.then(function(b){$assert(b,
a);return b})},assertTypeMatches:function(a){return this.then(function(b){$assertTypeMatches(b,a);return b})},assertRejected:function(a){var b=0<arguments.length;return this["catch"](function(c){b&&$assert(c,a);return c})}});_.deferTest(["Promise+","_.scatter with pooling"],function(){var a=_.times(21,function(a){return"item_"+a}),b=0,c=[];return __.scatter(a,function(a,e){b++;$assert(!c.contains(a));return __.delay(_.random(2)).then(function(){c.push(a);return a})},{maxConcurrency:5}).then(function(){$assert(_.difference(a,
c).isEmpty)})},function(){var a=$prototype({constructor:function(a){this.maxTime=a&&a.maxTime;this.pending=[];if(this.maxConcurrency=a&&a.maxConcurrency)this.numActive=0,this.queue=[]},run:function(a){var c=this;if(this.numActive>=this.maxConcurrency)return new Promise(function(d){c.queue.push(function(){return c.run(a).then(d)})});var d=__(a);void 0!==this.maxTime&&(d=d.timeout(this.maxTime));void 0!==this.maxConcurrency&&(c.numActive++,d=d.then(function(a){c.numActive--;return c.queue.length&&c.numActive<
c.maxConcurrency?c.queue.shift()().then(_.constant(a)):a}));this.pending.push(d);return d},all:$property(function(){return Promise.all(this.pending)})});__.scatter=function(b,c,d){return __.then(b,function(b){if(_.isStrictlyObject(b)){var f=_.coerceToEmpty(b),k=new a(d);_.each2(b,function(a,d){k.run(c.$(a,d,b)).then(function(a){a&&(f[a[1]]=a[0])})});return k.all.then(_.constant(f))}return __(c,b,void 0,b).then(function(a){return a[0]})})}});__.map=function(a,b,c){return __.scatter(a,function(a,c,
f){return __.then(b.$(a,c,f),function(a){return[a,c]})},c)};__.filter=function(a,b,c){return __.scatter(a,function(a,c,f){return __.then(b.$(a,c,f),function(b){return!1===b?void 0:!0===b?[a,c]:[b,c]})},c)};__.each=function(a,b){return __.then(a,function(a){return new Promise(function(d,e){_.cps.each(a,function(a,c,d){Promise.coerce(b(a,c)).then(d)["catch"](e)},d)})})};__.seq=function(a){return _.reduce2(a,__.then)};__.all=function(a){return Promise.all(_.map(a,__))};__.race=function(a){return Promise.race(_.map(a,
__))};$mixin(Function,{promisifyAll:$static(function(a,b){b=b||{};var c=b.except||_.noop;c instanceof Array&&(c=c.asSet.matches);var d={},e;for(e in a){var f=a[e];f instanceof Function?(f=f.bind(a),d[e]=c(e)?f:f.promisify):d[e]=f}return d}),promisify:$hidden($property(function(){var a=this;return function(){var b=this,c=arguments;return new Promise(function(d,e){a.apply(b,_.asArray(c).concat(function(a,b){a&&e(a);d(b)}))})}}))})},function(m,n){_.tests.Channel={"is promise":function(){$assert(new Channel instanceof
Promise)},"resolve from constructor + then + chanining":function(a){(new Channel(function(a){a(123)})).then(function(a){$assert(a,123);return 456},function(){$fail}).then(function(b){$assert(b,456);a()})},"reject from constructor":function(a){(new Channel(function(a,c){c(123)})).then(function(){$fail},function(b){$assert(b,123);a()})},"throw from constructor + .catch + chanining":function(a){(new Channel(function(a,c){throw"foo";})).then(function(){$fail})["catch"](function(a){$assert(a,"foo");return"bar"}).then(function(b){$assert(b,
"bar");a()},function(){$fail})},"throw from .then":function(a){(new Channel(123)).then(function(a){throw a+1;})["catch"](function(b){$assert(b,124);a()})},"pending state":function(){$assert("pending",(new Channel).then(function(){return $fail}).state)},"new Channel (const)":function(){return(new Channel(123)).assert(123)},"recognized by tests as Promise":function(){return Channel.resolve(123).assert(123)},"accepted by Promise.all":function(){return Promise.all([Channel.resolve(123).assert(123),Channel.reject(456).assertRejected(456)]).assert([123,
456])},"returning channel from then + .resolve":function(){var a=void 0,b=[];Channel.resolve(123).then(function(){return a=new Channel(456)}).then(function(a){return b.push(a)});a.resolve(789);$assert(b,[456,789])},"$channel for $prototype":function(){var a=$prototype({numPersons:$channel()}),b=$prototype({label:$channel()});$assert($channel.is(a.$definition.numPersons));a=new a({numPersons:10});b=new b;$assert(a.numPersons.value,10);$assert(b.label.state,"pending");b.label=a.numPersons.then(function(a){return a+
" persons"});$assert(b.label!==a.numPersons);$assert(b.label.value,"10 persons");a.numPersons=11;$assert(b.label.value,"11 persons")},"$channel(const)":function(){$assert($singleton({count:$channel(7)}).count.value,7)}};$global.Channel=$extends(Promise,{constructor:function(a,b,c){this.after=[];this.state="pending";this.value=void 0;this.transducers={resolve:b&&b.resolve||function(a){return a},reject:b&&b.reject||function(a){throw a;}};if(a instanceof Function)try{a.call(this,this.$(this.resolve),
this.$(this.reject))}catch(d){this.reject(d)}else void 0!==a&&this.resolve(a)},$private:{_resolve:function(a){this.state="resolved";this.value=a;this.after.forEach(function(b){return b.resolve(a)})},_reject:function(a){this.state="rejected";this.value=a;this.after.forEach(function(b){return b.reject(a)})}},resolve:function(a,b){var c=this;try{a=(b||this.transducers.resolve)(a),a instanceof Promise?a.then(function(a){return c._resolve(a)},function(a){return c._reject(a)}):this._resolve(a)}catch(d){this._reject(d)}},
reject:function(a){return this.resolve(a,this.transducers.reject)},then:function(a,b){var c=new Channel(void 0,{resolve:a,reject:b},this);this.after.push(c);"resolved"===this.state?c.resolve(this.value):"rejected"===this.state&&c.reject(this.value);return c},"catch":function(a){return this.then(void 0,a)}});Channel.all=function(a){return new Channel(function(b){var c=new Set,d=Array(a.length);a.forEach(function(a,f){a.then(function(a){d[f]=a;c.length===d.length?b(d):c.add(f)})})})};Channel.resolve=
function(a){return new Channel(function(b){return b(a)})};Channel.reject=function(a){return new Channel(function(b,c){return c(a)})};$prototype.macroTag("channel",function(a,b,c){var d="_"+c,e=$untag(b);a[c]=Tags.modify(b,function(){return $property({get:function(){return this[d]||(this[d]=new Channel(e))},set:function(a){this[c].resolve(a)}})})})},function(m,n){Http=$singleton(Component,{$traits:[HttpMethods=$trait({get:function(a,b){return this.request("GET",a,b)},post:function(a,b){return this.request("POST",
a,b)},loadFile:function(a,b){return this.request("GET",a,{responseType:"arraybuffer"})},uploadFile:function(a,b,c){return this.post(a,_.extend2({data:b,headers:{"Content-Type":"binary/octet-stream","X-File-Name":Parse.fileName(b.name||"file").transliterate||"file","X-File-Size":b.size,"X-File-Type":b.type}},c))}})],request:function(a,b,c){var d=c||{},e=void 0;c=new Promise(function(c,k){if($platform.Browser){var l=new XMLHttpRequest;l.open(a,(d.protocol||d.hostname||d.port?(d.protocol||window.location.protocol)+
"//"+(d.hostname||window.location.hostname)+":"+(d.port||window.location.port):"")+b,!0);d.responseType&&(l.responseType=d.responseType);_.each(d.headers,function(a,b){l.setRequestHeader(b,a)});d.progress&&(l.onprogress=Http.progressCallbackWithSimulation(d.progress));l.onreadystatechange=function(){if(4===l.readyState){d.progress&&d.progress(1);var a="arraybuffer"===l.responseType?l.response:l.responseText;200===l.status?c(a):k(_.extend(Error(l.statusText),{httpResponse:a,httpStatus:l.status}))}};
e=function(){l.abort();k("aborted")};d.data?l.send(d.data):l.send()}else k("not implemented")});return _.extend(c,{abort:e})},progressCallbackWithSimulation:function(a){var b=0;a(0);return function(c){c.lengthComputable?a(c.loaded/c.total):a(b=1<(b+=.1)?0:b)}}});JSONAPI=$singleton(Component,{$traits:[HttpMethods],request:function(a,b,c){c=_.extend2({headers:{"Cache-Control":"no-cache","Content-Type":"application/json; charset=utf-8"}},c);c.what&&(c.data=JSON.stringify(c.what));var d=_.hasReflection&&
$callStack.offset((c.stackOffset||0)+1).asArray;return Http.request(a,"/api/"+b,c)["finally"](function(a,b){if(b)return JSON.parse(b);if(a){if(a.httpResponse)return JSON.parse(a.httpResponse);throw a;}throw Error("empty response");}).then(function(a){if(a.success)return a.value;if(a.parsedStack)throw _.extend(Error("SERVER: "+a.error),{remote:!0,parsedStack:a.parsedStack.concat(d||[])});throw Error(a.error);})}})},function(m,n){(function(){var a=function(a){return function(){return this.tagName===
a}};N=function(a,c){var d=document.createElement(a.uppercase);return c?d.append(c):d};N.text=function(a){return document.createTextNode(a)};_.each("br p div em a b i u s strong span sup sub button iframe pre img video source h1 h2 h3 h4 h5 textarea input style".split(" "),function(a){var c=a.uppercase;_.defineProperty(N,a,function(){return document.createElement(c)})});N.all=document.querySelectorAll.bind(document);N.one=document.querySelector.bind(document);$mixin(Node,{$:$prototype.impl.$,$callableAsFreeFunction:{$property:{isElement:function(){return this.nodeType===
Node.ELEMENT_NODE},isText:function(){return this.nodeType===Node.TEXT_NODE},isLinebreak:a("BR"),isDiv:a("DIV"),isParagraph:a("P"),isHyperlink:a("A"),isAttachedToDocument:function(){return this.matchUpwards(_.equals(document.body))?!0:!1},forbidsEditing:function(){return this.nodeType===Node.ELEMENT_NODE&&"false"===this.getAttribute("contenteditable")}}},grandParentNode:$property(function(){return this.parentNode&&this.parentNode.parentNode}),isFirstInParent:$property(function(){return this.parentNode&&
this.parentNode.firstChild===this}),isLastInParent:$property(function(){return this.parentNode&&this.parentNode.lastChild===this}),removeFromParent:$callableAsFreeFunction(function(){this.parentNode.removeChild(this);return this}),outerLeftBoundaryIn:function(a){for(var c=this;c.grandParentNode&&c.parentNode!==a&&c.isFirstInParent;)c=c.parentNode;return c},outerRightBoundaryIn:function(a){for(var c=this;c.grandParentNode&&c.parentNode!==a&&c.isLastInParent;)c=c.parentNode;return c},matchUpwards:function(a){for(var c=
this;c&&!a(c);)c=c.parentNode;return c},isLeftmostNodeIn:function(a){return a&&this.matchUpwards(function(c){return c===a||!c.isFirstInParent})===a},isRightmostNodeIn:function(a){return a&&this.matchUpwards(function(c){return c===a||!c.isLastInParent})===a},hasChildren:$property(function(){return this.hasChildNodes()}),noChildren:$property(function(){return!this.hasChildNodes()}),numChildren:$property(function(){return this.childNodes.length}),length:$property(function(){return this.childNodes?this.childNodes.length:
this.nodeValue?this.nodeValue.length:0}),safeEnumChildren:function(a,c){_.each(this.childNodesArray,a,c||this);return this},childNodesArray:$property(function(){return _.asArray(this.childNodes)}),add:$alias("appendChildren"),append:$alias("appendChildren"),appendChildren:function(a,c){for(var d=void 0===c?_.coerceToArray(a):arguments,e=0,f=d.length;e<f;e++){var k=d[e];this.appendChild(_.isString(k)?document.createTextNode(k):k)}return this},removeChildren:function(a){a=_.coerceToArray(a);for(var c=
0,d=a.length;c<d;c++)this.removeChild(a[c]);return this},removeAllChildren:function(){return this.removeChildren(this.childNodesArray)},walkTree:function(a,c){c=1===arguments.length?a:c;for(var d=document.createTreeWalker(this,a&&a.what||NodeFilter.SHOW_ALL,a&&a.filter||null,a&&a.entityReferenceExpansion||null);node=d.nextNode();)c(node)},firstInnermostChild:$callableAsMethod($property(function(a){for(;a&&a.firstChild;)a=a.firstChild;return a})),unwrapChildren:$callableAsFreeFunction(function(){this.insertAfterMe(this.childNodesArray);
var a=this.parentNode;a.removeChild(this);return a}),prevSiblings:$property(function(){for(var a=[],c=this.previousSibling;c;)a.push(c),c=c.previousSibling;return a.reversed}),nextNextSibling:$property(function(){return this.nextSibling&&this.nextSibling.nextSibling}),nextOutermostSibling:$callableAsMethod($property(function(a){for(;a&&!a.nextSibling;)a=a.parentNode;a&&(a=a.nextSibling);return a})),nextInnermostSibling:$callableAsMethod($property(function(a){return Node.firstInnermostChild(Node.nextOutermostSibling(this))})),
appendTo:function(a){a.appendChild(this);return this},prependTo:function(a){a.insertBefore(this,a.firstChild);return this},replaceWith:function(a){this.insertBeforeMe(a).removeFromParent()},insertMeBefore:function(a){a.parentNode.insertBefore(this,a);return this},insertMeAfter:function(a){a.parentNode.insertBefore(this,a.nextSibling);return this},insertBeforeMe:function(a){var c=this.parentNode,d=this;_.each(_.coerceToArray(a).reversed,function(a){c.insertBefore(a,d)});return this},insertAfterMe:function(a){var c=
this.parentNode,d=this.nextSibling;_.each(_.coerceToArray(a).reversed,function(a){c.insertBefore(a,d)});return this},on:function(a,c){this.addEventListener(a,c);return this},once:function(a){var c=this,d,e=!1,f=new Promise(function(f){c.addEventListener(a,d=function(a){e||(e=!0,c.removeEventListener(a,d),f(a))})});f.finalize=d;return f},touched:function(a){return this.on($platform.touch?"touchstart":"click",a)},extend:function(a){return _.extend(this,a)},cls:function(a){this.className=a;return this},
css:function(a){_.extend(this.style,a);return this},hasClass:function(a){return(this.className||"").split(" ").contains(a)},toggleAttribute:function(a,c){var d=2>arguments.length;d&&(c=!this.hasAttribute(a));c?this.setAttribute(a,c):this.removeAttribute(a);return d?c:this},toggleAttributes:function(a){_.map(a,_.flip2(this.toggleAttribute),this);return this},setAttributes:function(a){_.map(a,_.flip2(this.setAttribute),this);return this},intAttribute:function(a){return(this.getAttribute(a)||"").parsedInt},
attr:$alias("setAttributes"),removeAttr:function(a){this.removeAttribute(a);return this},splitSubtreeBefore:function(a){return a&&a.parentNode!==this?this.splitSubtreeBefore(a.previousSibling?document.createElement(a.parentNode.tagName).insertMeBefore(a.parentNode).appendChildren(a.prevSiblings).nextSibling:a.parentNode):a},splitSubtreeAt:function(a){var c=a.node,d=a.offset;return 0<d?a.node.isText?this.splitSubtreeBefore(N.text(c.nodeValue.substr(d)).insertMeAfter(_.extend(c,{nodeValue:c.nodeValue.substr(0,
d)}))):this.splitSubtreeBefore(c.childNodes[d]):this.splitSubtreeBefore(c)},html:function(a){this.innerHTML=a;return this},text:function(a){this.innerText=a;return this},attributeUntil:function(a,c){this.setAttribute(a,!0);return c.done(this.$(function(c,e){this.removeAttribute(a)}))},busyUntil:function(a){return this.attributeUntil("busy",a)},onceAnimationEnd:$property(function(){return this.once($platform.WebKit?"webkitAnimationEnd":"animationend")}),onceTransitionEnd:$property(function(){return this.once($platform.WebKit?
"webkitTransitionEnd":"transitionend")}),animateWithAttribute:function(a){if(this.hasAttribute(a)&&this._onceAnimationEnd)return this._onceAnimationEnd;this._onceAnimationEnd&&this._onceAnimationEnd.finalize();this.setAttribute(a,!0);this._onceAnimationEnd=this.onceAnimationEnd;return this._onceAnimationEnd.then(this.$(function(){this.removeAttribute(a);this.getBoundingClientRect();this._onceAnimationEnd=void 0}))},animatedWithAttribute:function(a){this.animateWithAttribute(a);return this}});$mixin(Element,
{all:Element.prototype.querySelectorAll,one:Element.prototype.querySelector,append:Node.prototype.append,clientBBox:$property(function(){return BBox.fromLTWH(this.getBoundingClientRect())}),bbox:$property(function(){return this.clientBBox.offset(document.bbox.leftTop)}),setWidthHeight:function(a){this.style.width=a.x+"px";this.style.height=a.y+"px";return this},setTransform:function(a){this.transform=a;return this},transform:$property({get:function(){var a=(this.css("transform")||"").match(/^matrix\((.+\))$/);
return a?(a=a[1].split(",").map(parseFloat),new Transform({a:a[0],b:a[1],c:a[2],d:a[3],e:a[4],f:a[5]})):Transform.identity},set:function(a){this.style.transform=_.isStrictlyObject(a)&&(a.translate?"translate("+a.translate.x+"px,"+a.translate.y+"px) ":"")+(a.rotate?"rotate("+a.rotate+"rad) ":"")+(a.scale?"scale("+(new Vec2(a.scale)).separatedWith(",")+")":"")||""}}),reads:function(a,c){a(this.$(function(a){a=(c||_.identity).call(this,a);this.removeAllChildren();this.add(a instanceof Node?a:a+"")}));
return this},$toggleAttribute:function(a,c){c(this.$(function(c){this.toggleAttribute(a,c)}));return this},$add:function(a){if(a instanceof Promise){var c=document.createElement("PROMISE");this.appendChild(c);a.then(function(a){c.replaceWith(a)}).panic}else this.add(a);return this}});$mixin(HTMLInputElement,{$value:$property(function(){this._observableValue||(this._observableValue=_.observable(this.value),this._observableValue.context=this,this.on("input",this.$(function(){this._observableValue(this.value)})));
return this._observableValue})});$mixin(Image,{fetch:$static(function(a){return new Promise(function(c,d){_.extend(new Image,{src:a,onload:function(){c(this)},onerror:function(a){d(a)}})})})});_.defineProperties(document,{bbox:function(){return this.clientBBox.offset(Vec2.y(document.body.scrollTop))},clientBBox:function(){return BBox.fromLTWH(0,0,window.innerWidth||document.documentElement.clientWidth,window.innerHeight||document.documentElement.clientHeight)}});document.on("DOMContentLoaded",document.ready=
_.barrier());_.tests.NodePlus={"tree splitting":function(){Testosterone.defineAssertions({assertSplitAtBr:function(a,c){var d=N.div.html(a);d.splitSubtreeBefore(d.one("br"));return _.assert(d.innerHTML,c)}});$assertSplitAtBr("<b><br>foo</b>","<b><br>foo</b>");$assertSplitAtBr("<b>foo<br></b>","<b>foo</b><b><br></b>");$assertSplitAtBr("<b>foo<i>bar<br>baz</i>qux</b>","<b>foo<i>bar</i></b><b><i><br>baz</i>qux</b>")}}})()},function(m,n){_.tests["DOMReference + DOMEvents"]={"DOMReference + DOMEvents basics":function(){$assertEveryCalled(function(a,
b,c,d){var e=new ($component({$traits:[DOMReference,DOMEvents],init:function(){this.domReady(N.textarea.insertMeAfter(document.body.lastChild))},change:$on(function(b){a()}),shouldNotCall:$on("input",function(){$fail}),reactToFocusEvents:$on("focus blur",function(a){b()}),reactToWindowResize:$on({what:"resize",target:window},function(){c()})})),f=e.dom;$assert(e.dom instanceof Node);e.domReady(function(a){$assert(a instanceof Node);d()});e.dispatchEvent("change");e.dispatchEvent("blur");var k=document.createEvent("Event");
k.initEvent("resize",!0,!0);window.dispatchEvent(k);$assert(e.constructor.DOMEventListeners,[{e:"change",fn:"change"},{e:"input",fn:"shouldNotCall"},{e:"focus",fn:"reactToFocusEvents"},{e:"blur",fn:"reactToFocusEvents"},{e:"resize",fn:"reactToWindowResize",target:window}]);e.destroy();e.dispatchEvent("input");$assert(!f.isAttachedToDocument);$assert(e.dom,void 0)})},"Blocking event propagation in $traits with e.stopImmediatePropagation":function(){$assertEveryCalled(function(a){var b=new ($component({$traits:[DOMReference,
DOMEvents,$trait({blockChangeEvent:$on("change",function(b){a();b.stopImmediatePropagation()})}),$trait({shouldNotCall:$on("change",function(a){$fail})})],init:function(){this.domReady(N.textarea.insertMeAfter(document.body.lastChild))}}));b.dispatchEvent("change");b.destroy()})}};DOMReference=$trait({domReady:$barrier(function(a){this.dom=a;this.el=jQuery(this.dom)}),afterDestroy:function(){this.dom&&(this.dom.removeFromParent(),this.el=this.dom=void 0);this.domReady.reset()}});DOMReferenceWeak=
$trait({domReady:$barrier(function(a){this.dom=a}),afterDestroy:function(){this.dom=void 0}});DOMEvents=$trait({dispatchEvent:function(a){this.domReady(function(b){var c=document.createEvent("Event");c.initEvent(a,!0,!0);b.dispatchEvent(c)})},$macroTags:{on:function(a,b,c){var d=a.constructor.DOMEventListeners||(a.constructor.DOMEventListeners=[]),e=b.$on,e=_.isString(e)?{fn:c,e:e}:_.isObject(e)?{fn:c,e:e.what,target:e.target}:{fn:c,e:c};_.each(e.e.split(" "),function(a){d.push(_.defaults({e:a},e))})}},
domReady:function(a){_.each(this.constructor.DOMEventListeners,__supressErrorReporting=function(b){(b.target||a).addEventListener(b.e,this[b.fn])},this)},beforeDestroy:function(){this.domReady(function(a){_.each(this.constructor.DOMEventListeners,__supressErrorReporting=function(b){(b.target||a).removeEventListener(b.e,this[b.fn])},this)})}});HideOnEscape=$trait({hideOnEscape:$on({what:"keydown",target:document},function(a){27===a.keyCode&&(this.destroy(),a.preventDefault())})})},function(m,n){InertialValue=
$component({$defaults:{duration:.2,easing:"linear"},animating:$observableProperty(!1),target:$observableProperty(),current:$observableProperty(),init:function(a){this.easing=(_.isNumber(this.target)?Easing.scalar:Easing.vector)[this.easing];this.targetChange(function(a){!1===this.animating?(this.start=this.value,this.current=this.target=a,this.startTime=Date.now(),this.step()):(this.start=this.current,this.startTime=this.lastTime)})},step:function(){var a=Date.now(),a=Math.min(1,((this.lastTime=a)-
this.startTime)/(1E3*this.duration));1>a?(a=this.easing(this.start,this.target,a),this.animating=!0,this.current=a,window.requestAnimationFrame(this.step)):(this.current=this.target,this.animating=!1)}});Easing={scalar:{linear:function(a,b,c){return a+(b-a)*c},"in":function(a,b,c){return a+(b-a)*Math.pow(c,2)},out:function(a,b,c){return b-(b-a)*Math.pow(1-c,2)},inOut:function(a,b,c){var d=b-a;return.5>c?a+.5*d*Math.pow(2*c,2):b-.5*d*Math.pow(2-2*c,2)}},vector:{linear:function(a,b,c){console.log(c);
return a.add(b.sub(a).scale(c))},inOut:function(a,b,c){var d=b.sub(a);return.5>c?a.add(d.scale(.5*Math.pow(2*c,2))):b.sub(d.scale(.5*Math.pow(2-2*c,2)))},"in":function(a,b,c){return a.add(b.sub(a).scale(Math.pow(c,2)))},out:function(a,b,c){return b.sub(b.sub(a).scale(Math.pow(1-c,2)))}}}},function(m,n,a){a(38);a(39);a(41);a(42);a(43);a(44);a(45);jQuery=a(46);a(47);a(48);a(49);a(50);a(54);document.ready(function(){Panic.init();CallStack.isThirdParty.intercept(function(a,c){return 0<=a.indexOf("underscore")||
0<=a.indexOf("jquery")||0<=a.indexOf("useless")||0<=a.indexOf("mootools")})})},function(m,n){_.hasAsserts=!0;_.extend(_,{tests:{},withTest:function(a,b,c){c();_.runTest(a,b);_.publishToTestsNamespace(a,b)},deferTest:function(a,b,c){c();_.publishToTestsNamespace(a,b)},runTest:function(a,b){try{_.isFunction(b)?b():_.each(b,function(a){a()})}catch(d){if(_.isAssertionError(d)){var c=(_.isArray(a)&&a||[a]).join(".");console.log(c+":",d.message,"\n"+_.times(c.length,_.constant("~")).join("")+"\n");_.each(d.notMatching,
function(a){console.log("  \u2022",a)})}throw d;}},publishToTestsNamespace:function(a,b){_.isArray(a)?(_.tests[a[0]]||(_.tests[a[0]]={}))[a[1]]=b:_.tests[a]=b}});_.deferTest("assert.js bootstrap",function(){$assert(!0);$assert(_.assert===_.assertions.assert);$assertNot(!1);$assertNot(5);$assert(4,4,4);$assert({foo:[1,2,3]},{foo:[1,2,3]});$assert({foo:{bar:1},baz:2},{baz:2,foo:{bar:1}});$assertNot(4,5);$assertMatches({foo:1,bar:2},{foo:1});_.hasStdlib&&$assertMatches({foo:[1,2],bar:3},{foo:[1]});_.hasStdlib&&
$assertMatches("123",/[0-9]+/);_.hasStdlib&&($assertTypeMatches(42,"number"),$assertFails(function(){$assertTypeMatches("foo","number")}));_.hasStdlib&&($assertTypeMatches([1,2],[]),$assertTypeMatches([],[]),$assertTypeMatches([1,2,3],["number"]),$assertTypeMatches([],["number"]),$assertFails(function(){$assertTypeMatches([1,2,3],["string"]);$assertTypeMatches([1,2,"foo"],["number"])}));_.hasStdlib&&$assertTypeMatches({foo:42,bar:{even:4,many:["foo","bar"]}},{foo:"number",qux:"undefined",bar:{even:function(a){return 0===
a%2},many:["string"]}});if(_.hasOOP){var a=$prototype(),b=$prototype();$assertTypeMatches({foo:new a,bar:new b},{foo:a,bar:b});$assertFails(function(){$assertTypeMatches(new b,a)})}if(_.hasStdlib){var c=function(a,b,c){$assertArguments(arguments)};c(777,"foo bar baz");$assertFails(function(){c(777,42)})}$assertThrows(function(){throw 42;});$assertNotThrows(function(){});$assertThrows(function(){throw 42;},42);$assertThrows(function(){throw Error("42");},_.matches({message:"42"}));$assertFails(function(){$assertThrows(function(){throw 42;
},24);$assertThrows(function(){throw Error("42");},_.matches({message:"24"}))});$assertEveryCalled(function(a,b,c){a();a();b();c()});$assertEveryCalledOnce(function(a,b,c){a();b();c()});$assertEveryCalled(function(a){a();a();a()});_.hasStdlib&&$assertCalledWithArguments(["foo",["foo","bar"]],function(a){a("foo");a("foo","bar")});$assertCPS(function(a){a("foo","bar")},["foo","bar"]);$assertCPS(function(a){a("foo")},"foo");$assertCPS(function(a){a()});$assertFails(function(){$fail;$stub;$assert("not true");
$assert({foo:1,bar:2},{foo:1});$assert([1,2,3,4],[1,2,3]);$assert(["foo"],{0:"foo",length:1});$assertFails(function(){})});$assert===_.assertions.assert&&$assertThrows(function(){$fail})},function(){var a=function(a){return function(b){var e=[].splice.call(arguments,0);1===e.length?a&&!0!==e[0]&&_.assertionFailed({notMatching:e}):a&&!0!==_.allEqual(e)&&_.assertionFailed({notMatching:e});return!0}};$overrideUnderscore("matches",function(a){return function(b){return _.isObject(b)?a(b):function(a){return b===
a}}});_.extend(_,_.assertions={assert:a(!0),assertNot:a(!1),assertCPS:function(a,b,e){var f=b&&(_.isArray(b)?b:[b])||[];a(function(){$assert([].splice.call(arguments,0),f);if(e)return e(),!0})},assertNotCalled:function(a){var b=!0;a(function(){b&&$fail});b=!1},assertEveryCalledOnce:function(a,b){return _.assertEveryCalled(_.hasTags?$once(a):(a.once=!0,a),b)},assertEveryCalled:function(a,b){var e=_.hasTags?$untag(a):a,f=_.hasTags?$async.is(a):a.async,k=(once=_.hasTags?$once.is(a):a.once)?null:e.toString().match(/.*function[^\(]\(([^\)]+)\)/),
l=once?_.times(e.length,_.constant(1)):_.map(k[1].split(","),function(a){a=(a=a.trim().match(/^(.+)__(\d+)$/))&&parseInt(a[2],10);return _.isFinite(a)?a||!1:!0}),m=_.times(e.length,_.constant(!1)),k=_.times(e.length,function(a){return function(){m[a]=_.isNumber(l[a])?(m[a]||0)+1:!0;f&&_.isEqual(m,l)&&b()}});e.apply(null,k);f||(_.assert(m,l),b&&b())},assertCalledWithArguments:function(a,b){return _.assert(_.arr(b),a)},assertCallOrder:function(a){var b=0,e=_.times(a.length,function(a){return function(){arguments.callee.callIndex=
b++}});a.apply(null,e);return _.assert(_.pluck(e,"callIndex"),_.times(e.length,_.identity.arity1))},assertMatches:function(a,b){try{return _.assert(_.matches.apply(null,_.rest(arguments))(a))}catch(e){throw _.isAssertionError(e)?_.extend(e,{notMatching:[a,b]}):e;}},assertNotMatches:function(a,b){try{return _.assert(!_.matches.apply(null,_.rest(arguments))(a))}catch(e){throw _.isAssertionError(e)?_.extend(e,{notMatching:[a,b]}):e;}},assertType:function(a,b){return _.assert(_.decideType(a),b)},assertTypeMatches:function(a,
b){return _.isEmpty(mismatches=_.typeMismatches(b,a))?!0:_.assertionFailed({message:"provided value type not matches required contract",asColumns:!0,notMatching:[{provided:a},{required:b},{mismatches:mismatches}]})},assertFails:function(a){return _.assertThrows.call(this,a,_.isAssertionError)},assertThrows:function(a,b){var e=void 0,f=!1;try{a.call(this)}catch(k){e=k,f=!0}_.assert.call(this,f);1<arguments.length&&_.assertMatches.call(this,e,b)},assertNotThrows:function(a){return _.assertEveryCalled(function(b){a();
b()})},assertArguments:function(a,b,e){b=(b||a.callee).toString();var f=b.match(/.*function[^\(]\(([^\)]+)\)/);if(f){a=_.asArray(a);var f=_.map(f[1].split(","),function(a){a="_"===a.trim()[0]?a.replace(/_/g," ").trim():void 0;var b=parseInt(a,10);return _.isFinite(b)?b:a}),k=_.zipWith([f,a],function(a,b){return void 0===a?!0:a===b});_.every(k)||_.assertionFailed({notMatching:_.nonempty([[e,b].join(": "),f,a])})}},fail:function(){_.assertionFailed()},fails:_.constant(function(){_.assertionFailed()}),
stub:function(){_.assertionFailed()}});_.extend(_,{assertionError:function(a){return _.extend(Error(a&&a.message||"assertion failed"),a,{assertion:!0})},assertionFailed:function(a){throw _.extend(_.assertionError(a),{stack:_.rest(Error().stack.split("\n"),3).join("\n")});},isAssertionError:function(a){return a&&!0===a.assertion}});_.extend(_,{allEqual:function(a){return _.reduce(a,function(b,e){return b&&_.isEqual(a[0],e)},!0)}});_.each(_.keys(_.assertions),function(a){$global.define("$"+a,_[a],{configurable:!0})});
for(var b in _.assertions)$global["$"+b]=1;$assert})},function(m,n,a){(function(){_.hasUncaught=!0;var b=_.globalUncaughtExceptionHandler=function(a){var b=arguments.callee.chain;arguments.callee.chain=_.reject(b,_.property("catchesOnce"));if(b.length)for(var e=0,f=b.length;e<f;e++)try{b[e](a);break}catch(k){console.log(k);if(e===f-1)throw k.message+=" [re-thrown by a hook]",k;k&&"object"===typeof k&&(k.originalError=a);a=k}else throw a.message+=" [re-thrown by a hook]",a;};_.withUncaughtExceptionHandler=
function(a,d){var e=d||_.identity;d&&(a.catchesOnce=!0);b.chain.unshift(a);e(function(){b.chain.remove(a)})};b.chain=[];switch($platform.engine){case "node":a(40).on("uncaughtException",b);break;case "browser":window.addEventListener("error",function(a){0>a.message.indexOf(" [re-thrown by a hook]")&&(a.error?b(a.error):b(_.extend(Error(a.message),{stub:!0,stack:"at "+a.filename+":"+a.lineno+":"+a.colno})))})}})()},function(m,n){function a(a){return k===setTimeout?setTimeout(a,0):k.call(null,a,0)}
function b(){q&&D&&(q=!1,D.length?p=D.concat(p):B=-1,p.length&&c())}function c(){if(!q){var c=a(b);q=!0;for(var d=p.length;d;){D=p;for(p=[];++B<d;)D&&D[B].run();B=-1;d=p.length}D=null;q=!1;l===clearTimeout?clearTimeout(c):l.call(null,c)}}function d(a,b){this.fun=a;this.array=b}function e(){}var f=m.exports={},k,l;(function(){try{k=setTimeout}catch(a){k=function(){throw Error("setTimeout is not defined");}}try{l=clearTimeout}catch(a){l=function(){throw Error("clearTimeout is not defined");}}})();var p=
[],q=!1,D,B=-1;f.nextTick=function(b){var e=Array(arguments.length-1);if(1<arguments.length)for(var f=1;f<arguments.length;f++)e[f-1]=arguments[f];p.push(new d(b,e));1!==p.length||q||a(c)};d.prototype.run=function(){this.fun.apply(null,this.array)};f.title="browser";f.browser=!0;f.env={};f.argv=[];f.version="";f.versions={};f.on=e;f.addListener=e;f.once=e;f.off=e;f.removeListener=e;f.removeAllListeners=e;f.emit=e;f.binding=function(a){throw Error("process.binding is not supported");};f.cwd=function(){return"/"};
f.chdir=function(a){throw Error("process.chdir is not supported");};f.umask=function(){return 0}},function(m,n){(function(){if($platform.Browser){_.hasUncaughtAsync=!0;var a=void 0,b=function(b,d){return __supressErrorReporting=function(){var e={name:name,stack:Error().stack,asyncContext:a},f=_.asArray(arguments),k=f[d];if(!_.isFunction(k))throw Error("[uncaughtAsync.js] callback should be a function");k.__uncaughtJS_wrapper=f[d]=__supressErrorReporting=function(){a=e;try{return k.apply(this,arguments)}catch(b){_.globalUncaughtExceptionHandler(_.extend(b,
{asyncContext:e}))}};return b.apply(this,f)}};window.setTimeout=b(window.setTimeout,0);(function(a,b){var e=function(e){e.addEventListener=a(e.addEventListener);e.removeEventListener=b(e.removeEventListener)};window.EventTarget?e(window.EventTarget.prototype):(e(Node.prototype),e(XMLHttpRequest.prototype))})(function(a){return b(a,1)},function(a){return function(b,e,f,k){return a.call(this,b,e.__uncaughtJS_wrapper||e,f)}})}})()},function(m,n,a){(function(b){_.hasReflection=!0;_.tests.reflection={"file paths":function(){$assert(0<
$sourcePath.length);$assert(0<$uselessPath.length)},readSource:function(){var a=$uselessPath+$uselessFile;SourceFiles.read(a,function(a){$assert(0<a.length)});SourceFiles.line(a,0,function(a){$assert(0<a.length)})},"CallStack from error":function(){try{throw Error("oh fock");}catch(a){$assertTypeMatches(CallStack.fromError(a),CallStack)}},$callStack:function(a){var b=$callStack;$assert(_.isArray(b));$assertTypeMatches(b[0],{callee:"string",calleeShort:"string",file:"string",fileName:"string",fileShort:"string",
thirdParty:"boolean",index:"boolean","native":"boolean",line:"number",column:"number",source:"string",sourceReady:"function"});$assert(_.isTypeOf(CallStack,b));$assert(_.isTypeOf(CallStack,b.clean));$assert(_.isTypeOf(CallStack,b.offset(2)));$assert(_.isTypeOf(CallStack,b.filter(_.identity)));$assert(_.isTypeOf(CallStack,b.reject(_.identity)));$assertEveryCalled($async(function(a,c,k){b[0].sourceReady(function(b){$assert(typeof b,"string");a()});b.sourcesReady(function(){_.each(b,function(a){$assert(typeof a.source,
"string")});c()});b.safeLocation(7777).sourceReady(function(a){$assert("??? WRONG LOCATION ???",a);k()})}),a)},"Prototype.$meta":function(a){$prototype().$meta(function(b){$assertMatches(b,{name:"Dummy",type:"prototype"});a()})},"Trait.$meta":function(a){$trait().$meta(function(b){$assertMatches(b,{name:"Dummy",type:"trait"});a()})}};_.defineKeyword("callStack",function(){return CallStack.fromRawString(CallStack.currentAsRawString).offset($platform.NodeJS?1:0)});_.defineKeyword("currentFile",function(){return(CallStack.rawStringToArray(CallStack.currentAsRawString)[$platform.NodeJS?
3:1]||{file:""}).file});_.defineKeyword("uselessPath",_.memoize(function(){return _.initial(b.split("/"),$platform.NodeJS?2:1).join("/")+"/"}));_.defineKeyword("sourcePath",_.memoize(function(){var a=($uselessPath.match(/(.+)\/node_modules\/(.+)/)||[])[1];return a?a+"/":$uselessPath}));$platform.Browser&&_.defineProperty(window,"__filename",function(){return $currentFile});SourceFiles=$singleton(Component,{line:function(a,b,e){SourceFiles.read(a,function(a){e((a.split("\n")[b]||"").trimmed)})},read:$memoizeCPS(function(b,
d){if(0>b.indexOf("<"))try{if($platform.NodeJS)d(a(!function(){var a=Error('Cannot find module "fs"');a.code="MODULE_NOT_FOUND";throw a;}()).readFileSync(b,{encoding:"utf8"})||"");else{var e=new XMLHttpRequest;e.open("GET",b,!0);e.onreadystatechange=function(){4==e.readyState&&d(e.responseText)};e.send(null)}}catch(f){d("")}else d("")}),write:function(a,b,e){$platform.NodeJS?this.read(a,function(a){a=Error('Cannot find module "fs"');a.code="MODULE_NOT_FOUND";throw a;}):JSONAPI.post("source/"+a,_.extend2({},
this.apiConfig,{what:{text:b}})).then(function(){log.ok(a,"\u2014 successfully saved");e&&e()})}});CallStack=$extends(Array,{current:$static($property(function(){return CallStack.fromRawString(CallStack.currentAsRawString).offset(1)})),fromError:$static(function(a){return a&&a.parsedStack?CallStack.fromParsedArray(a.parsedStack).offset(a.stackOffset||0):a&&a.stack?CallStack.fromRawString(a.stack).offset(a.stackOffset||0):CallStack.fromParsedArray([])}),fromErrorWithAsync:$static(function(a){var b=
CallStack.fromError(a);for(a=a.asyncContext;a;)b=b.concat(CallStack.fromRawString(a.stack)),a=a.asyncContext;return b.mergeDuplicateLines}),locationEquals:$static(function(a,b){return a.file===b.file&&a.line===b.line&&a.column===b.column}),safeLocation:function(a){return this[a]||{callee:"",calleeShort:"",file:"",fileName:"",fileShort:"",thirdParty:!1,source:"??? WRONG LOCATION ???",sourceReady:_.barrier("??? WRONG LOCATION ???")}},mergeDuplicateLines:$property(function(){return CallStack.fromParsedArray(_.map(_.partition2(this,
function(a){return a.file+a.line}),function(a){return _.reduce(_.rest(a),function(a,b){a.callee=(a.callee||"<anonymous>")+" \u2192 "+(b.callee||"<anonymous>");a.calleeShort=(a.calleeShort||"<anonymous>")+" \u2192 "+(b.calleeShort||"<anonymous>");return a},_.clone(a[0]))}))}),clean:$property(function(){var a=this.mergeDuplicateLines.reject(function(a,b){return(a.thirdParty||a.hide)&&0!==b});return 0===a.length?this:a}),asArray:$property(function(){return _.asArray(this)}),offset:function(a){return a&&
CallStack.fromParsedArray(_.rest(this,a))||this},initial:function(a){return a&&CallStack.fromParsedArray(_.initial(this,a))||this},concat:function(a){return CallStack.fromParsedArray(this.asArray.concat(a.asArray))},filter:function(a){return CallStack.fromParsedArray(_.filter(this,a))},reject:function(a){return CallStack.fromParsedArray(_.reject(this,a))},reversed:$property(function(){return CallStack.fromParsedArray(_.reversed(this))}),sourcesReady:function(a){return _.allTriggered(_.pluck(this,
"sourceReady"),a)},constructor:function(a){Array.prototype.constructor.call(this);_.each(a,function(a){a.sourceReady||(a.sourceReady=_.barrier(),SourceFiles.line((a.remote?"api/source/":"")+a.file,a.line-1,function(b){a.hide=b.contains("// @hide");a.sourceReady(a.source=b.replace("// @hide",""))}));this.push(a)},this)},fromParsedArray:$static(function(a){return new CallStack(a)}),currentAsRawString:$static($property(function(){var a=$platform.Browser?3:2;return _.rest((Error().stack||"").split("\n"),
a).join("\n")})),shortenPath:$static(function(a){var b=a.replace($uselessPath,"").replace($sourcePath,"");return b!==a?b.replace(/^node_modules\//,""):a.split("/").last}),isThirdParty:$static(_.bindable(function(a){var b=a.replace($sourcePath,"");return $platform.NodeJS&&"/"!==a[0]||0<=b.indexOf("/node_modules/")||0<=a.indexOf("/node_modules/")&&!b||0<=b.indexOf("underscore")||0<=b.indexOf("jquery")})),fromRawString:$static(_.sequence(function(a){return CallStack.rawStringToArray(a)},function(a){return _.map(a,
function(a){return _.extend(a,{calleeShort:_.last(a.callee.split(".")),fileName:_.last(a.file.split("/")),fileShort:CallStack.shortenPath(a.file),thirdParty:CallStack.isThirdParty(a.file)&&!a.index})})},function(a){return CallStack.fromParsedArray(a)})),rawStringToArray:$static(function(a){a=(a||"").split("\n");return _.filter2(a,function(a){a=a.trimmed;var b,c,k=!1;if((c=a.match(/at (.+) \((.+)\)/))||(c=a.match(/(.*)@(.*)/)))b=c[1],k="native"===c[2],c=_.rest(c[2].match(/(.*):(.+):(.+)/)||[]);else if(c=
a.match(/^(at\s+)*(.+):([0-9]+):([0-9]+)/))c=_.rest(c,2);else return!1;return 0<=(b||"").indexOf("__supressErrorReporting")?!1:{beforeParse:a,callee:b||"",index:$platform.Browser&&c[0]===window.location.href,"native":k,file:c[0]||"",line:(c[1]||"").integerValue,column:(c[2]||"").integerValue}})})});$prototype.impl.findMeta=function(a){return function(b){_.cps.find(CallStack.fromRawString(a).reversed,function(a,b){a.sourceReady(function(c){c=(c||"").match(/([A-z]+)\s*=\s*\$(prototype|singleton|component|extends|trait|aspect)/);
b(c&&{name:c[1],type:c[2],file:a.fileShort}||!1)})},function(a){b(a||{})})}};$prototype.macro(function(a,b){if(!a.$meta){var e=_.cps.memoize($prototype.impl.findMeta(CallStack.currentAsRawString));_.defineMemoizedProperty(e,"promise",function(){return new Promise(e)});a.$meta=$static(e)}return a})}).call(n,"/index.js")},function(m,n){_.hasLog=!0;_.tests.log={basic:function(){log("log (x)");log.green("log.green");log.boldGreen("log.boldGreen");log.darkGreen("log.darkGreen");log.blue("log.blue");log.boldBlue("log.boldBlue");
log.darkBlue("log.darkBlue");log.orange("log.orange");log.boldOrange("log.boldOrange");log.darkOrange("log.darkOrange");log.red("log.red");log.boldRed("log.boldRed");log.darkRed("log.darkRed");log.pink("log.pink");log.boldPink("log.boldPink");log.darkPink("log.darkPink");log.margin();log.margin();log.bright("log.bright");log.dark("log.dark");log.margin();log.success("log.success");log.ok("log.ok");log.g("log.g");log.gg("log.gg");log.info("log.info");log.i("log.i");log.ii("log.ii");log.warning("log.warning");
log.warn("log.warn");log.w("log.w");log.ww("log.ww");log.error("log.error");log.e("log.e");log.ee("log.ee");$assert(log("log (x) === x"),"log (x) === x");log.info(log.stackOffset(2),"log.info (log.config ({ stackOffset: 2 }), ...)");log.write("Consequent","arguments",log.color.red," joins","with","whitespace");log.write("Multi",log.color.red,"Colored",log.color.green,"Output",log.color.blue,"For",log.color.orange,"The",log.color.pink,"Fucking",log.color.none,"Win");log.write(log.boldLine);log.write(log.thinLine);
log.write(log.line);log.write(log.indent(1),"You can set indentation\nthat is nicely handled\nin case of multiline text");log.orange(log.indent(2),"\nCan print nice table layout view for arrays of objects:\n");log.orange(log.config({indent:2,table:!0}),[{field:"line",matches:!1,valueType:"string",contractType:"number"},{field:"column",matches:!0,valueType:"string",contractType:"number"}]);log.write("\nObject:",{foo:1,bar:2,qux:3});log.write("Array:",[1,2,3]);log.write("Function:",_.identity);log.write("Complex object:",
{foo:1,bar:{qux:[1,2,3],garply:_.identity}},"\n\n");log.withConfig(log.indent(1),function(){log.pink("Config stack + scopes + higher order API test:");_.each([5,6,7],logs.pink(log.indent(1),"item = ",log.color.blue))});$assert(log(42),42)}};_.extend(log=function(){return log.write.apply(this,[log.config({location:!0,stackOffset:1})].concat(_.asArray(arguments)))},{Config:$prototype(),config:function(a){return new log.Config(a)}});_.extend(log,{indent:function(a){return log.config({indent:a})},stackOffset:function(a){return log.config({stackOffset:a})},
where:function(a){return log.config({location:!0,where:a||void 0})},color:_.extend(function(a){return(log.color[a]||{}).color},_.object(_.map([["none","0m",""],["red","31m","color:crimson"],["boldRed",["31m","1m"],"color:crimson;font-weight:bold"],["darkRed",["31m","2m"],"color:crimson"],["blue","36m","color:royalblue"],["boldBlue",["36m","1m"],"color:royalblue;font-weight:bold;"],["darkBlue",["36m","2m"],"color:rgba(65,105,225,0.5)"],["boldOrange",["33m","1m"],"color:saddlebrown;font-weight:bold;"],
["darkOrange",["33m","2m"],"color:saddlebrown"],["orange","33m","color:saddlebrown"],["brown",["33m","2m"],"color:saddlebrown"],["green","32m","color:forestgreen"],["boldGreen",["32m","1m"],"color:forestgreen;font-weight:bold"],["darkGreen",["32m","2m"],"color:forestgreen;opacity:0.5"],["pink","35m","color:magenta"],["boldPink",["35m","1m"],"color:magenta;font-weight:bold;"],["darkPink",["35m","2m"],"color:magenta"],["black","0m","color:black"],["bright",["0m","1m"],"color:rgba(0,0,0);font-weight:bold"],
["dark",["0m","2m"],"color:rgba(0,0,0,0.25)"]],function(a){return[a[0],log.config({color:{shell:_.coerceToArray(_.map2(a[1],_.prepends("\u001b["))).join(),css:a[2]}})]}))),boldLine:"======================================",line:"--------------------------------------",thinLine:"......................................",timestampEnabled:!1,withWriteBackend:$scope(function(a,b,c,d){var e=log.writeBackend.value;log.writeBackend.value=b;c(function(b){a(function(){log.writeBackend.value=e;b&&b();d&&d()})})}),
writeUsingDefaultBackend:function(){var a=arguments;log.withWriteBackend(log.impl.defaultWriteBackend,function(b){log.write.apply(null,a);b()})},writeBackend:function(){return arguments.callee.value||log.impl.defaultWriteBackend},withConfig:function(a,b){log.impl.configStack.push(log.impl.configure([{stackOffset:-1},a]));var c=b();log.impl.configStack.pop();return c},currentConfig:function(){return log.impl.configure(log.impl.configStack)},margin:function(){var a=void 0;return function(){a!==log.impl.numWrites&&
log.newline();a=log.impl.numWrites}}(),impl:{configStack:[],numWrites:0,configure:function(a){return _.reduce2({stackOffset:0,indent:0},_.nonempty(a),function(a,c){return _.extend(a,_.nonempty(c),{indent:a.indent+(c.indent||0),stackOffset:a.stackOffset+(c.stackOffset||0)})})},write:$restArg(_.bindable(function(){var a=log.writeBackend();log.impl.numWrites++;var b=_.asArray(arguments),c=log.impl.configure([{stackOffset:$platform.NodeJS?1:3,indent:a.indent||0}].concat(log.impl.configStack)),d=_.reduce2([],
_.partition3(b,_.isTypeOf.$(log.Config)),function(a,b){return!0===b.label?(c=log.impl.configure([c].concat(b.items)),a):a.concat({config:c,text:log.impl.stringifyArguments(b.items,c)})}),e=d.last&&d.last.text.reversed.match(/(\n*)([^]*)/),f=e&&e[1];e&&(d.last.text=e[2].reversed);var k={},e=_.pluck["with"]("items",_.reject["with"](_.property("label"),_.partition3["with"](_.equals(k),_.scatter(d,function(a,b,c){_.each(a.text.split("\n"),function(b,d,e){c(_.extended(a,{text:b}));d!==e.lastIndex&&c(k)})})))),
d=_.pluck(d,"text").join(""),l=c.where||log.impl.walkStack($callStack)||{},m=(c.indentPattern||"\t").repeats(c.indent);a({lines:e,config:c,color:c.color,when:(new Date).toISOString(),args:_.reject(b,_.isTypeOf.$(log.Config)),indentation:m,indentedText:e.map(_.seq(_.pluck.tails2("text"),_.joinsWith(""),_.prepends(m))).join("\n"),text:d,codeLocation:c.location&&log.impl.location(l)||"",trailNewlines:f||"",where:c.location&&l||void 0});return _.find(b,_.not(_.isTypeOf.$(log.Config)))})),walkStack:function(a){return _.find(a.clean.offset($platform.Browser?
1:2),function(a){return 0>a.fileShort.indexOf("base/log.js")})||a[0]},defaultWriteBackend:function(a){var b=a.codeLocation;if($platform.NodeJS){var c=_.map(a.lines,function(b){return a.indentation+_.map(b,function(a){return a.config.color?a.config.color.shell+a.text+"\u001b[0m":a.text}).join("")}).join("\n");log.timestampEnabled&&(c=log.color("dark").shell+_.bullet(log.impl.timestamp(a.when)+" ",log.color("none").shell+c));console.log(c,log.color("dark").shell+b+"\u001b[0m",a.trailNewlines)}else console.log.apply(console,
_.reject["with"](_.equals(void 0),[].concat([log.timestampEnabled?"%c"+log.impl.timestamp(a.when)+"%c":"",_.map(a.lines,function(b,c){return a.indentation+_.reduce2("",b,function(a,b){return a+(b.text&&(b.config.color?"%c":"")+b.text||"")})}).join("\n"),b?"%c"+b:""].nonempty.join(" "),(log.timestampEnabled?["color:rgba(0,0,0,0.4)","color:black"]:[]).concat(_.scatter(a.lines,function(a,b,c){_.each(a,function(a){a.text&&a.config.color&&c(a.config.color.css)})})||[]).concat(b?"color:rgba(0,0,0,0.25)":
[]),a.trailNewlines)))},timestamp:function(a){return a},location:function(a){return _.quoteWith("()",_.nonempty([a.calleeShort,_.nonempty([a.fileName,a.line]).join(":")]).join(" @ "))},stringifyArguments:function(a,b){return _.map(a,function(a){a=log.impl.stringify(a,b);return b.maxArgLength?a.limitedTo(b.maxArgLength):a}).join(" ")},stringify:function(a,b){b=b||{};if(_.isTypeOf(Error,a)){var c=log.impl.stringifyError(a);return a.originalError?c+"\n\n"+log.impl.stringify(a.originalError):c}return _.isTypeOf(CallStack,
a)?log.impl.stringifyCallStack(a):"object"===typeof a?_.isArray(a)&&1<a.length&&_.isObject(a[0])&&b.table?log.asTable(a):_.stringify(a,b):"string"===typeof a?a:_.stringify(a)},stringifyError:function(a){try{var b=CallStack.fromErrorWithAsync(a).offset(a.stackOffset||0).clean;return"[EXCEPTION] "+(a.message||"").replace(/\r|\n/g,"").trimmed.limitedTo(120)+"\n\n"+(a.notMatching&&_.map(_.coerceToArray(a.notMatching||[]),log.impl.stringify.then(_.prepends("\t"))).join("\n")+"\n\n"||"")+log.impl.stringifyCallStack(b)+
"\n"}catch(c){return"YO DAWG I HEARD YOU LIKE EXCEPTIONS... SO WE THREW EXCEPTION WHILE PRINTING YOUR EXCEPTION:\n\n"+c.stack+"\n\nORIGINAL EXCEPTION:\n\n"+a.stack+"\n\n"}},stringifyCallStack:function(a){return log.columns(a.map(function(a){return["\tat "+a.calleeShort.first(30),_.nonempty([a.fileShort,":",a.line]).join(""),(a.source||"").first(80)]})).join("\n")}}});(function(){var a=log.impl.write;_.extend(log,log.printAPI=_.object(_.concat([["newline",a.$(log.config({location:!1}),"")],["write",
a]],_.flat(_.map("red failure error e;blue info i;darkBlue minor m;orange warning warn w;green success ok g;darkGreen dg;pink notice alert p;boldPink pp;dark hint d;boldGreen gg;bright b;boldRed bloody bad ee;darkPink dp;brown br;darkOrange wtf;boldOrange ww;darkRed er;boldBlue ii".split(";"),_.splitsWith(" ").then(_.mapsWith(function(b,c,d){return[b,a.$(log.config({location:0!==c,color:log.color(d.first),stackOffset:2}))]})))))))})();logs=_.mapWith(_.callsTo.compose(_.callsWith(log.stackOffset(1))),
log.printAPI);_.extend(log,{asTable:function(a){var b=a.map(_.keys.arity1).reduce(_.union.arity2,[]);a=log.columns([b].concat(_.map(a,function(a){return b.map(_.propertyOf(a))})),{maxTotalWidth:120,minColumnWidths:b.map(_.property("length"))});return[a[0],log.thinLine[0].repeats(a[0].length),_.rest(a)].flat.join("\n")},columns:function(a,b){if(0===a.length)return[];var c=a.map(_.map.tails2(function(a){return _.asString(a).split("\n")[0]})),d=c.map(_.map.tails2(_.property("length"))),e=d.zip(_.largest),
f=b||{minColumnWidths:e,maxTotalWidth:0},k=_.reduce(e,_.sum,0),l=_.map(e,_.muls(1/k)),m=Math.max(0,k-f.maxTotalWidth),n=_.map(e,function(a,b){return Math.max(f.minColumnWidths[b],Math.floor(a-m*l[b]))}),d=d.map(function(a){return[n,a].zip(_.subtract)});return[c,d].zip(_.zap.tails(function(a,b){return 0<=b?a+" ".repeats(b):_.initial(a,-b).join("")}).then(_.joinsWith("  ")))}});$platform.NodeJS&&(m.exports=log)},function(m,n){_.defineTagKeyword("shouldFail");_.defineTagKeyword("async");_.tests.Testosterone=
{async:function(a){_.delay(function(){a()})},$tests:function(){DummyPrototypeWithTest=$prototype({$test:function(){}});DummyPrototypeWithTests=$prototype({$tests:{dummy:function(){}}});$assertTypeMatches(DummyPrototypeWithTests.$tests,[{"*":"function"}]);$assertThrows(function(){DummyPrototypeWithTests.$tests=42});$assertMatches(_.pluck(Testosterone.prototypeTests,"tests"),[DummyPrototypeWithTest.$tests,DummyPrototypeWithTests.$tests])}};_.defineTagKeyword("assertion");Testosterone=$singleton({prototypeTests:[],
isRunning:$property(function(){return void 0!==this.currentAssertion}),constructor:function(){_.each(_.assertions,function(a,b){this.defineAssertion(b,"assertFails"===b?$shouldFail(function(a){a.call(this)}):a)},this);(function(a){$prototype.macro("$test",a);$prototype.macro("$tests",a)})(this.$(function(a,b,c){this.prototypeTests.push({proto:a.constructor,tests:b});a.$tests=$static($property($constant(_.isStrictlyObject(b)&&b||_.object([["test",b]]))));return a}));this.run=this.$(this.run)},run:_.interlocked(function(a){var b=
this.runConfig=_.extend({suites:[],silent:!0,verbose:!1,timeout:2E3,filter:_.identity,testStarted:function(a){},testComplete:function(a){}},a),c=_.isArray(b.suites),d=_.map(b.suites,this.$(function(a,d){return this.testSuite(c?a.name:d,c?a.tests:a,b.context,a.proto)}));return(!1===b.codebase?__([]):this.collectPrototypeTests()).then(this.$(function(a){var c=!1===b.codebase?[]:this.collectTests();a=_.flatten(_.pluck(c.concat(d).concat(a),"tests"));a=_.filter(a,b.shouldRun||_.constant(!0));this.runningTests=
_.map(a,function(a,c){return _.extend(a,{indent:b.indent,index:c})});_.each(this.runningTests,function(a){if(!(a.routine instanceof Function))throw log.ee(a.suite,a.name,"\u2013 test routine is not a function:",a.routine),Error();});this.runningTests=_.filter(this.runningTests,b.filter||_.identity);return __.each(this.runningTests,this.$(this.runTest)).then(this.$(function(){_.assert(!0!==b.done);b.done=!0;this.printLog(b);this.failedTests=_.filter(this.runningTests,_.property("failed"));this.failed=
0<this.failedTests.length;return!this.failed}))}))["catch"](function(a){log.margin();log.ee(log.boldLine,"TESTOSTERONE CRASHED",log.boldLine,"\n\n",a);throw a;})}),onException:function(a){if(this.currentAssertion)this.currentAssertion.onException(a);else throw a;},defineAssertions:function(a){_.each(a,function(a,c){this.defineAssertion(c,a)},this)},runTest:function(a,b){var c=this.runConfig;log.impl.configStack=[];return __.then(c.testStarted(a),function(){a.verbose=c.verbose;a.timeout=c.timeout;
a.startTime=Date.now();return a.run().then(function(){a.time=Date.now()-a.startTime;return c.testComplete(a)})})},collectTests:function(){return _.map(_.tests,this.$(function(a,b){return this.testSuite(b,a)}))},collectPrototypeTests:function(){var a=this;return __.map(this.prototypeTests,function(b,c){return b.proto.$meta.promise.then(function(c){return a.testSuite(c.name,b.tests,void 0,b.proto)})})},testSuite:function(a,b,c,d){return{name:a||"",tests:_(_.pairs("function"===typeof b&&_.object([[a,
b]])||b)).map(function(b){var f=new Test({proto:d,name:b[0],routine:b[1],suite:a,context:c});f.complete(function(){(f.hasLog=0<f.logCalls.length)||(f.failed?log.red("FAIL"):f.verbose&&log.green("PASS"))});return f})}},defineAssertion:function(a,b){var c=this;_.deleteKeyword(a);_.defineKeyword(a,Tags.modify(b,function(d){return _.withSameArgs(d,function(){var e=$callStack.safeLocation($platform.Browser&&!$platform.Chrome?0:1);return c.currentAssertion?c.currentAssertion.babyAssertion(a,b,d,arguments,
e):d.apply(c,arguments)})}))},printLog:function(a){if(!a.supressLog){var b=_.filter(this.runningTests,function(b){return b.failed||!a.silent&&b.hasLog}),c=_.filter(this.runningTests,_.property("failed"));_.invoke(a.verbose?this.runningTests:b,"printLog");c.length?log.orange("\n"+log.boldLine+"\nSOME TESTS FAILED:",_.pluck(c,"name").join(", "),"\n\n"):!0!==a.silent&&log.green("\n"+log.boldLine+"\nALL TESTS PASS\n\n")}}});Test=$prototype({constructor:function(a){_.defaults(this,a,{name:"<< UNNAMED FOR UNKNOWN REASON >>",
failed:!1,routine:void 0,verbose:!1,depth:1,indent:0,failedAssertions:[],context:this,complete:_.extend(_.barrier(),{context:this})});this.babyAssertion=_.interlocked(this.babyAssertion)},finalize:function(){this.babyAssertion.wait(this.$(function(){this.canFail&&this.failedAssertions.length&&(this.failed=!0);this.complete(!0)}))},babyAssertion:function(a,b,c,d,e){var f=this,k=new Test({mother:this,name:a,shouldFail:b.$shouldFail||this.shouldFail,depth:this.depth+1,location:e,context:this.context,
timeout:this.timeout/2,verbose:this.verbose,silent:this.silent,routine:Tags.modify(b,function(a){return function(c){if($async.is(d[0])||$async.is(b))_.cps.apply(a,f.context,d,function(a,b){b&&b.apply(this,a);c()});else try{a.apply(f.context,d),c()}catch(e){k.onException(e)}}})});return k.run()["finally"](function(a,b){Testosterone.currentAssertion=f;if(k.failed||k.verbose&&k.logCalls.notEmpty)return k.location.sourceReady.promise.then(function(a){log.red(log.config({location:k.location,where:k.location}),
a);k.evalLogCalls();return a})}).then(function(a){k.failed&&f.canFail&&f.failedAssertions.push(k)})},canFail:$property(function(){return!this.failed&&!this.shouldFail}),fail:function(){this.failed=!0;this.finalize()},assertionStack:$property(function(){var a=[],b=this;do a.push(b),b=b.mother;while(b);return a}),onException:function(a){if(this.canFail||this.verbose){if(_.isAssertionError(a)){if("notMatching"in a){var b=_.coerceToArray(a.notMatching);if(a.asColumns)log.orange(log.columns(_.map(b,function(a){return["\t\u2022 "+
_.keys(a)[0],_.stringify(_.values(a)[0])]})).join("\n"));else{a=_.map(b,log.impl.stringify.arity1.then(_.bullet.$("\t\u2022 ")));var c=_.reduce2(a,_.longestCommonSubstring)||"";4>c.length&&(c=void 0);_.each(a,function(a){if(c){var b=a.indexOf(c);log.write(log.color.orange,a.substr(0,b),log.color.dark,c,log.color.orange,a.substr(b+c.length))}else log.orange(a)})}}}else 1<this.depth&&log.newline(),log.write(a);log.newline()}this.canFail?this.fail():this.finalize()},run:function(){var a=Testosterone.currentAssertion=
this,b=Tags.unwrap(this.routine);return new Channel(this.$(function(c){this.shouldFail=$shouldFail.is(this.routine);this.hasLog=this.failed=!1;this.logCalls=[];this.failureLocations={};_.withTimeout({maxTime:a.timeout,expired:function(){a.canFail&&(log.ee("TIMEOUT EXPIRED"),a.fail())}},a.complete);_.withUncaughtExceptionHandler(a.$(a.onException),a.complete);log.withWriteBackend(_.extendWith({indent:1},function(b){a.logCalls.push(b)}),function(d){a.complete(d.arity0);c&&a.complete(c);if(0<b.length)b.call(a.context,
a.$(a.finalize));else{d=void 0;try{d=b.call(a.context)}catch(e){a.onException(e)}_.isArrayLike(d)&&d[0]instanceof Promise&&(d=__.all(d));d instanceof Promise?d.then(function(b){a.finalize()}.postponed,function(b){a.onException(b)}):a.finalize()}})}))},printLog:function(){var a=this.suite&&this.suite!==this.name&&(this.suite||"").quote("[]")||"";log.write(log.color.blue,"\n"+log.boldLine,"\n"+_.nonempty([a,this.name]).join(" "),(this.index+" of "+Testosterone.runningTests.length).quote("()")+(this.failed?
" FAILED":"")+":","\n");this.evalLogCalls()},evalLogCalls:function(){_.each(this.logCalls,log.writeBackend().arity1)}});_.defineTagKeyword("allowsRecursion");_.limitRecursion=function(a,b,c){b||(b=a,a=0);var d=-1,e=!1;return function(){if(!e){if(d>a)throw e=!0,_.extendWith({notMatching:_.map(arguments,function(a,b){return"arg"+(b+1)+": "+_.stringify(a)})},Error(c+": max recursion depth reached ("+a+")"));var f=(++d,b.apply(this,arguments));d--;return f}}};Testosterone.ValidatesRecursion=$trait({$test:function(){var a=
new ($component({$traits:[Testosterone.ValidatesRecursion],foo:function(){},bar:function(){this.bar()},baz:$allowsRecursion({max:2},function(){this.baz()}),qux:$allowsRecursion(function(){this.quxCalled||(this.quxCalled=!0,this.qux())})}));a.foo();$assertThrows(a.bar,{message:"bar: max recursion depth reached (0)"});a.bar();$assertThrows(a.baz,{message:"baz: max recursion depth reached (2)"});a.qux()},$constructor:function(){_.each(this,function(a,b){!_.isFunction($untag(a))||"constructor"===b||a.$allowsRecursion&&
void 0===a.$allowsRecursion.max||(this[b]=Tags.modify(a,function(c){return _.limitRecursion(a&&a.$allowsRecursion&&a.$allowsRecursion.max||0,c,b)}))},this)}});(function(){var a=_.keys(_.omit(log.color,"none"));a.each(_.defineTagKeyword);_.defineTagKeyword("verbose");Testosterone.LogsMethodCalls=$trait({$test:$platform.Browser?function(){}:function(a){var c=$prototype({$traits:[Testosterone.LogsMethodCalls]}),c=$extends(c,{foo:$log($pink($verbose(function(a){$assert(a,42);return 24})))}),d=new c,e=
this;c.$meta(function(){$assert(d.foo(42),24);$assert(_.pluck(e.logCalls,"text"),["Compo.foo (42)","\u2192 24",""]);$assert(e.logCalls[0].color===log.color("pink"));a()})},$macroTags:{log:function(b,c,d){var e=(_.isBoolean(c.$log)?void 0:c.$log)||(c.$verbose?"{{$proto}}":""),f={},k=_.find2(a,function(a){return log.color(c["$"+a]&&a)||!1}),l=e&&_.template(e,{interpolate:/\{\{(.+?)\}\}/g});$untag(b.$meta)(function(a){f=a});return $prototype.impl.modifyMember(c,function(a,b){return function(){var e=
this,m=_.asArray(arguments),n=l&&l.call(this,_.extend({$proto:f.name},_.map2(this,_.stringifyOneLine.arity1)))||this.desc||"",F=_.map(m,_.stringifyOneLine.arity1).join(", ").quote("()");log.write(log.config({color:k,location:!0,where:c.$verbose?void 0:{calleeShort:f.name}}),_.nonempty([n,d,b]).join("."),F);return log.withConfig({indent:1,color:k,protoName:f.name},function(){var b=log.impl.numWrites,c=a.apply(e,m);void 0!==c&&log.write("\u2192",_.stringifyOneLine(c));2>log.currentConfig().indent&&
0<log.impl.numWrites-b&&log.newline();return c})}})}}})})();$platform.NodeJS&&(m.exports=Testosterone)},function(m,n){_.measure=function(a,b){if(b){var c=_.now();a(function(){b(_.now()-c)})}else return c=_.now(),a(),_.now()-c};_.perfTest=function(a,b){var c=_.isFunction(a)?{test:a}:a,d={};_.cps.each(c,function(a,b,c){var l=[],m=function(){for(var c=0;500>c;c++)l.push(a());console.log(b,l)};m();_.delay(function(){d[b]=_.measure(m)/500;c()},100)},function(){b(d)})}},function(m,n,a){var b,c;(function(a,
b){"object"===typeof m&&"object"===typeof m.exports?m.exports=a.document?b(a,!0):function(a){if(!a.document)throw Error("jQuery requires a window with a document");return b(a)}:b(a)})("undefined"!==typeof window?window:this,function(a,e){function f(a,b){b=b||A;var c=b.createElement("script");c.text=a;b.head.appendChild(c).parentNode.removeChild(c)}function k(a){var b=!!a&&"length"in a&&a.length,c=g.type(a);return"function"===c||g.isWindow(a)?!1:"array"===c||0===b||"number"===typeof b&&0<b&&b-1 in
a}function l(a,b,c){if(g.isFunction(b))return g.grep(a,function(a,r){return!!b.call(a,r,a)!==c});if(b.nodeType)return g.grep(a,function(a){return a===b!==c});if("string"===typeof b){if(Lb.test(b))return g.filter(b,a,c);b=g.filter(b,a)}return g.grep(a,function(a){return-1<Na.call(b,a)!==c&&1===a.nodeType})}function p(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function q(a){var b={};g.each(a.match(X)||[],function(a,c){b[c]=!0});return b}function D(a){return a}function B(a){throw a;}function E(a,
b,c){var d;try{a&&g.isFunction(d=a.promise)?d.call(a).done(b).fail(c):a&&g.isFunction(d=a.then)?d.call(a,b,c):b.call(void 0,a)}catch(e){c.call(void 0,e)}}function F(){A.removeEventListener("DOMContentLoaded",F);a.removeEventListener("load",F);g.ready()}function S(){this.expando=g.expando+S.uid++}function ea(a,b,c){if(void 0===c&&1===a.nodeType)if(c="data-"+b.replace(Mb,"-$&").toLowerCase(),c=a.getAttribute(c),"string"===typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:Nb.test(c)?
JSON.parse(c):c}catch(d){}Z.set(a,b,c)}else c=void 0;return c}function I(a,b,c,d){var e,f=1,h=20,k=d?function(){return d.cur()}:function(){return g.css(a,b,"")},l=k(),m=c&&c[3]||(g.cssNumber[b]?"":"px"),n=(g.cssNumber[b]||"px"!==m&&+l)&&za.exec(g.css(a,b));if(n&&n[3]!==m){m=m||n[3];c=c||[];n=+l||1;do f=f||".5",n/=f,g.style(a,b,n+m);while(f!==(f=k()/l)&&1!==f&&--h)}c&&(n=+n||+l||0,e=c[1]?n+(c[1]+1)*c[2]:+c[2],d&&(d.unit=m,d.start=n,d.end=e));return e}function fa(a,b){for(var c,d,e=[],f=0,h=a.length;f<
h;f++)if(d=a[f],d.style)if(c=d.style.display,b){if("none"===c&&(e[f]=z.get(d,"display")||null,e[f]||(d.style.display="")),""===d.style.display&&Pa(d)){c=f;var k;k=d.ownerDocument;d=d.nodeName;var l=lb[d];l||(k=k.body.appendChild(k.createElement(d)),l=g.css(k,"display"),k.parentNode.removeChild(k),"none"===l&&(l="block"),lb[d]=l);k=l;e[c]=k}}else"none"!==c&&(e[f]="none",z.set(d,"display",c));for(f=0;f<h;f++)null!=e[f]&&(a[f].style.display=e[f]);return a}function v(a,b){var c="undefined"!==typeof a.getElementsByTagName?
a.getElementsByTagName(b||"*"):"undefined"!==typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&g.nodeName(a,b)?g.merge([a],c):c}function W(a,b){for(var c=0,d=a.length;c<d;c++)z.set(a[c],"globalEval",!b||z.get(b[c],"globalEval"))}function h(a,b,c,d,e){for(var f,h,k,l=b.createDocumentFragment(),m=[],n=0,p=a.length;n<p;n++)if((f=a[n])||0===f)if("object"===g.type(f))g.merge(m,f.nodeType?[f]:f);else if(Ob.test(f)){h=h||l.appendChild(b.createElement("div"));k=(mb.exec(f)||["",
""])[1].toLowerCase();k=aa[k]||aa._default;h.innerHTML=k[1]+g.htmlPrefilter(f)+k[2];for(k=k[0];k--;)h=h.lastChild;g.merge(m,h.childNodes);h=l.firstChild;h.textContent=""}else m.push(b.createTextNode(f));l.textContent="";for(n=0;f=m[n++];)if(d&&-1<g.inArray(f,d))e&&e.push(f);else if(a=g.contains(f.ownerDocument,f),h=v(l.appendChild(f),"script"),a&&W(h),c)for(k=0;f=h[k++];)nb.test(f.type||"")&&c.push(f);return l}function U(){return!0}function M(){return!1}function T(){try{return A.activeElement}catch(a){}}
function P(a,b,c,d,e,f){var h,k;if("object"===typeof b){"string"!==typeof c&&(d=d||c,c=void 0);for(k in b)P(a,k,c,d,b[k],f);return a}null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"===typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0));if(!1===e)e=M;else if(!e)return a;1===f&&(h=e,e=function(a){g().off(a);return h.apply(this,arguments)},e.guid=h.guid||(h.guid=g.guid++));return a.each(function(){g.event.add(this,b,e,d,c)})}function ma(a,b){return g.nodeName(a,"table")&&g.nodeName(11!==b.nodeType?b:b.firstChild,
"tr")?a.getElementsByTagName("tbody")[0]||a:a}function Ya(a){a.type=(null!==a.getAttribute("type"))+"/"+a.type;return a}function ha(a){var b=Pb.exec(a.type);b?a.type=b[1]:a.removeAttribute("type");return a}function V(a,b){var c,d,e,f;if(1===b.nodeType){if(z.hasData(a)&&(f=z.access(a),c=z.set(b,f),f=f.events))for(e in delete c.handle,c.events={},f)for(c=0,d=f[e].length;c<d;c++)g.event.add(b,e,f[e][c]);Z.hasData(a)&&(e=Z.access(a),e=g.extend({},e),Z.set(b,e))}}function ja(a,b,c,d){b=kb.apply([],b);
var e,Q,k,l,m=0,n=a.length,p=n-1,Ia=b[0],t=g.isFunction(Ia);if(t||1<n&&"string"===typeof Ia&&!O.checkClone&&Qb.test(Ia))return a.each(function(e){var g=a.eq(e);t&&(b[0]=Ia.call(this,e,g.html()));ja(g,b,c,d)});if(n&&(e=h(b,a[0].ownerDocument,!1,a,d),Q=e.firstChild,1===e.childNodes.length&&(e=Q),Q||d)){Q=g.map(v(e,"script"),Ya);for(k=Q.length;m<n;m++)l=e,m!==p&&(l=g.clone(l,!0,!0),k&&g.merge(Q,v(l,"script"))),c.call(a[m],l,m);if(k)for(e=Q[Q.length-1].ownerDocument,g.map(Q,ha),m=0;m<k;m++)l=Q[m],nb.test(l.type||
"")&&!z.access(l,"globalEval")&&g.contains(e,l)&&(l.src?g._evalUrl&&g._evalUrl(l.src):f(l.textContent.replace(Rb,""),e))}return a}function na(a,b,c){for(var d=b?g.filter(b,a):a,e=0;null!=(b=d[e]);e++)c||1!==b.nodeType||g.cleanData(v(b)),b.parentNode&&(c&&g.contains(b.ownerDocument,b)&&W(v(b,"script")),b.parentNode.removeChild(b));return a}function ca(a,b,c){var d,e,f=a.style;if(c=c||Qa(a))e=c.getPropertyValue(b)||c[b],""!==e||g.contains(a.ownerDocument,a)||(e=g.style(a,b)),!O.pixelMarginRight()&&
Za.test(e)&&ob.test(b)&&(a=f.width,b=f.minWidth,d=f.maxWidth,f.minWidth=f.maxWidth=f.width=e,e=c.width,f.width=a,f.minWidth=b,f.maxWidth=d);return void 0!==e?e+"":e}function sa(a,b){return{get:function(){if(a())delete this.get;else return(this.get=b).apply(this,arguments)}}}function Fa(a){if(a in pb)return a;for(var b=a[0].toUpperCase()+a.slice(1),c=qb.length;c--;)if(a=qb[c]+b,a in pb)return a}function ya(a,b,c){return(a=za.exec(b))?Math.max(0,a[2]-(c||0))+(a[3]||"px"):b}function Ka(a,b,c,d,e){b=
c===(d?"border":"content")?4:"width"===b?1:0;for(var f=0;4>b;b+=2)"margin"===c&&(f+=g.css(a,c+ua[b],!0,e)),d?("content"===c&&(f-=g.css(a,"padding"+ua[b],!0,e)),"margin"!==c&&(f-=g.css(a,"border"+ua[b]+"Width",!0,e))):(f+=g.css(a,"padding"+ua[b],!0,e),"padding"!==c&&(f+=g.css(a,"border"+ua[b]+"Width",!0,e)));return f}function oa(a,b,c){var d,e=!0,f=Qa(a),h="border-box"===g.css(a,"boxSizing",!1,f);a.getClientRects().length&&(d=a.getBoundingClientRect()[b]);if(0>=d||null==d){d=ca(a,b,f);if(0>d||null==
d)d=a.style[b];if(Za.test(d))return d;e=h&&(O.boxSizingReliable()||d===a.style[b]);d=parseFloat(d)||0}return d+Ka(a,b,c||(h?"border":"content"),e,f)+"px"}function J(a,b,c,d,e){return new J.prototype.init(a,b,c,d,e)}function La(){Aa&&(a.requestAnimationFrame(La),g.fx.tick())}function Ma(){a.setTimeout(function(){Ba=void 0});return Ba=g.now()}function qa(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=ua[d],e["margin"+c]=e["padding"+c]=a;b&&(e.opacity=e.width=a);return e}function gb(a,b,c){for(var d,
e=(da.tweeners[b]||[]).concat(da.tweeners["*"]),g=0,f=e.length;g<f;g++)if(d=e[g].call(c,b,a))return d}function Jb(a,b){var c,d,e,f,h;for(c in a)if(d=g.camelCase(c),e=b[d],f=a[c],g.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),(h=g.cssHooks[d])&&"expand"in h)for(c in f=h.expand(f),delete a[d],f)c in a||(a[c]=f[c],b[c]=e);else b[d]=e}function da(a,b,c){var d,e=0,f=da.prefilters.length,h=g.Deferred().always(function(){delete k.elem}),k=function(){if(d)return!1;for(var b=Ba||Ma(),b=Math.max(0,
l.startTime+l.duration-b),c=1-(b/l.duration||0),e=0,y=l.tweens.length;e<y;e++)l.tweens[e].run(c);h.notifyWith(a,[l,c,b]);if(1>c&&y)return b;h.resolveWith(a,[l]);return!1},l=h.promise({elem:a,props:g.extend({},b),opts:g.extend(!0,{specialEasing:{},easing:g.easing._default},c),originalProperties:b,originalOptions:c,startTime:Ba||Ma(),duration:c.duration,tweens:[],createTween:function(b,c){var d=g.Tween(a,l.opts,b,c,l.opts.specialEasing[b]||l.opts.easing);l.tweens.push(d);return d},stop:function(b){var c=
0,e=b?l.tweens.length:0;if(d)return this;for(d=!0;c<e;c++)l.tweens[c].run(1);b?(h.notifyWith(a,[l,1,0]),h.resolveWith(a,[l,b])):h.rejectWith(a,[l,b]);return this}});c=l.props;for(Jb(c,l.opts.specialEasing);e<f;e++)if(b=da.prefilters[e].call(l,a,c,l.opts))return g.isFunction(b.stop)&&(g._queueHooks(l.elem,l.opts.queue).stop=g.proxy(b.stop,b)),b;g.map(c,gb,l);g.isFunction(l.opts.start)&&l.opts.start.call(a,l);g.fx.timer(g.extend(k,{elem:a,anim:l,queue:l.opts.queue}));return l.progress(l.opts.progress).done(l.opts.done,
l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function ia(a){return a.getAttribute&&a.getAttribute("class")||""}function Wa(a,b,c,d){var e;if(g.isArray(b))g.each(b,function(b,e){c||Sb.test(a)?d(a,e):Wa(a+"["+("object"===typeof e&&null!=e?b:"")+"]",e,c,d)});else if(c||"object"!==g.type(b))d(a,b);else for(e in b)Wa(a+"["+e+"]",b[e],c,d)}function hb(a){return function(b,c){"string"!==typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(X)||[];if(g.isFunction(c))for(;d=f[e++];)"+"===d[0]?
(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function ib(a,b,c,d){function e(k){var l;f[k]=!0;g.each(a[k]||[],function(a,r){var g=r(b,c,d);if("string"===typeof g&&!h&&!f[g])return b.dataTypes.unshift(g),e(g),!1;if(h)return!(l=g)});return l}var f={},h=a===$a;return e(b.dataTypes[0])||!f["*"]&&e("*")}function Xa(a,b){var c,d,e=g.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);d&&g.extend(!0,a,d);return a}function jb(a){return g.isWindow(a)?
a:9===a.nodeType&&a.defaultView}var ra=[],A=a.document,Kb=Object.getPrototypeOf,ta=ra.slice,kb=ra.concat,ab=ra.push,Na=ra.indexOf,Ra={},rb=Ra.toString,Sa=Ra.hasOwnProperty,sb=Sa.toString,Tb=sb.call(Object),O={},g=function(a,b){return new g.fn.init(a,b)},Ub=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Vb=/^-ms-/,Wb=/-([a-z])/g,Xb=function(a,b){return b.toUpperCase()};g.fn=g.prototype={jquery:"3.1.0",constructor:g,length:0,toArray:function(){return ta.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:
this[a]:ta.call(this)},pushStack:function(a){a=g.merge(this.constructor(),a);a.prevObject=this;return a},each:function(a){return g.each(this,a)},map:function(a){return this.pushStack(g.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(ta.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length;a=+a+(0>a?b:0);return this.pushStack(0<=a&&a<b?[this[a]]:[])},end:function(){return this.prevObject||
this.constructor()},push:ab,sort:ra.sort,splice:ra.splice};g.extend=g.fn.extend=function(){var a,b,c,d,e,f=arguments[0]||{},h=1,k=arguments.length,l=!1;"boolean"===typeof f&&(l=f,f=arguments[h]||{},h++);"object"===typeof f||g.isFunction(f)||(f={});h===k&&(f=this,h--);for(;h<k;h++)if(null!=(a=arguments[h]))for(b in a)c=f[b],d=a[b],f!==d&&(l&&d&&(g.isPlainObject(d)||(e=g.isArray(d)))?(e?(e=!1,c=c&&g.isArray(c)?c:[]):c=c&&g.isPlainObject(c)?c:{},f[b]=g.extend(l,c,d)):void 0!==d&&(f[b]=d));return f};
g.extend({expando:"jQuery"+("3.1.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw Error(a);},noop:function(){},isFunction:function(a){return"function"===g.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=g.type(a);return("number"===b||"string"===b)&&!isNaN(a-parseFloat(a))},isPlainObject:function(a){if(!a||"[object Object]"!==rb.call(a))return!1;a=Kb(a);if(!a)return!0;a=Sa.call(a,"constructor")&&a.constructor;return"function"===
typeof a&&sb.call(a)===Tb},isEmptyObject:function(a){for(var b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"===typeof a||"function"===typeof a?Ra[rb.call(a)]||"object":typeof a},globalEval:function(a){f(a)},camelCase:function(a){return a.replace(Vb,"ms-").replace(Wb,Xb)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var c,d=0;if(k(a))for(c=a.length;d<c&&!1!==b.call(a[d],d,a[d]);d++);else for(d in a)if(!1===b.call(a[d],
d,a[d]))break;return a},trim:function(a){return null==a?"":(a+"").replace(Ub,"")},makeArray:function(a,b){var c=b||[];null!=a&&(k(Object(a))?g.merge(c,"string"===typeof a?[a]:a):ab.call(c,a));return c},inArray:function(a,b,c){return null==b?-1:Na.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;d<c;d++)a[e++]=b[d];a.length=e;return a},grep:function(a,b,c){for(var d=[],e=0,g=a.length,f=!c;e<g;e++)c=!b(a[e],e),c!==f&&d.push(a[e]);return d},map:function(a,b,c){var d,e,g=0,f=[];if(k(a))for(d=
a.length;g<d;g++)e=b(a[g],g,c),null!=e&&f.push(e);else for(g in a)e=b(a[g],g,c),null!=e&&f.push(e);return kb.apply([],f)},guid:1,proxy:function(a,b){var c,d;"string"===typeof b&&(c=a[b],b=a,a=c);if(g.isFunction(a))return d=ta.call(arguments,2),c=function(){return a.apply(b||this,d.concat(ta.call(arguments)))},c.guid=a.guid=a.guid||g.guid++,c},now:Date.now,support:O});$jscomp.initSymbol();"function"===typeof Symbol&&($jscomp.initSymbol(),$jscomp.initSymbolIterator(),$jscomp.initSymbol(),$jscomp.initSymbolIterator(),
g.fn[Symbol.iterator]=ra[Symbol.iterator]);g.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){Ra["[object "+b+"]"]=b.toLowerCase()});var xa=function(a){function b(a,c,d,e){var r,g,y,f,u,C=c&&c.ownerDocument,h=c?c.nodeType:9;d=d||[];if("string"!==typeof a||!a||1!==h&&9!==h&&11!==h)return d;if(!e&&((c?c.ownerDocument||c:J)!==L&&E(c),c=c||L,pa)){if(11!==h&&(f=Fa.exec(a)))if(r=f[1])if(9===h)if(g=c.getElementById(r)){if(g.id===r)return d.push(g),d}else return d;
else{if(C&&(g=C.getElementById(r))&&Ja(c,g)&&g.id===r)return d.push(g),d}else{if(f[2])return Y.apply(d,c.getElementsByTagName(a)),d;if((r=f[3])&&w.getElementsByClassName&&c.getElementsByClassName)return Y.apply(d,c.getElementsByClassName(r)),d}if(!(!w.qsa||aa[a+" "]||ba&&ba.test(a))){if(1!==h)C=c,u=a;else if("object"!==c.nodeName.toLowerCase()){(y=c.getAttribute("id"))?y=y.replace(za,Da):c.setAttribute("id",y=K);g=A(a);for(r=g.length;r--;)g[r]="#"+y+" "+p(g[r]);u=g.join(",");C=sa.test(a)&&n(c.parentNode)||
c}if(u)try{return Y.apply(d,C.querySelectorAll(u)),d}catch(k){}finally{y===K&&c.removeAttribute("id")}}}return O(a.replace(ia,"$1"),c,d,e)}function c(){function a(c,d){b.push(c+" ")>G.cacheLength&&delete a[b.shift()];return a[c+" "]=d}var b=[];return a}function d(a){a[K]=!0;return a}function e(a){var b=L.createElement("fieldset");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}}function g(a,b){for(var c=a.split("|"),d=c.length;d--;)G.attrHandle[c[d]]=b}function f(a,
b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&a.sourceIndex-b.sourceIndex;if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function h(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function k(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function l(a){return function(b){return"label"in b&&b.disabled===a||"form"in b&&b.disabled===a||"form"in b&&!1===b.disabled&&(b.isDisabled===a||b.isDisabled!==
!a&&("label"in b||!Ga(b))!==a)}}function m(a){return d(function(b){b=+b;return d(function(c,d){for(var e,r=a([],c.length,b),g=r.length;g--;)c[e=r[g]]&&(c[e]=!(d[e]=c[e]))})})}function n(a){return a&&"undefined"!==typeof a.getElementsByTagName&&a}function t(){}function p(a){for(var b=0,c=a.length,d="";b<c;b++)d+=a[b].value;return d}function q(a,b,c){var d=b.dir,e=b.next,r=e||d,g=c&&"parentNode"===r,y=fa++;return b.first?function(b,c,e){for(;b=b[d];)if(1===b.nodeType||g)return a(b,c,e)}:function(b,
c,f){var u,C,h=[S,y];if(f)for(;b=b[d];){if((1===b.nodeType||g)&&a(b,c,f))return!0}else for(;b=b[d];)if(1===b.nodeType||g)if(C=b[K]||(b[K]={}),C=C[b.uniqueID]||(C[b.uniqueID]={}),e&&e===b.nodeName.toLowerCase())b=b[d]||b;else{if((u=C[r])&&u[0]===S&&u[1]===y)return h[2]=u[2];C[r]=h;if(h[2]=a(b,c,f))return!0}}}function v(a){return 1<a.length?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function W(a,b,c,d,e){for(var r,g=[],y=0,f=a.length,u=null!=b;y<f;y++)if(r=a[y])if(!c||
c(r,d,e))g.push(r),u&&b.push(y);return g}function U(a,c,e,r,g,f){r&&!r[K]&&(r=U(r));g&&!g[K]&&(g=U(g,f));return d(function(d,f,u,C){var h,k,ga=[],l=[],Q=f.length,m;if(!(m=d)){m=c||"*";for(var H=u.nodeType?[u]:u,n=[],Ha=0,Oa=H.length;Ha<Oa;Ha++)b(m,H[Ha],n);m=n}m=!a||!d&&c?m:W(m,ga,a,u,C);H=e?g||(d?a:Q||r)?[]:f:m;e&&e(m,H,u,C);if(r)for(h=W(H,l),r(h,[],u,C),u=h.length;u--;)if(k=h[u])H[l[u]]=!(m[l[u]]=k);if(d){if(g||a){if(g){h=[];for(u=H.length;u--;)(k=H[u])&&h.push(m[u]=k);g(null,H=[],h,C)}for(u=H.length;u--;)(k=
H[u])&&-1<(h=g?ca(d,k):ga[u])&&(d[h]=!(f[h]=k))}}else H=W(H===f?H.splice(Q,H.length):H),g?g(null,f,H,C):Y.apply(f,H)})}function M(a){var b,c,d,e=a.length,r=G.relative[a[0].type];c=r||G.relative[" "];for(var g=r?1:0,y=q(function(a){return a===b},c,!0),f=q(function(a){return-1<ca(b,a)},c,!0),u=[function(a,c,d){a=!r&&(d||c!==Ta)||((b=c).nodeType?y(a,c,d):f(a,c,d));b=null;return a}];g<e;g++)if(c=G.relative[a[g].type])u=[q(v(u),c)];else{c=G.filter[a[g].type].apply(null,a[g].matches);if(c[K]){for(d=++g;d<
e&&!G.relative[a[d].type];d++);return U(1<g&&v(u),1<g&&p(a.slice(0,g-1).concat({value:" "===a[g-2].type?"*":""})).replace(ia,"$1"),c,g<d&&M(a.slice(g,d)),d<e&&M(a=a.slice(d)),d<e&&p(a))}u.push(c)}return v(u)}function D(a,c){var e=0<c.length,r=0<a.length,g=function(d,g,f,u,C){var h,k,ga,l=0,Q="0",m=d&&[],H=[],n=Ta,Ha=d||r&&G.find.TAG("*",C),Oa=S+=null==n?1:Math.random()||.1,p=Ha.length;for(C&&(Ta=g===L||g||C);Q!==p&&null!=(h=Ha[Q]);Q++){if(r&&h){k=0;g||h.ownerDocument===L||(E(h),f=!pa);for(;ga=a[k++];)if(ga(h,
g||L,f)){u.push(h);break}C&&(S=Oa)}e&&((h=!ga&&h)&&l--,d&&m.push(h))}l+=Q;if(e&&Q!==l){for(k=0;ga=c[k++];)ga(m,H,g,f);if(d){if(0<l)for(;Q--;)m[Q]||H[Q]||(H[Q]=ja.call(u));H=W(H)}Y.apply(u,H);C&&!d&&0<H.length&&1<l+c.length&&b.uniqueSort(u)}C&&(S=Oa,Ta=n);return m};return e?d(g):g}var z,w,G,B,T,A,I,O,Ta,Ca,F,E,L,ka,pa,ba,P,V,Ja,K="sizzle"+1*new Date,J=a.document,S=0,fa=0,Z=c(),ea=c(),aa=c(),da=function(a,b){a===b&&(F=!0);return 0},ha={}.hasOwnProperty,X=[],ja=X.pop,na=X.push,Y=X.push,ma=X.slice,ca=
function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},qa=RegExp("[\\x20\\t\\r\\n\\f]+","g"),ia=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),ra=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,ta=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,ua=RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),xa=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
ya=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,oa={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},Aa=/^(?:input|select|textarea|button)$/i,Ba=/^h\d$/i,la=
/^[^{]+\{\s*\[native \w/,Fa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,sa=/[+~]/,va=RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),wa=function(a,b,c){a="0x"+b-65536;return a!==a||c?b:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,a&1023|56320)},za=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,Da=function(a,b){return b?"\x00"===a?"\ufffd":a.slice(0,-1)+"\\"+a.charCodeAt(a.length-1).toString(16)+" ":"\\"+a},Ea=function(){E()},Ga=q(function(a){return!0===a.disabled},
{dir:"parentNode",next:"legend"});try{Y.apply(X=ma.call(J.childNodes),J.childNodes),X[J.childNodes.length].nodeType}catch(yc){Y={apply:X.length?function(a,b){na.apply(a,ma.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}w=b.support={};T=b.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};E=b.setDocument=function(a){var b;a=a?a.ownerDocument||a:J;if(a===L||9!==a.nodeType||!a.documentElement)return L;L=a;ka=L.documentElement;pa=
!T(L);J!==L&&(b=L.defaultView)&&b.top!==b&&(b.addEventListener?b.addEventListener("unload",Ea,!1):b.attachEvent&&b.attachEvent("onunload",Ea));w.attributes=e(function(a){a.className="i";return!a.getAttribute("className")});w.getElementsByTagName=e(function(a){a.appendChild(L.createComment(""));return!a.getElementsByTagName("*").length});w.getElementsByClassName=la.test(L.getElementsByClassName);w.getById=e(function(a){ka.appendChild(a).id=K;return!L.getElementsByName||!L.getElementsByName(K).length});
w.getById?(G.find.ID=function(a,b){if("undefined"!==typeof b.getElementById&&pa){var c=b.getElementById(a);return c?[c]:[]}},G.filter.ID=function(a){var b=a.replace(va,wa);return function(a){return a.getAttribute("id")===b}}):(delete G.find.ID,G.filter.ID=function(a){var b=a.replace(va,wa);return function(a){return(a="undefined"!==typeof a.getAttributeNode&&a.getAttributeNode("id"))&&a.value===b}});G.find.TAG=w.getElementsByTagName?function(a,b){if("undefined"!==typeof b.getElementsByTagName)return b.getElementsByTagName(a);
if(w.qsa)return b.querySelectorAll(a)}:function(a,b){var c,d=[],e=0,r=b.getElementsByTagName(a);if("*"===a){for(;c=r[e++];)1===c.nodeType&&d.push(c);return d}return r};G.find.CLASS=w.getElementsByClassName&&function(a,b){if("undefined"!==typeof b.getElementsByClassName&&pa)return b.getElementsByClassName(a)};P=[];ba=[];if(w.qsa=la.test(L.querySelectorAll))e(function(a){ka.appendChild(a).innerHTML="<a id='"+K+"'></a><select id='"+K+"-\r\\' msallowcapture=''><option selected=''></option></select>";
a.querySelectorAll("[msallowcapture^='']").length&&ba.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll("[selected]").length||ba.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");a.querySelectorAll("[id~="+K+"-]").length||ba.push("~=");a.querySelectorAll(":checked").length||ba.push(":checked");a.querySelectorAll("a#"+K+"+*").length||ba.push(".#.+[+~]")}),e(function(a){a.innerHTML=
"<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var b=L.createElement("input");b.setAttribute("type","hidden");a.appendChild(b).setAttribute("name","D");a.querySelectorAll("[name=d]").length&&ba.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");2!==a.querySelectorAll(":enabled").length&&ba.push(":enabled",":disabled");ka.appendChild(a).disabled=!0;2!==a.querySelectorAll(":disabled").length&&ba.push(":enabled",":disabled");a.querySelectorAll("*,:x");ba.push(",.*:")});(w.matchesSelector=
la.test(V=ka.matches||ka.webkitMatchesSelector||ka.mozMatchesSelector||ka.oMatchesSelector||ka.msMatchesSelector))&&e(function(a){w.disconnectedMatch=V.call(a,"*");V.call(a,"[s!='']:x");P.push("!=",":((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")});
ba=ba.length&&new RegExp(ba.join("|"));P=P.length&&new RegExp(P.join("|"));Ja=(b=la.test(ka.compareDocumentPosition))||la.test(ka.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!!(d&&1===d.nodeType&&(c.contains?c.contains(d):a.compareDocumentPosition&&a.compareDocumentPosition(d)&16))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1};da=b?function(a,b){if(a===b)return F=!0,0;var c=!a.compareDocumentPosition-!b.compareDocumentPosition;
if(c)return c;c=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1;return c&1||!w.sortDetached&&b.compareDocumentPosition(a)===c?a===L||a.ownerDocument===J&&Ja(J,a)?-1:b===L||b.ownerDocument===J&&Ja(J,b)?1:Ca?ca(Ca,a)-ca(Ca,b):0:c&4?-1:1}:function(a,b){if(a===b)return F=!0,0;var c,d=0;c=a.parentNode;var e=b.parentNode,r=[a],g=[b];if(!c||!e)return a===L?-1:b===L?1:c?-1:e?1:Ca?ca(Ca,a)-ca(Ca,b):0;if(c===e)return f(a,b);for(c=a;c=c.parentNode;)r.unshift(c);for(c=b;c=c.parentNode;)g.unshift(c);
for(;r[d]===g[d];)d++;return d?f(r[d],g[d]):r[d]===J?-1:g[d]===J?1:0};return L};b.matches=function(a,c){return b(a,null,null,c)};b.matchesSelector=function(a,c){(a.ownerDocument||a)!==L&&E(a);c=c.replace(ua,"='$1']");if(!(!w.matchesSelector||!pa||aa[c+" "]||P&&P.test(c)||ba&&ba.test(c)))try{var d=V.call(a,c);if(d||w.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return 0<b(c,L,null,[a]).length};b.contains=function(a,b){(a.ownerDocument||a)!==L&&E(a);return Ja(a,b)};b.attr=
function(a,b){(a.ownerDocument||a)!==L&&E(a);var c=G.attrHandle[b.toLowerCase()],c=c&&ha.call(G.attrHandle,b.toLowerCase())?c(a,b,!pa):void 0;return void 0!==c?c:w.attributes||!pa?a.getAttribute(b):(c=a.getAttributeNode(b))&&c.specified?c.value:null};b.escape=function(a){return(a+"").replace(za,Da)};b.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};b.uniqueSort=function(a){var b,c=[],d=0,e=0;F=!w.detectDuplicates;Ca=!w.sortStable&&a.slice(0);a.sort(da);if(F){for(;b=a[e++];)b===
a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}Ca=null;return a};B=b.getText=function(a){var b,c="",d=0;b=a.nodeType;if(!b)for(;b=a[d++];)c+=B(b);else if(1===b||9===b||11===b){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=B(a)}else if(3===b||4===b)return a.nodeValue;return c};G=b.selectors={cacheLength:50,createPseudo:d,match:oa,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},
"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[1]=a[1].replace(va,wa);a[3]=(a[3]||a[4]||a[5]||"").replace(va,wa);"~="===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]);return a},PSEUDO:function(a){var b,c=!a[6]&&a[2];if(oa.CHILD.test(a[0]))return null;a[3]?a[2]=a[4]||a[5]||"":c&&xa.test(c)&&
(b=A(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b));return a.slice(0,3)}},filter:{TAG:function(a){var b=a.replace(va,wa).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=Z[a+" "];return b||(b=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"),Z(a,function(a){return b.test("string"===typeof a.className&&a.className||"undefined"!==typeof a.getAttribute&&a.getAttribute("class")||
"")}))},ATTR:function(a,c,d){return function(e){e=b.attr(e,a);if(null==e)return"!="===c;if(!c)return!0;e+="";return"="===c?e===d:"!="===c?e!==d:"^="===c?d&&0===e.indexOf(d):"*="===c?d&&-1<e.indexOf(d):"$="===c?d&&e.slice(-d.length)===d:"~="===c?-1<(" "+e.replace(qa," ")+" ").indexOf(d):"|="===c?e===d||e.slice(0,d.length+1)===d+"-":!1}},CHILD:function(a,b,c,d,e){var r="nth"!==a.slice(0,3),g="last"!==a.slice(-4),y="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,f){var u,
C,h,k,ga;c=r!==g?"nextSibling":"previousSibling";var l=b.parentNode,Q=y&&b.nodeName.toLowerCase();f=!f&&!y;u=!1;if(l){if(r){for(;c;){for(h=b;h=h[c];)if(y?h.nodeName.toLowerCase()===Q:1===h.nodeType)return!1;ga=c="only"===a&&!ga&&"nextSibling"}return!0}ga=[g?l.firstChild:l.lastChild];if(g&&f)for(h=l,C=h[K]||(h[K]={}),C=C[h.uniqueID]||(C[h.uniqueID]={}),u=C[a]||[],u=(k=u[0]===S&&u[1])&&u[2],h=k&&l.childNodes[k];h=++k&&h&&h[c]||(u=k=0)||ga.pop();){if(1===h.nodeType&&++u&&h===b){C[a]=[S,k,u];break}}else if(f&&
(h=b,C=h[K]||(h[K]={}),C=C[h.uniqueID]||(C[h.uniqueID]={}),u=C[a]||[],u=k=u[0]===S&&u[1]),!1===u)for(;(h=++k&&h&&h[c]||(u=k=0)||ga.pop())&&((y?h.nodeName.toLowerCase()!==Q:1!==h.nodeType)||!++u||(f&&(C=h[K]||(h[K]={}),C=C[h.uniqueID]||(C[h.uniqueID]={}),C[a]=[S,u]),h!==b)););u-=e;return u===d||0===u%d&&0<=u/d}}},PSEUDO:function(a,c){var e,r=G.pseudos[a]||G.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return r[K]?r(c):1<r.length?(e=[a,a,"",c],G.setFilters.hasOwnProperty(a.toLowerCase())?
d(function(a,b){for(var d,e=r(a,c),g=e.length;g--;)d=ca(a,e[g]),a[d]=!(b[d]=e[g])}):function(a){return r(a,0,e)}):r}},pseudos:{not:d(function(a){var b=[],c=[],e=I(a.replace(ia,"$1"));return e[K]?d(function(a,b,c,d){d=e(a,null,d,[]);for(var r=a.length;r--;)if(c=d[r])a[r]=!(b[r]=c)}):function(a,d,r){b[0]=a;e(b,null,r,c);b[0]=null;return!c.pop()}}),has:d(function(a){return function(c){return 0<b(a,c).length}}),contains:d(function(a){a=a.replace(va,wa);return function(b){return-1<(b.textContent||b.innerText||
B(b)).indexOf(a)}}),lang:d(function(a){ya.test(a||"")||b.error("unsupported lang: "+a);a=a.replace(va,wa).toLowerCase();return function(b){var c;do if(c=pa?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===ka},focus:function(a){return a===L.activeElement&&(!L.hasFocus||L.hasFocus())&&
!!(a.type||a.href||~a.tabIndex)},enabled:l(!1),disabled:l(!0),checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>a.nodeType)return!1;return!0},parent:function(a){return!G.pseudos.empty(a)},header:function(a){return Ba.test(a.nodeName)},input:function(a){return Aa.test(a.nodeName)},button:function(a){var b=
a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:m(function(){return[0]}),last:m(function(a,b){return[b-1]}),eq:m(function(a,b,c){return[0>c?c+b:c]}),even:m(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:m(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:m(function(a,b,c){for(b=0>c?c+b:c;0<=--b;)a.push(b);
return a}),gt:m(function(a,b,c){for(c=0>c?c+b:c;++c<b;)a.push(c);return a})}};G.pseudos.nth=G.pseudos.eq;for(z in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})G.pseudos[z]=h(z);for(z in{submit:!0,reset:!0})G.pseudos[z]=k(z);t.prototype=G.filters=G.pseudos;G.setFilters=new t;A=b.tokenize=function(a,c){var d,e,r,g,f,u,h;if(f=ea[a+" "])return c?0:f.slice(0);f=a;u=[];for(h=G.preFilter;f;){if(!d||(e=ra.exec(f)))e&&(f=f.slice(e[0].length)||f),u.push(r=[]);d=!1;if(e=ta.exec(f))d=e.shift(),r.push({value:d,
type:e[0].replace(ia," ")}),f=f.slice(d.length);for(g in G.filter)!(e=oa[g].exec(f))||h[g]&&!(e=h[g](e))||(d=e.shift(),r.push({value:d,type:g,matches:e}),f=f.slice(d.length));if(!d)break}return c?f.length:f?b.error(a):ea(a,u).slice(0)};I=b.compile=function(a,b){var c,d=[],e=[],r=aa[a+" "];if(!r){b||(b=A(a));for(c=b.length;c--;)r=M(b[c]),r[K]?d.push(r):e.push(r);r=aa(a,D(e,d));r.selector=a}return r};O=b.select=function(a,b,c,d){var e,r,g,y,f="function"===typeof a&&a,u=!d&&A(a=f.selector||a);c=c||[];
if(1===u.length){r=u[0]=u[0].slice(0);if(2<r.length&&"ID"===(g=r[0]).type&&w.getById&&9===b.nodeType&&pa&&G.relative[r[1].type]){b=(G.find.ID(g.matches[0].replace(va,wa),b)||[])[0];if(!b)return c;f&&(b=b.parentNode);a=a.slice(r.shift().value.length)}for(e=oa.needsContext.test(a)?0:r.length;e--;){g=r[e];if(G.relative[y=g.type])break;if(y=G.find[y])if(d=y(g.matches[0].replace(va,wa),sa.test(r[0].type)&&n(b.parentNode)||b)){r.splice(e,1);a=d.length&&p(r);if(!a)return Y.apply(c,d),c;break}}}(f||I(a,u))(d,
b,!pa,c,!b||sa.test(a)&&n(b.parentNode)||b);return c};w.sortStable=K.split("").sort(da).join("")===K;w.detectDuplicates=!!F;E();w.sortDetached=e(function(a){return a.compareDocumentPosition(L.createElement("fieldset"))&1});e(function(a){a.innerHTML="<a href='#'></a>";return"#"===a.firstChild.getAttribute("href")})||g("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)});w.attributes&&e(function(a){a.innerHTML="<input/>";a.firstChild.setAttribute("value",
"");return""===a.firstChild.getAttribute("value")})||g("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue});e(function(a){return null==a.getAttribute("disabled")})||g("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(a,b,c){var d;if(!c)return!0===a[b]?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null});return b}(a);g.find=xa;g.expr=xa.selectors;g.expr[":"]=g.expr.pseudos;
g.uniqueSort=g.unique=xa.uniqueSort;g.text=xa.getText;g.isXMLDoc=xa.isXML;g.contains=xa.contains;g.escapeSelector=xa.escape;var la=function(a,b,c){for(var d=[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&g(a).is(c))break;d.push(a)}return d},tb=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},ub=g.expr.match.needsContext,vb=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,Lb=/^.[^:#\[\.,]*$/;g.filter=function(a,b,c){var d=
b[0];c&&(a=":not("+a+")");return 1===b.length&&1===d.nodeType?g.find.matchesSelector(d,a)?[d]:[]:g.find.matches(a,g.grep(b,function(a){return 1===a.nodeType}))};g.fn.extend({find:function(a){var b,c,d=this.length,e=this;if("string"!==typeof a)return this.pushStack(g(a).filter(function(){for(b=0;b<d;b++)if(g.contains(e[b],this))return!0}));c=this.pushStack([]);for(b=0;b<d;b++)g.find(a,e[b],c);return 1<d?g.uniqueSort(c):c},filter:function(a){return this.pushStack(l(this,a||[],!1))},not:function(a){return this.pushStack(l(this,
a||[],!0))},is:function(a){return!!l(this,"string"===typeof a&&ub.test(a)?g(a):a||[],!1).length}});var wb,Yb=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(g.fn.init=function(a,b,c){var d;if(!a)return this;c=c||wb;if("string"===typeof a){d="<"===a[0]&&">"===a[a.length-1]&&3<=a.length?[null,a,null]:Yb.exec(a);if(!d||!d[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(d[1]){if(b=b instanceof g?b[0]:b,g.merge(this,g.parseHTML(d[1],b&&b.nodeType?b.ownerDocument||b:A,!0)),vb.test(d[1])&&
g.isPlainObject(b))for(d in b)if(g.isFunction(this[d]))this[d](b[d]);else this.attr(d,b[d])}else if(a=A.getElementById(d[2]))this[0]=a,this.length=1;return this}return a.nodeType?(this[0]=a,this.length=1,this):g.isFunction(a)?void 0!==c.ready?c.ready(a):a(g):g.makeArray(a,this)}).prototype=g.fn;wb=g(A);var Zb=/^(?:parents|prev(?:Until|All))/,$b={children:!0,contents:!0,next:!0,prev:!0};g.fn.extend({has:function(a){var b=g(a,this),c=b.length;return this.filter(function(){for(var a=0;a<c;a++)if(g.contains(this,
b[a]))return!0})},closest:function(a,b){var c,d=0,e=this.length,f=[],h="string"!==typeof a&&g(a);if(!ub.test(a))for(;d<e;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(11>c.nodeType&&(h?-1<h.index(c):1===c.nodeType&&g.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(1<f.length?g.uniqueSort(f):f)},index:function(a){return a?"string"===typeof a?Na.call(g(a),this[0]):Na.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(g.uniqueSort(g.merge(this.get(),
g(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});g.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return la(a,"parentNode")},parentsUntil:function(a,b,c){return la(a,"parentNode",c)},next:function(a){return p(a,"nextSibling")},prev:function(a){return p(a,"previousSibling")},nextAll:function(a){return la(a,"nextSibling")},prevAll:function(a){return la(a,"previousSibling")},nextUntil:function(a,b,c){return la(a,
"nextSibling",c)},prevUntil:function(a,b,c){return la(a,"previousSibling",c)},siblings:function(a){return tb((a.parentNode||{}).firstChild,a)},children:function(a){return tb(a.firstChild)},contents:function(a){return a.contentDocument||g.merge([],a.childNodes)}},function(a,b){g.fn[a]=function(c,d){var e=g.map(this,b,c);"Until"!==a.slice(-5)&&(d=c);d&&"string"===typeof d&&(e=g.filter(d,e));1<this.length&&($b[a]||g.uniqueSort(e),Zb.test(a)&&e.reverse());return this.pushStack(e)}});var X=/\S+/g;g.Callbacks=
function(a){a="string"===typeof a?q(a):g.extend({},a);var b,c,d,e,f=[],h=[],k=-1,l=function(){e=a.once;for(d=b=!0;h.length;k=-1)for(c=h.shift();++k<f.length;)!1===f[k].apply(c[0],c[1])&&a.stopOnFalse&&(k=f.length,c=!1);a.memory||(c=!1);b=!1;e&&(f=c?[]:"")},m={add:function(){f&&(c&&!b&&(k=f.length-1,h.push(c)),function Ia(b){g.each(b,function(b,c){g.isFunction(c)?a.unique&&m.has(c)||f.push(c):c&&c.length&&"string"!==g.type(c)&&Ia(c)})}(arguments),c&&!b&&l());return this},remove:function(){g.each(arguments,
function(a,b){for(var c;-1<(c=g.inArray(b,f,c));)f.splice(c,1),c<=k&&k--});return this},has:function(a){return a?-1<g.inArray(a,f):0<f.length},empty:function(){f&&(f=[]);return this},disable:function(){e=h=[];f=c="";return this},disabled:function(){return!f},lock:function(){e=h=[];c||b||(f=c="");return this},locked:function(){return!!e},fireWith:function(a,c){e||(c=c||[],c=[a,c.slice?c.slice():c],h.push(c),b||l());return this},fire:function(){m.fireWith(this,arguments);return this},fired:function(){return!!d}};
return m};g.extend({Deferred:function(b){var c=[["notify","progress",g.Callbacks("memory"),g.Callbacks("memory"),2],["resolve","done",g.Callbacks("once memory"),g.Callbacks("once memory"),0,"resolved"],["reject","fail",g.Callbacks("once memory"),g.Callbacks("once memory"),1,"rejected"]],e="pending",f={state:function(){return e},always:function(){h.done(arguments).fail(arguments);return this},"catch":function(a){return f.then(null,a)},pipe:function(){var a=arguments;return g.Deferred(function(b){g.each(c,
function(c,d){var e=g.isFunction(a[d[4]])&&a[d[4]];h[d[1]](function(){var a=e&&e.apply(this,arguments);if(a&&g.isFunction(a.promise))a.promise().progress(b.notify).done(b.resolve).fail(b.reject);else b[d[0]+"With"](this,e?[a]:arguments)})});a=null}).promise()},then:function(b,e,r){function f(b,c,e,r){return function(){var y=this,u=arguments,k=function(){var a,d;if(!(b<h)){a=e.apply(y,u);if(a===c.promise())throw new TypeError("Thenable self-resolution");d=a&&("object"===typeof a||"function"===typeof a)&&
a.then;g.isFunction(d)?r?d.call(a,f(h,c,D,r),f(h,c,B,r)):(h++,d.call(a,f(h,c,D,r),f(h,c,B,r),f(h,c,D,c.notifyWith))):(e!==D&&(y=void 0,u=[a]),(r||c.resolveWith)(y,u))}},C=r?k:function(){try{k()}catch(a){g.Deferred.exceptionHook&&g.Deferred.exceptionHook(a,C.stackTrace),b+1>=h&&(e!==B&&(y=void 0,u=[a]),c.rejectWith(y,u))}};b?C():(g.Deferred.getStackHook&&(C.stackTrace=g.Deferred.getStackHook()),a.setTimeout(C))}}var h=0;return g.Deferred(function(a){c[0][3].add(f(0,a,g.isFunction(r)?r:D,a.notifyWith));
c[1][3].add(f(0,a,g.isFunction(b)?b:D));c[2][3].add(f(0,a,g.isFunction(e)?e:B))}).promise()},promise:function(a){return null!=a?g.extend(a,f):f}},h={};g.each(c,function(a,b){var d=b[2],r=b[5];f[b[1]]=d.add;r&&d.add(function(){e=r},c[3-a][2].disable,c[0][2].lock);d.add(b[3].fire);h[b[0]]=function(){h[b[0]+"With"](this===h?void 0:this,arguments);return this};h[b[0]+"With"]=d.fireWith});f.promise(h);b&&b.call(h,h);return h},when:function(a){var b=arguments.length,c=b,d=Array(c),e=ta.call(arguments),
f=g.Deferred(),h=function(a){return function(c){d[a]=this;e[a]=1<arguments.length?ta.call(arguments):c;--b||f.resolveWith(d,e)}};if(1>=b&&(E(a,f.done(h(c)).resolve,f.reject),"pending"===f.state()||g.isFunction(e[c]&&e[c].then)))return f.then();for(;c--;)E(e[c],h(c),f.reject);return f.promise()}});var ac=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;g.Deferred.exceptionHook=function(b,c){a.console&&a.console.warn&&b&&ac.test(b.name)&&a.console.warn("jQuery.Deferred exception: "+b.message,
b.stack,c)};g.readyException=function(b){a.setTimeout(function(){throw b;})};var bb=g.Deferred();g.fn.ready=function(a){bb.then(a)["catch"](function(a){g.readyException(a)});return this};g.extend({isReady:!1,readyWait:1,holdReady:function(a){a?g.readyWait++:g.ready(!0)},ready:function(a){(!0===a?--g.readyWait:g.isReady)||(g.isReady=!0,!0!==a&&0<--g.readyWait||bb.resolveWith(A,[g]))}});g.ready.then=bb.then;"complete"===A.readyState||"loading"!==A.readyState&&!A.documentElement.doScroll?a.setTimeout(g.ready):
(A.addEventListener("DOMContentLoaded",F),a.addEventListener("load",F));var Y=function(a,b,c,d,e,f,h){var k=0,l=a.length,m=null==c;if("object"===g.type(c))for(k in e=!0,c)Y(a,b,k,c[k],!0,f,h);else if(void 0!==d&&(e=!0,g.isFunction(d)||(h=!0),m&&(h?(b.call(a,d),b=null):(m=b,b=function(a,b,c){return m.call(g(a),c)})),b))for(;k<l;k++)b(a[k],c,h?d:d.call(a[k],k,b(a[k],c)));return e?a:m?b.call(a):l?b(a[0],c):f},Ua=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};S.uid=1;S.prototype={cache:function(a){var b=
a[this.expando];b||(b={},Ua(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0})));return b},set:function(a,b,c){var d;a=this.cache(a);if("string"===typeof b)a[g.camelCase(b)]=c;else for(d in b)a[g.camelCase(d)]=b[d];return a},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][g.camelCase(b)]},access:function(a,b,c){if(void 0===b||b&&"string"===typeof b&&void 0===c)return this.get(a,b);this.set(a,b,c);return void 0!==c?c:
b},remove:function(a,b){var c,d=a[this.expando];if(void 0!==d){if(void 0!==b)for(g.isArray(b)?b=b.map(g.camelCase):(b=g.camelCase(b),b=b in d?[b]:b.match(X)||[]),c=b.length;c--;)delete d[b[c]];if(void 0===b||g.isEmptyObject(d))a.nodeType?a[this.expando]=void 0:delete a[this.expando]}},hasData:function(a){a=a[this.expando];return void 0!==a&&!g.isEmptyObject(a)}};var z=new S,Z=new S,Nb=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Mb=/[A-Z]/g;g.extend({hasData:function(a){return Z.hasData(a)||z.hasData(a)},data:function(a,
b,c){return Z.access(a,b,c)},removeData:function(a,b){Z.remove(a,b)},_data:function(a,b,c){return z.access(a,b,c)},_removeData:function(a,b){z.remove(a,b)}});g.fn.extend({data:function(a,b){var c,d,e,f=this[0],h=f&&f.attributes;if(void 0===a){if(this.length&&(e=Z.get(f),1===f.nodeType&&!z.get(f,"hasDataAttrs"))){for(c=h.length;c--;)h[c]&&(d=h[c].name,0===d.indexOf("data-")&&(d=g.camelCase(d.slice(5)),ea(f,d,e[d])));z.set(f,"hasDataAttrs",!0)}return e}return"object"===typeof a?this.each(function(){Z.set(this,
a)}):Y(this,function(b){var c;if(f&&void 0===b){c=Z.get(f,a);if(void 0!==c)return c;c=ea(f,a);if(void 0!==c)return c}else this.each(function(){Z.set(this,a,b)})},null,b,1<arguments.length,null,!0)},removeData:function(a){return this.each(function(){Z.remove(this,a)})}});g.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=z.get(a,b),c&&(!d||g.isArray(c)?d=z.access(a,b,g.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=g.queue(a,b),d=c.length,e=c.shift(),f=g._queueHooks(a,
b),h=function(){g.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--);e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,h,f));!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return z.get(a,c)||z.access(a,c,{empty:g.Callbacks("once memory").add(function(){z.remove(a,[b+"queue",c])})})}});g.fn.extend({queue:function(a,b){var c=2;"string"!==typeof a&&(b=a,a="fx",c--);return arguments.length<c?g.queue(this[0],a):void 0===b?this:this.each(function(){var c=g.queue(this,a,
b);g._queueHooks(this,a);"fx"===a&&"inprogress"!==c[0]&&g.dequeue(this,a)})},dequeue:function(a){return this.each(function(){g.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=g.Deferred(),f=this,h=this.length,k=function(){--d||e.resolveWith(f,[f])};"string"!==typeof a&&(b=a,a=void 0);for(a=a||"fx";h--;)(c=z.get(f[h],a+"queueHooks"))&&c.empty&&(d++,c.empty.add(k));k();return e.promise(b)}});var xb=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
za=new RegExp("^(?:([+-])=|)("+xb+")([a-z%]*)$","i"),ua=["Top","Right","Bottom","Left"],Pa=function(a,b){a=b||a;return"none"===a.style.display||""===a.style.display&&g.contains(a.ownerDocument,a)&&"none"===g.css(a,"display")},yb=function(a,b,c,d){var e,g={};for(e in b)g[e]=a.style[e],a.style[e]=b[e];c=c.apply(a,d||[]);for(e in b)a.style[e]=g[e];return c},lb={};g.fn.extend({show:function(){return fa(this,!0)},hide:function(){return fa(this)},toggle:function(a){return"boolean"===typeof a?a?this.show():
this.hide():this.each(function(){Pa(this)?g(this).show():g(this).hide()})}});var zb=/^(?:checkbox|radio)$/i,mb=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,nb=/^$|\/(?:java|ecma)script/i,aa={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};aa.optgroup=aa.option;aa.tbody=aa.tfoot=aa.colgroup=aa.caption=aa.thead;
aa.th=aa.td;var Ob=/<|&#?\w+;/;(function(){var a=A.createDocumentFragment().appendChild(A.createElement("div")),b=A.createElement("input");b.setAttribute("type","radio");b.setAttribute("checked","checked");b.setAttribute("name","t");a.appendChild(b);O.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked;a.innerHTML="<textarea>x</textarea>";O.noCloneChecked=!!a.cloneNode(!0).lastChild.defaultValue})();var Va=A.documentElement,bc=/^key/,cc=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ab=/^([^.]*)(?:\.(.+)|)/;
g.event={global:{},add:function(a,b,c,d,e){var f,h,k,l,m,n,p,t,q;if(m=z.get(a))for(c.handler&&(f=c,c=f.handler,e=f.selector),e&&g.find.matchesSelector(Va,e),c.guid||(c.guid=g.guid++),(l=m.events)||(l=m.events={}),(h=m.handle)||(h=m.handle=function(b){return"undefined"!==typeof g&&g.event.triggered!==b.type?g.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(X)||[""],m=b.length;m--;)k=Ab.exec(b[m])||[],t=n=k[1],q=(k[2]||"").split(".").sort(),t&&(k=g.event.special[t]||{},t=(e?k.delegateType:
k.bindType)||t,k=g.event.special[t]||{},n=g.extend({type:t,origType:n,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&g.expr.match.needsContext.test(e),namespace:q.join(".")},f),(p=l[t])||(p=l[t]=[],p.delegateCount=0,k.setup&&!1!==k.setup.call(a,d,q,h)||a.addEventListener&&a.addEventListener(t,h)),k.add&&(k.add.call(a,n),n.handler.guid||(n.handler.guid=c.guid)),e?p.splice(p.delegateCount++,0,n):p.push(n),g.event.global[t]=!0)},remove:function(a,b,c,d,e){var f,h,k,l,m,n,p,t,q,v,W,U=z.hasData(a)&&
z.get(a);if(U&&(l=U.events)){b=(b||"").match(X)||[""];for(m=b.length;m--;)if(k=Ab.exec(b[m])||[],q=W=k[1],v=(k[2]||"").split(".").sort(),q){p=g.event.special[q]||{};q=(d?p.delegateType:p.bindType)||q;t=l[q]||[];k=k[2]&&new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)");for(h=f=t.length;f--;)n=t[f],!e&&W!==n.origType||c&&c.guid!==n.guid||k&&!k.test(n.namespace)||d&&d!==n.selector&&("**"!==d||!n.selector)||(t.splice(f,1),n.selector&&t.delegateCount--,p.remove&&p.remove.call(a,n));h&&!t.length&&
(p.teardown&&!1!==p.teardown.call(a,v,U.handle)||g.removeEvent(a,q,U.handle),delete l[q])}else for(q in l)g.event.remove(a,q+b[m],c,d,!0);g.isEmptyObject(l)&&z.remove(a,"handle events")}},dispatch:function(a){var b=g.event.fix(a),c,d,e,f,h,k=Array(arguments.length);d=(z.get(this,"events")||{})[b.type]||[];var l=g.event.special[b.type]||{};k[0]=b;for(c=1;c<arguments.length;c++)k[c]=arguments[c];b.delegateTarget=this;if(!l.preDispatch||!1!==l.preDispatch.call(this,b)){h=g.event.handlers.call(this,b,
d);for(c=0;(f=h[c++])&&!b.isPropagationStopped();)for(b.currentTarget=f.elem,d=0;(e=f.handlers[d++])&&!b.isImmediatePropagationStopped();)if(!b.rnamespace||b.rnamespace.test(e.namespace))b.handleObj=e,b.data=e.data,e=((g.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,k),void 0!==e&&!1===(b.result=e)&&(b.preventDefault(),b.stopPropagation());l.postDispatch&&l.postDispatch.call(this,b);return b.result}},handlers:function(a,b){var c,d,e,f,h=[],k=b.delegateCount,l=a.target;if(k&&l.nodeType&&
("click"!==a.type||isNaN(a.button)||1>a.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==a.type)){d=[];for(c=0;c<k;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?-1<g(e,this).index(l):g.find(e,this,null,[l]).length),d[e]&&d.push(f);d.length&&h.push({elem:l,handlers:d})}k<b.length&&h.push({elem:this,handlers:b.slice(k)});return h},addProp:function(a,b){Object.defineProperty(g.Event.prototype,a,{enumerable:!0,configurable:!0,get:g.isFunction(b)?
function(){if(this.originalEvent)return b(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[a]},set:function(b){Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:b})}})},fix:function(a){return a[g.expando]?a:new g.Event(a)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==T()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===T()&&this.blur)return this.blur(),!1},delegateType:"focusout"},
click:{trigger:function(){if("checkbox"===this.type&&this.click&&g.nodeName(this,"input"))return this.click(),!1},_default:function(a){return g.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}};g.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)};g.Event=function(a,b){if(!(this instanceof g.Event))return new g.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=
a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?U:M,this.target=a.target&&3===a.target.nodeType?a.target.parentNode:a.target,this.currentTarget=a.currentTarget,this.relatedTarget=a.relatedTarget):this.type=a;b&&g.extend(this,b);this.timeStamp=a&&a.timeStamp||g.now();this[g.expando]=!0};g.Event.prototype={constructor:g.Event,isDefaultPrevented:M,isPropagationStopped:M,isImmediatePropagationStopped:M,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=
U;a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=U;a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=U;a&&!this.isSimulated&&a.stopImmediatePropagation();this.stopPropagation()}};g.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,
key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(a){var b=a.button;return null==a.which&&bc.test(a.type)?null!=a.charCode?a.charCode:a.keyCode:!a.which&&void 0!==b&&cc.test(a.type)?b&1?1:b&2?3:b&4?2:0:a.which}},g.event.addProp);g.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){g.event.special[a]=
{delegateType:b,bindType:b,handle:function(a){var c,d=a.relatedTarget,e=a.handleObj;if(!d||d!==this&&!g.contains(this,d))a.type=e.origType,c=e.handler.apply(this,arguments),a.type=b;return c}}});g.fn.extend({on:function(a,b,c,d){return P(this,a,b,c,d)},one:function(a,b,c,d){return P(this,a,b,c,d,1)},off:function(a,b,c){var d;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,g(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"===typeof a){for(d in a)this.off(d,
b,a[d]);return this}if(!1===b||"function"===typeof b)c=b,b=void 0;!1===c&&(c=M);return this.each(function(){g.event.remove(this,a,c,b)})}});var dc=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,ec=/<script|<style|<link/i,Qb=/checked\s*(?:[^=]|=\s*.checked.)/i,Pb=/^true\/(.*)/,Rb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;g.extend({htmlPrefilter:function(a){return a.replace(dc,"<$1></$2>")},clone:function(a,b,c){var d,e,f,h,k=a.cloneNode(!0),l=g.contains(a.ownerDocument,
a);if(!(O.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||g.isXMLDoc(a)))for(h=v(k),f=v(a),d=0,e=f.length;d<e;d++){var m=f[d],n=h[d],p=n.nodeName.toLowerCase();if("input"===p&&zb.test(m.type))n.checked=m.checked;else if("input"===p||"textarea"===p)n.defaultValue=m.defaultValue}if(b)if(c)for(f=f||v(a),h=h||v(k),d=0,e=f.length;d<e;d++)V(f[d],h[d]);else V(a,k);h=v(k,"script");0<h.length&&W(h,!l&&v(a,"script"));return k},cleanData:function(a){for(var b,c,d,e=g.event.special,f=0;void 0!==(c=a[f]);f++)if(Ua(c)){if(b=
c[z.expando]){if(b.events)for(d in b.events)e[d]?g.event.remove(c,d):g.removeEvent(c,d,b.handle);c[z.expando]=void 0}c[Z.expando]&&(c[Z.expando]=void 0)}}});g.fn.extend({detach:function(a){return na(this,a,!0)},remove:function(a){return na(this,a)},text:function(a){return Y(this,function(a){return void 0===a?g.text(this):this.empty().each(function(){if(1===this.nodeType||11===this.nodeType||9===this.nodeType)this.textContent=a})},null,a,arguments.length)},append:function(){return ja(this,arguments,
function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||ma(this,a).appendChild(a)})},prepend:function(){return ja(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=ma(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return ja(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return ja(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},
empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(g.cleanData(v(a,!1)),a.textContent="");return this},clone:function(a,b){a=null==a?!1:a;b=null==b?a:b;return this.map(function(){return g.clone(this,a,b)})},html:function(a){return Y(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"===typeof a&&!ec.test(a)&&!aa[(mb.exec(a)||["",""])[1].toLowerCase()]){a=g.htmlPrefilter(a);try{for(;c<d;c++)b=this[c]||{},1===b.nodeType&&
(g.cleanData(v(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return ja(this,arguments,function(b){var c=this.parentNode;0>g.inArray(this,a)&&(g.cleanData(v(this)),c&&c.replaceChild(b,this))},a)}});g.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){g.fn[a]=function(a){for(var c=[],d=g(a),e=d.length-1,f=0;f<=e;f++)a=f===e?this:this.clone(!0),g(d[f])[b](a),
ab.apply(c,a.get());return this.pushStack(c)}});var ob=/^margin/,Za=new RegExp("^("+xb+")(?!px)[a-z%]+$","i"),Qa=function(b){var c=b.ownerDocument.defaultView;c&&c.opener||(c=a);return c.getComputedStyle(b)};(function(){function b(){if(l){l.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%";l.innerHTML="";Va.appendChild(k);var g=a.getComputedStyle(l);c="1%"!==g.top;h="2px"===g.marginLeft;e="4px"===g.width;l.style.marginRight="50%";
f="4px"===g.marginRight;Va.removeChild(k);l=null}}var c,e,f,h,k=A.createElement("div"),l=A.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",O.clearCloneStyle="content-box"===l.style.backgroundClip,k.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",k.appendChild(l),g.extend(O,{pixelPosition:function(){b();return c},boxSizingReliable:function(){b();return e},pixelMarginRight:function(){b();
return f},reliableMarginLeft:function(){b();return h}}))})();var fc=/^(none|table(?!-c[ea]).+)/,gc={position:"absolute",visibility:"hidden",display:"block"},Bb={letterSpacing:"0",fontWeight:"400"},qb=["Webkit","Moz","ms"],pb=A.createElement("div").style;g.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=ca(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,
widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,h,k=g.camelCase(b),l=a.style;b=g.cssProps[k]||(g.cssProps[k]=Fa(k)||k);h=g.cssHooks[b]||g.cssHooks[k];if(void 0!==c)f=typeof c,"string"===f&&(e=za.exec(c))&&e[1]&&(c=I(a,b,e),f="number"),null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(g.cssNumber[k]?"":"px")),O.clearCloneStyle||""!==c||0!==b.indexOf("background")||(l[b]="inherit"),h&&"set"in h&&void 0===(c=h.set(a,
c,d))||(l[b]=c));else return h&&"get"in h&&void 0!==(e=h.get(a,!1,d))?e:l[b]}},css:function(a,b,c,d){var e,f;f=g.camelCase(b);b=g.cssProps[f]||(g.cssProps[f]=Fa(f)||f);(f=g.cssHooks[b]||g.cssHooks[f])&&"get"in f&&(e=f.get(a,!0,c));void 0===e&&(e=ca(a,b,d));"normal"===e&&b in Bb&&(e=Bb[b]);return""===c||c?(a=parseFloat(e),!0===c||isFinite(a)?a||0:e):e}});g.each(["height","width"],function(a,b){g.cssHooks[b]={get:function(a,c,d){if(c)return!fc.test(g.css(a,"display"))||a.getClientRects().length&&a.getBoundingClientRect().width?
oa(a,b,d):yb(a,gc,function(){return oa(a,b,d)})},set:function(a,c,d){var e,f=d&&Qa(a);(d=d&&Ka(a,b,d,"border-box"===g.css(a,"boxSizing",!1,f),f))&&(e=za.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=g.css(a,b));return ya(a,c,d)}}});g.cssHooks.marginLeft=sa(O.reliableMarginLeft,function(a,b){if(b)return(parseFloat(ca(a,"marginLeft"))||a.getBoundingClientRect().left-yb(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px"});g.each({margin:"",padding:"",border:"Width"},function(a,
b){g.cssHooks[a+b]={expand:function(c){var d=0,e={};for(c="string"===typeof c?c.split(" "):[c];4>d;d++)e[a+ua[d]+b]=c[d]||c[d-2]||c[0];return e}};ob.test(a)||(g.cssHooks[a+b].set=ya)});g.fn.extend({css:function(a,b){return Y(this,function(a,b,c){var d,e={},f=0;if(g.isArray(b)){c=Qa(a);for(d=b.length;f<d;f++)e[b[f]]=g.css(a,b[f],!1,c);return e}return void 0!==c?g.style(a,b,c):g.css(a,b)},a,b,1<arguments.length)}});g.Tween=J;J.prototype={constructor:J,init:function(a,b,c,d,e,f){this.elem=a;this.prop=
c;this.easing=e||g.easing._default;this.options=b;this.start=this.now=this.cur();this.end=d;this.unit=f||(g.cssNumber[c]?"":"px")},cur:function(){var a=J.propHooks[this.prop];return a&&a.get?a.get(this):J.propHooks._default.get(this)},run:function(a){var b,c=J.propHooks[this.prop];this.pos=this.options.duration?b=g.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):b=a;this.now=(this.end-this.start)*b+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);
c&&c.set?c.set(this):J.propHooks._default.set(this);return this}};J.prototype.init.prototype=J.prototype;J.propHooks={_default:{get:function(a){return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(a=g.css(a.elem,a.prop,""))&&"auto"!==a?a:0},set:function(a){if(g.fx.step[a.prop])g.fx.step[a.prop](a);else 1!==a.elem.nodeType||null==a.elem.style[g.cssProps[a.prop]]&&!g.cssHooks[a.prop]?a.elem[a.prop]=a.now:g.style(a.elem,a.prop,a.now+a.unit)}}};J.propHooks.scrollTop=
J.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};g.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"};g.fx=J.prototype.init;g.fx.step={};var Ba,Aa,hc=/^(?:toggle|show|hide)$/,ic=/queueHooks$/;g.Animation=g.extend(da,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);I(c.elem,a,za.exec(b),c);return c}]},tweener:function(a,b){g.isFunction(a)?(b=a,a=["*"]):a=a.match(X);for(var c,d=0,e=a.length;d<
e;d++)c=a[d],da.tweeners[c]=da.tweeners[c]||[],da.tweeners[c].unshift(b)},prefilters:[function(a,b,c){var d,e,f,h,k,l,m;m="width"in b||"height"in b;var n=this,p={},t=a.style,q=a.nodeType&&Pa(a),v=z.get(a,"fxshow");c.queue||(h=g._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,k=h.empty.fire,h.empty.fire=function(){h.unqueued||k()}),h.unqueued++,n.always(function(){n.always(function(){h.unqueued--;g.queue(a,"fx").length||h.empty.fire()})}));for(d in b)if(e=b[d],hc.test(e)){delete b[d];f=f||"toggle"===
e;if(e===(q?"hide":"show"))if("show"===e&&v&&void 0!==v[d])q=!0;else continue;p[d]=v&&v[d]||g.style(a,d)}if((b=!g.isEmptyObject(b))||!g.isEmptyObject(p))for(d in m&&1===a.nodeType&&(c.overflow=[t.overflow,t.overflowX,t.overflowY],l=v&&v.display,null==l&&(l=z.get(a,"display")),m=g.css(a,"display"),"none"===m&&(l?m=l:(fa([a],!0),l=a.style.display||l,m=g.css(a,"display"),fa([a]))),("inline"===m||"inline-block"===m&&null!=l)&&"none"===g.css(a,"float")&&(b||(n.done(function(){t.display=l}),null==l&&(m=
t.display,l="none"===m?"":m)),t.display="inline-block")),c.overflow&&(t.overflow="hidden",n.always(function(){t.overflow=c.overflow[0];t.overflowX=c.overflow[1];t.overflowY=c.overflow[2]})),b=!1,p)b||(v?"hidden"in v&&(q=v.hidden):v=z.access(a,"fxshow",{display:l}),f&&(v.hidden=!q),q&&fa([a],!0),n.done(function(){q||fa([a]);z.remove(a,"fxshow");for(d in p)g.style(a,d,p[d])})),b=gb(q?v[d]:0,d,n),d in v||(v[d]=b.start,q&&(b.end=b.start,b.start=0))}],prefilter:function(a,b){b?da.prefilters.unshift(a):
da.prefilters.push(a)}});g.speed=function(a,b,c){var d=a&&"object"===typeof a?g.extend({},a):{complete:c||!c&&b||g.isFunction(a)&&a,duration:a,easing:c&&b||b&&!g.isFunction(b)&&b};d.duration=g.fx.off||A.hidden?0:"number"===typeof d.duration?d.duration:d.duration in g.fx.speeds?g.fx.speeds[d.duration]:g.fx.speeds._default;if(null==d.queue||!0===d.queue)d.queue="fx";d.old=d.complete;d.complete=function(){g.isFunction(d.old)&&d.old.call(this);d.queue&&g.dequeue(this,d.queue)};return d};g.fn.extend({fadeTo:function(a,
b,c,d){return this.filter(Pa).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=g.isEmptyObject(a),f=g.speed(b,c,d);b=function(){var b=da(this,g.extend({},a),f);(e||z.get(this,"finish"))&&b.stop(!0)};b.finish=b;return e||!1===f.queue?this.each(b):this.queue(f.queue,b)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop;b(c)};"string"!==typeof a&&(c=b,b=a,a=void 0);b&&!1!==a&&this.queue(a||"fx",[]);return this.each(function(){var b=!0,e=null!=
a&&a+"queueHooks",f=g.timers,h=z.get(this);if(e)h[e]&&h[e].stop&&d(h[e]);else for(e in h)h[e]&&h[e].stop&&ic.test(e)&&d(h[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||g.dequeue(this,a)})},finish:function(a){!1!==a&&(a=a||"fx");return this.each(function(){var b,c=z.get(this),d=c[a+"queue"];b=c[a+"queueHooks"];var e=g.timers,f=d?d.length:0;c.finish=!0;g.queue(this,a,[]);b&&b.stop&&b.stop.call(this,!0);for(b=e.length;b--;)e[b].elem===
this&&e[b].queue===a&&(e[b].anim.stop(!0),e.splice(b,1));for(b=0;b<f;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}});g.each(["toggle","show","hide"],function(a,b){var c=g.fn[b];g.fn[b]=function(a,d,e){return null==a||"boolean"===typeof a?c.apply(this,arguments):this.animate(qa(b,!0),a,d,e)}});g.each({slideDown:qa("show"),slideUp:qa("hide"),slideToggle:qa("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){g.fn[a]=function(a,c,
d){return this.animate(b,a,c,d)}});g.timers=[];g.fx.tick=function(){var a,b=0,c=g.timers;for(Ba=g.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||g.fx.stop();Ba=void 0};g.fx.timer=function(a){g.timers.push(a);a()?g.fx.start():g.timers.pop()};g.fx.interval=13;g.fx.start=function(){Aa||(Aa=a.requestAnimationFrame?a.requestAnimationFrame(La):a.setInterval(g.fx.tick,g.fx.interval))};g.fx.stop=function(){a.cancelAnimationFrame?a.cancelAnimationFrame(Aa):a.clearInterval(Aa);Aa=null};
g.fx.speeds={slow:600,fast:200,_default:400};g.fn.delay=function(b,c){b=g.fx?g.fx.speeds[b]||b:b;return this.queue(c||"fx",function(c,e){var f=a.setTimeout(c,b);e.stop=function(){a.clearTimeout(f)}})};(function(){var a=A.createElement("input"),b=A.createElement("select").appendChild(A.createElement("option"));a.type="checkbox";O.checkOn=""!==a.value;O.optSelected=b.selected;a=A.createElement("input");a.value="t";a.type="radio";O.radioValue="t"===a.value})();var Cb,Da=g.expr.attrHandle;g.fn.extend({attr:function(a,
b){return Y(this,g.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){g.removeAttr(this,a)})}});g.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f){if("undefined"===typeof a.getAttribute)return g.prop(a,b,c);1===f&&g.isXMLDoc(a)||(e=g.attrHooks[b.toLowerCase()]||(g.expr.match.bool.test(b)?Cb:void 0));if(void 0!==c){if(null===c){g.removeAttr(a,b);return}if(e&&"set"in e&&void 0!==(d=e.set(a,c,b)))return d;a.setAttribute(b,c+"");return c}if(e&&"get"in
e&&null!==(d=e.get(a,b)))return d;d=g.find.attr(a,b);return null==d?void 0:d}},attrHooks:{type:{set:function(a,b){if(!O.radioValue&&"radio"===b&&g.nodeName(a,"input")){var c=a.value;a.setAttribute("type",b);c&&(a.value=c);return b}}}},removeAttr:function(a,b){var c,d=0,e=b&&b.match(X);if(e&&1===a.nodeType)for(;c=e[d++];)a.removeAttribute(c)}});Cb={set:function(a,b,c){!1===b?g.removeAttr(a,c):a.setAttribute(c,c);return c}};g.each(g.expr.match.bool.source.match(/\w+/g),function(a,b){var c=Da[b]||g.find.attr;
Da[b]=function(a,b,d){var e,f,g=b.toLowerCase();d||(f=Da[g],Da[g]=e,e=null!=c(a,b,d)?g:null,Da[g]=f);return e}});var jc=/^(?:input|select|textarea|button)$/i,kc=/^(?:a|area)$/i;g.fn.extend({prop:function(a,b){return Y(this,g.prop,a,b,1<arguments.length)},removeProp:function(a){return this.each(function(){delete this[g.propFix[a]||a]})}});g.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&g.isXMLDoc(a)||(b=g.propFix[b]||b,e=g.propHooks[b]),void 0!==c?e&&"set"in
e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=g.find.attr(a,"tabindex");return b?parseInt(b,10):jc.test(a.nodeName)||kc.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});O.optSelected||(g.propHooks.selected={get:function(a){(a=a.parentNode)&&a.parentNode&&a.parentNode.selectedIndex;return null},set:function(a){if(a=a.parentNode)a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex}});g.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),
function(){g.propFix[this.toLowerCase()]=this});var cb=/[\t\r\n\f]/g;g.fn.extend({addClass:function(a){var b,c,d,e,f,h,k=0;if(g.isFunction(a))return this.each(function(b){g(this).addClass(a.call(this,b,ia(this)))});if("string"===typeof a&&a)for(b=a.match(X)||[];c=this[k++];)if(e=ia(c),d=1===c.nodeType&&(" "+e+" ").replace(cb," ")){for(h=0;f=b[h++];)0>d.indexOf(" "+f+" ")&&(d+=f+" ");d=g.trim(d);e!==d&&c.setAttribute("class",d)}return this},removeClass:function(a){var b,c,d,e,f,h,k=0;if(g.isFunction(a))return this.each(function(b){g(this).removeClass(a.call(this,
b,ia(this)))});if(!arguments.length)return this.attr("class","");if("string"===typeof a&&a)for(b=a.match(X)||[];c=this[k++];)if(e=ia(c),d=1===c.nodeType&&(" "+e+" ").replace(cb," ")){for(h=0;f=b[h++];)for(;-1<d.indexOf(" "+f+" ");)d=d.replace(" "+f+" "," ");d=g.trim(d);e!==d&&c.setAttribute("class",d)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"===typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):g.isFunction(a)?this.each(function(c){g(this).toggleClass(a.call(this,
c,ia(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c)for(d=0,e=g(this),f=a.match(X)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else if(void 0===a||"boolean"===c)(b=ia(this))&&z.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||!1===a?"":z.get(this,"__className__")||"")})},hasClass:function(a){var b,c=0;for(a=" "+a+" ";b=this[c++];)if(1===b.nodeType&&-1<(" "+ia(b)+" ").replace(cb," ").indexOf(a))return!0;return!1}});var lc=/\r/g,mc=/[\x20\t\r\n\f]+/g;
g.fn.extend({val:function(a){var b,c,d,e=this[0];if(arguments.length)return d=g.isFunction(a),this.each(function(c){1===this.nodeType&&(c=d?a.call(this,c,g(this).val()):a,null==c?c="":"number"===typeof c?c+="":g.isArray(c)&&(c=g.map(c,function(a){return null==a?"":a+""})),b=g.valHooks[this.type]||g.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,c,"value")||(this.value=c))});if(e){if((b=g.valHooks[e.type]||g.valHooks[e.nodeName.toLowerCase()])&&"get"in b&&void 0!==(c=b.get(e,
"value")))return c;c=e.value;return"string"===typeof c?c.replace(lc,""):null==c?"":c}}});g.extend({valHooks:{option:{get:function(a){var b=g.find.attr(a,"value");return null!=b?b:g.trim(g.text(a)).replace(mc," ")}},select:{get:function(a){for(var b,c=a.options,d=a.selectedIndex,e=(a="select-one"===a.type)?null:[],f=a?d+1:c.length,h=0>d?f:a?d:0;h<f;h++)if(b=c[h],!(!b.selected&&h!==d||b.disabled||b.parentNode.disabled&&g.nodeName(b.parentNode,"optgroup"))){b=g(b).val();if(a)return b;e.push(b)}return e},
set:function(a,b){for(var c,d,e=a.options,f=g.makeArray(b),h=e.length;h--;)if(d=e[h],d.selected=-1<g.inArray(g.valHooks.option.get(d),f))c=!0;c||(a.selectedIndex=-1);return f}}}});g.each(["radio","checkbox"],function(){g.valHooks[this]={set:function(a,b){if(g.isArray(b))return a.checked=-1<g.inArray(g(a).val(),b)}};O.checkOn||(g.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var Db=/^(?:focusinfocus|focusoutblur)$/;g.extend(g.event,{trigger:function(b,c,e,f){var h,
k,l,m,n,p,q=[e||A],v=Sa.call(b,"type")?b.type:b;p=Sa.call(b,"namespace")?b.namespace.split("."):[];k=h=e=e||A;if(3!==e.nodeType&&8!==e.nodeType&&!Db.test(v+g.event.triggered)&&(-1<v.indexOf(".")&&(p=v.split("."),v=p.shift(),p.sort()),m=0>v.indexOf(":")&&"on"+v,b=b[g.expando]?b:new g.Event(v,"object"===typeof b&&b),b.isTrigger=f?2:3,b.namespace=p.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=e),c=null==c?[b]:g.makeArray(c,
[b]),p=g.event.special[v]||{},f||!p.trigger||!1!==p.trigger.apply(e,c))){if(!f&&!p.noBubble&&!g.isWindow(e)){l=p.delegateType||v;Db.test(l+v)||(k=k.parentNode);for(;k;k=k.parentNode)q.push(k),h=k;h===(e.ownerDocument||A)&&q.push(h.defaultView||h.parentWindow||a)}for(h=0;(k=q[h++])&&!b.isPropagationStopped();)b.type=1<h?l:p.bindType||v,(n=(z.get(k,"events")||{})[b.type]&&z.get(k,"handle"))&&n.apply(k,c),(n=m&&k[m])&&n.apply&&Ua(k)&&(b.result=n.apply(k,c),!1===b.result&&b.preventDefault());b.type=v;
f||b.isDefaultPrevented()||p._default&&!1!==p._default.apply(q.pop(),c)||!Ua(e)||!m||!g.isFunction(e[v])||g.isWindow(e)||((h=e[m])&&(e[m]=null),g.event.triggered=v,e[v](),g.event.triggered=void 0,h&&(e[m]=h));return b.result}},simulate:function(a,b,c){a=g.extend(new g.Event,c,{type:a,isSimulated:!0});g.event.trigger(a,null,b)}});g.fn.extend({trigger:function(a,b){return this.each(function(){g.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return g.event.trigger(a,b,c,!0)}});
g.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(a,b){g.fn[b]=function(a,c){return 0<arguments.length?this.on(b,null,a,c):this.trigger(b)}});g.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});O.focusin="onfocusin"in a;O.focusin||g.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){g.event.simulate(b,
a.target,g.event.fix(a))};g.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=z.access(d,b);e||d.addEventListener(a,c,!0);z.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=z.access(d,b)-1;e?z.access(d,b,e):(d.removeEventListener(a,c,!0),z.remove(d,b))}}});var Ea=a.location,Eb=g.now(),db=/\?/;g.parseXML=function(b){var c;if(!b||"string"!==typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(e){c=void 0}c&&!c.getElementsByTagName("parsererror").length||
g.error("Invalid XML: "+b);return c};var Sb=/\[\]$/,Fb=/\r?\n/g,nc=/^(?:submit|button|image|reset|file)$/i,oc=/^(?:input|select|textarea|keygen)/i;g.param=function(a,b){var c,d=[],e=function(a,b){var c=g.isFunction(b)?b():b;d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(null==c?"":c)};if(g.isArray(a)||a.jquery&&!g.isPlainObject(a))g.each(a,function(){e(this.name,this.value)});else for(c in a)Wa(c,a[c],b,e);return d.join("&")};g.fn.extend({serialize:function(){return g.param(this.serializeArray())},
serializeArray:function(){return this.map(function(){var a=g.prop(this,"elements");return a?g.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!g(this).is(":disabled")&&oc.test(this.nodeName)&&!nc.test(a)&&(this.checked||!zb.test(a))}).map(function(a,b){var c=g(this).val();return null==c?null:g.isArray(c)?g.map(c,function(a){return{name:b.name,value:a.replace(Fb,"\r\n")}}):{name:b.name,value:c.replace(Fb,"\r\n")}}).get()}});var pc=/%20/g,qc=/#.*$/,rc=/([?&])_=[^&]*/,sc=/^(.*?):[ \t]*([^\r\n]*)$/gm,
tc=/^(?:GET|HEAD)$/,uc=/^\/\//,Gb={},$a={},Hb="*/".concat("*"),eb=A.createElement("a");eb.href=Ea.href;g.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ea.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ea.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Hb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,
html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":g.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Xa(Xa(a,g.ajaxSettings),b):Xa(g.ajaxSettings,a)},ajaxPrefilter:hb(Gb),ajaxTransport:hb($a),ajax:function(b,c){function e(b,c,l,r){var n,u,y,q;q=c;if(!p){p=!0;m&&a.clearTimeout(m);f=void 0;k=r||"";w.readyState=0<b?4:0;r=200<=b&&300>b||304===
b;if(l){y=t;for(var H=w,B,T,A,I,E=y.contents,F=y.dataTypes;"*"===F[0];)F.shift(),void 0===B&&(B=y.mimeType||H.getResponseHeader("Content-Type"));if(B)for(T in E)if(E[T]&&E[T].test(B)){F.unshift(T);break}if(F[0]in l)A=F[0];else{for(T in l){if(!F[0]||y.converters[T+" "+F[0]]){A=T;break}I||(I=T)}A=A||I}A?(A!==F[0]&&F.unshift(A),y=l[A]):y=void 0}a:{l=t;B=y;T=w;A=r;var J,P,K,H={},E=l.dataTypes.slice();if(E[1])for(P in l.converters)H[P.toLowerCase()]=l.converters[P];for(I=E.shift();I;)if(l.responseFields[I]&&
(T[l.responseFields[I]]=B),!K&&A&&l.dataFilter&&(B=l.dataFilter(B,l.dataType)),K=I,I=E.shift())if("*"===I)I=K;else if("*"!==K&&K!==I){P=H[K+" "+I]||H["* "+I];if(!P)for(J in H)if(y=J.split(" "),y[1]===I&&(P=H[K+" "+y[0]]||H["* "+y[0]])){!0===P?P=H[J]:!0!==H[J]&&(I=y[0],E.unshift(y[1]));break}if(!0!==P)if(P&&l["throws"])B=P(B);else try{B=P(B)}catch(O){y={state:"parsererror",error:P?O:"No conversion from "+K+" to "+I};break a}}y={state:"success",data:B}}if(r)t.ifModified&&((q=w.getResponseHeader("Last-Modified"))&&
(g.lastModified[h]=q),(q=w.getResponseHeader("etag"))&&(g.etag[h]=q)),204===b||"HEAD"===t.type?q="nocontent":304===b?q="notmodified":(q=y.state,n=y.data,u=y.error,r=!u);else if(u=q,b||!q)q="error",0>b&&(b=0);w.status=b;w.statusText=(c||q)+"";r?M.resolveWith(W,[n,q,w]):M.rejectWith(W,[w,q,u]);w.statusCode(D);D=void 0;v&&U.trigger(r?"ajaxSuccess":"ajaxError",[w,t,r?n:u]);z.fireWith(W,[w,q]);v&&(U.trigger("ajaxComplete",[w,t]),--g.active||g.event.trigger("ajaxStop"))}}"object"===typeof b&&(c=b,b=void 0);
c=c||{};var f,h,k,l,m,n,p,v,q,t=g.ajaxSetup({},c),W=t.context||t,U=t.context&&(W.nodeType||W.jquery)?g(W):g.event,M=g.Deferred(),z=g.Callbacks("once memory"),D=t.statusCode||{},B={},T={},I="canceled",w={readyState:0,getResponseHeader:function(a){var b;if(p){if(!l)for(l={};b=sc.exec(k);)l[b[1].toLowerCase()]=b[2];b=l[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return p?k:null},setRequestHeader:function(a,b){null==p&&(a=T[a.toLowerCase()]=T[a.toLowerCase()]||a,B[a]=b);return this},
overrideMimeType:function(a){null==p&&(t.mimeType=a);return this},statusCode:function(a){var b;if(a)if(p)w.always(a[w.status]);else for(b in a)D[b]=[D[b],a[b]];return this},abort:function(a){a=a||I;f&&f.abort(a);e(0,a);return this}};M.promise(w);t.url=((b||t.url||Ea.href)+"").replace(uc,Ea.protocol+"//");t.type=c.method||c.type||t.method||t.type;t.dataTypes=(t.dataType||"*").toLowerCase().match(X)||[""];if(null==t.crossDomain){n=A.createElement("a");try{n.href=t.url,n.href=n.href,t.crossDomain=eb.protocol+
"//"+eb.host!==n.protocol+"//"+n.host}catch(G){t.crossDomain=!0}}t.data&&t.processData&&"string"!==typeof t.data&&(t.data=g.param(t.data,t.traditional));ib(Gb,t,c,w);if(p)return w;(v=g.event&&t.global)&&0===g.active++&&g.event.trigger("ajaxStart");t.type=t.type.toUpperCase();t.hasContent=!tc.test(t.type);h=t.url.replace(qc,"");t.hasContent?t.data&&t.processData&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&(t.data=t.data.replace(pc,"+")):(n=t.url.slice(h.length),t.data&&(h+=
(db.test(h)?"&":"?")+t.data,delete t.data),!1===t.cache&&(h=h.replace(rc,""),n=(db.test(h)?"&":"?")+"_="+Eb++ +n),t.url=h+n);t.ifModified&&(g.lastModified[h]&&w.setRequestHeader("If-Modified-Since",g.lastModified[h]),g.etag[h]&&w.setRequestHeader("If-None-Match",g.etag[h]));(t.data&&t.hasContent&&!1!==t.contentType||c.contentType)&&w.setRequestHeader("Content-Type",t.contentType);w.setRequestHeader("Accept",t.dataTypes[0]&&t.accepts[t.dataTypes[0]]?t.accepts[t.dataTypes[0]]+("*"!==t.dataTypes[0]?
", "+Hb+"; q=0.01":""):t.accepts["*"]);for(q in t.headers)w.setRequestHeader(q,t.headers[q]);if(t.beforeSend&&(!1===t.beforeSend.call(W,w,t)||p))return w.abort();I="abort";z.add(t.complete);w.done(t.success);w.fail(t.error);if(f=ib($a,t,c,w)){w.readyState=1;v&&U.trigger("ajaxSend",[w,t]);if(p)return w;t.async&&0<t.timeout&&(m=a.setTimeout(function(){w.abort("timeout")},t.timeout));try{p=!1,f.send(B,e)}catch(G){if(p)throw G;e(-1,G)}}else e(-1,"No Transport");return w},getJSON:function(a,b,c){return g.get(a,
b,c,"json")},getScript:function(a,b){return g.get(a,void 0,b,"script")}});g.each(["get","post"],function(a,b){g[b]=function(a,c,d,e){g.isFunction(c)&&(e=e||d,d=c,c=void 0);return g.ajax(g.extend({url:a,type:b,dataType:e,data:c,success:d},g.isPlainObject(a)&&a))}});g._evalUrl=function(a){return g.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})};g.fn.extend({wrapAll:function(a){this[0]&&(g.isFunction(a)&&(a=a.call(this[0])),a=g(a,this[0].ownerDocument).eq(0).clone(!0),
this[0].parentNode&&a.insertBefore(this[0]),a.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this));return this},wrapInner:function(a){return g.isFunction(a)?this.each(function(b){g(this).wrapInner(a.call(this,b))}):this.each(function(){var b=g(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=g.isFunction(a);return this.each(function(c){g(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(a){this.parent(a).not("body").each(function(){g(this).replaceWith(this.childNodes)});
return this}});g.expr.pseudos.hidden=function(a){return!g.expr.pseudos.visible(a)};g.expr.pseudos.visible=function(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)};g.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(b){}};var vc={0:200,1223:204},Ga=g.ajaxSettings.xhr();O.cors=!!Ga&&"withCredentials"in Ga;O.ajax=Ga=!!Ga;g.ajaxTransport(function(b){var c,e;if(O.cors||Ga&&!b.crossDomain)return{send:function(f,g){var h,k=b.xhr();k.open(b.type,b.url,b.async,b.username,
b.password);if(b.xhrFields)for(h in b.xhrFields)k[h]=b.xhrFields[h];b.mimeType&&k.overrideMimeType&&k.overrideMimeType(b.mimeType);b.crossDomain||f["X-Requested-With"]||(f["X-Requested-With"]="XMLHttpRequest");for(h in f)k.setRequestHeader(h,f[h]);c=function(a){return function(){c&&(c=e=k.onload=k.onerror=k.onabort=k.onreadystatechange=null,"abort"===a?k.abort():"error"===a?"number"!==typeof k.status?g(0,"error"):g(k.status,k.statusText):g(vc[k.status]||k.status,k.statusText,"text"!==(k.responseType||
"text")||"string"!==typeof k.responseText?{binary:k.response}:{text:k.responseText},k.getAllResponseHeaders()))}};k.onload=c();e=k.onerror=c("error");void 0!==k.onabort?k.onabort=e:k.onreadystatechange=function(){4===k.readyState&&a.setTimeout(function(){c&&e()})};c=c("abort");try{k.send(b.hasContent&&b.data||null)}catch(l){if(c)throw l;}},abort:function(){c&&c()}}});g.ajaxPrefilter(function(a){a.crossDomain&&(a.contents.script=!1)});g.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){g.globalEval(a);return a}}});g.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type="GET")});g.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=g("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove();c=null;a&&e("error"===a.type?404:200,a.type)});A.head.appendChild(b[0])},abort:function(){c&&c()}}}});
var Ib=[],fb=/(=)\?(?=&|$)|\?\?/;g.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Ib.pop()||g.expando+"_"+Eb++;this[a]=!0;return a}});g.ajaxPrefilter("json jsonp",function(b,c,e){var f,h,k,l=!1!==b.jsonp&&(fb.test(b.url)?"url":"string"===typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&fb.test(b.data)&&"data");if(l||"jsonp"===b.dataTypes[0])return f=b.jsonpCallback=g.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,l?b[l]=b[l].replace(fb,
"$1"+f):!1!==b.jsonp&&(b.url+=(db.test(b.url)?"&":"?")+b.jsonp+"="+f),b.converters["script json"]=function(){k||g.error(f+" was not called");return k[0]},b.dataTypes[0]="json",h=a[f],a[f]=function(){k=arguments},e.always(function(){void 0===h?g(a).removeProp(f):a[f]=h;b[f]&&(b.jsonpCallback=c.jsonpCallback,Ib.push(f));k&&g.isFunction(h)&&h(k[0]);k=h=void 0}),"script"});O.createHTMLDocument=function(){var a=A.implementation.createHTMLDocument("").body;a.innerHTML="<form></form><form></form>";return 2===
a.childNodes.length}();g.parseHTML=function(a,b,c){if("string"!==typeof a)return[];"boolean"===typeof b&&(c=b,b=!1);var d;b||(O.createHTMLDocument?(b=A.implementation.createHTMLDocument(""),d=b.createElement("base"),d.href=A.location.href,b.head.appendChild(d)):b=A);d=vb.exec(a);c=!c&&[];if(d)return[b.createElement(d[1])];d=h([a],b,c);c&&c.length&&g(c).remove();return g.merge([],d.childNodes)};g.fn.load=function(a,b,c){var d,e,f,h=this,k=a.indexOf(" ");-1<k&&(d=g.trim(a.slice(k)),a=a.slice(0,k));
g.isFunction(b)?(c=b,b=void 0):b&&"object"===typeof b&&(e="POST");0<h.length&&g.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments;h.html(d?g("<div>").append(g.parseHTML(a)).find(d):a)}).always(c&&function(a,b){h.each(function(){c.apply(this,f||[a.responseText,b,a])})});return this};g.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){g.fn[b]=function(a){return this.on(b,a)}});g.expr.pseudos.animated=function(a){return g.grep(g.timers,
function(b){return a===b.elem}).length};g.offset={setOffset:function(a,b,c){var d,e,f,h=g.css(a,"position"),k=g(a),l={};"static"===h&&(a.style.position="relative");f=k.offset();e=g.css(a,"top");d=g.css(a,"left");("absolute"===h||"fixed"===h)&&-1<(e+d).indexOf("auto")?(d=k.position(),e=d.top,d=d.left):(e=parseFloat(e)||0,d=parseFloat(d)||0);g.isFunction(b)&&(b=b.call(a,c,g.extend({},f)));null!=b.top&&(l.top=b.top-f.top+e);null!=b.left&&(l.left=b.left-f.left+d);"using"in b?b.using.call(a,l):k.css(l)}};
g.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){g.offset.setOffset(this,a,b)});var b,c,d;if(c=this[0]){if(!c.getClientRects().length)return{top:0,left:0};d=c.getBoundingClientRect();return d.width||d.height?(b=c.ownerDocument,c=jb(b),b=b.documentElement,{top:d.top+c.pageYOffset-b.clientTop,left:d.left+c.pageXOffset-b.clientLeft}):d}},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};"fixed"===g.css(c,"position")?b=c.getBoundingClientRect():
(a=this.offsetParent(),b=this.offset(),g.nodeName(a[0],"html")||(d=a.offset()),d={top:d.top+g.css(a[0],"borderTopWidth",!0),left:d.left+g.css(a[0],"borderLeftWidth",!0)});return{top:b.top-d.top-g.css(c,"marginTop",!0),left:b.left-d.left-g.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&"static"===g.css(a,"position");)a=a.offsetParent;return a||Va})}});g.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===
b;g.fn[a]=function(d){return Y(this,function(a,d,e){var f=jb(a);if(void 0===e)return f?f[b]:a[d];f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e},a,d,arguments.length)}});g.each(["top","left"],function(a,b){g.cssHooks[b]=sa(O.pixelPosition,function(a,c){if(c)return c=ca(a,b),Za.test(c)?g(a).position()[b]+"px":c})});g.each({Height:"height",Width:"width"},function(a,b){g.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){g.fn[d]=function(e,f){var h=arguments.length&&(c||"boolean"!==
typeof e),k=c||(!0===e||!0===f?"margin":"border");return Y(this,function(b,c,e){return g.isWindow(b)?0===d.indexOf("outer")?b["inner"+a]:b.document.documentElement["client"+a]:9===b.nodeType?(c=b.documentElement,Math.max(b.body["scroll"+a],c["scroll"+a],b.body["offset"+a],c["offset"+a],c["client"+a])):void 0===e?g.css(b,c,k):g.style(b,c,e,k)},b,h?e:void 0,h)}})});g.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,
a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});g.parseJSON=JSON.parse;!(b=[],c=function(){return g}.apply(n,b),void 0!==c&&(m.exports=c));var wc=a.jQuery,xc=a.$;g.noConflict=function(b){a.$===g&&(a.$=xc);b&&a.jQuery===g&&(a.jQuery=wc);return g};e||(a.jQuery=a.$=g);return g})},function(m,n){"undefined"!==typeof jQuery&&function(a){var b=_.clone(a.fn);_.extend(a,{svg:function(b){var d=document.createElementNS("http://www.w3.org/2000/svg",b);
"svg"!==b||$platform.IE||d.setAttribute("xmlns","http://www.w3.org/2000/svg");return a(d)}}).fn.extend({$:function(){return _.$.apply(null,[this].concat(_.asArray(arguments)))},on:function(a,d){var e=this;d=_.find(arguments,_.isFunction);d.queuedBy&&d.queuedBy.push({remove:function(){e.off(a,d)}});return b.on.apply(this,arguments)},item:function(a){return a?(this.length&&(this[0]._item=a),this):this.length?this[0]._item:void 0},props:function(a){_.extend.apply(null,[this[0]].concat(arguments));return this},
props2:function(a){_.extend2.apply(null,[this[0]].concat(arguments));return this},hasWait:function(){return this.hasClass("i-am-busy")},waitUntil:function(a,b){this.addClass("i-am-busy").attr("disabled",!0);a(this.$(function(){this.removeClass("i-am-busy").removeAttr("disabled");b&&b.apply(null,arguments)}));return this},hasParent:function(a){for(var b=this;0<b.length;){if(b[0]==(a[0]||a))return!0;b=b.parent()}return!1},nonemptyValue:function(){var b=a.trim(this.val());return 0==b.length?void 0:b},
intValue:function(){var a=parseInt(this.nonemptyValue(),10);return isNaN(a)?void 0:a},hitTest:function(b){var d=this.offset(),e=b.clientX-d.left;b=b.clientY-d.top;return 0<=e&&0<=b&&e<a(this).width()&&b<a(this).height()},attrs:function(){return _.object(_.map(arguments,function(a){return[a,this.attr(a)]},this))},belongsTo:function(a){return this.is(a)||this.parents(a).length},selectClass:function(a,b){return this.removeClass(_.values(b).join(" ")).addClass(b[a])},attrInt:function(a){return(this.attr(a)||
"").integerValue},cssInt:function(a){return(this.css(a)||"").integerValue},eachChild:function(b,d){_.each(this.find(b),function(b){d(a(b))});return this},transitionend:function(a){return this.one("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",a.oneShot)},animationend:function(a){return this.one("animationend webkitAnimationEnd oAnimationEnd oanimation MSAnimationEnd",a.oneShot)},animateWith:function(a,b){a&&(this.addClass(a),this.animationend(this.$(function(){this.removeClass(a);
b&&b.call(this)})));return this},transitionWith:function(a,b){a&&(this.addClass(a),this.transitionend(this.$(function(){this.removeClass(a);b&&b.call(this)})));return this},drag:function(){var b=function(b,c){return b.originalEvent.touches&&_.find(b.originalEvent.touches,function(b){return a(b.target).hasParent(c)})||b};return function(d){this[0].dragConfig=d;$platform.touch||window.__globalDragOverlay||(window.__globalDragOverlay=a("<div>").css({display:"none",position:"fixed",top:0,right:0,bottom:0,
left:0,zIndex:999999}).appendTo(document.body));var e=window.__globalDragOverlay,f=d.button||1,k=this.$(function(k){var l=d.relativeTo||this;this.addClass(d.cls||"");if($platform.touch||k.which===f){var m=l.offset(),n=void 0;if(!d.start||!1!==(n=d.start.call(d.context||this,new Vec2(k.pageX-m.left,k.pageY-m.top),k))){var E=void 0,F=void 0,S=void 0,n=_.clone(n),ea=this.$(function(a){if($platform.touch||a.which===f){a.preventDefault();a=b(a,this[0]);var e=l.offset();n=d.move.call(d.context||this,n,
new Vec2(a.pageX-k.pageX,a.pageY-k.pageY),new Vec2(a.pageX-e.left,a.pageY-e.top),a)||n}else E(a)}),F=function(){a(e||document.body).css(e?{display:"none"}:{}).off("mouseup touchend",S).off("mousemove touchmove",ea)},S=this.$(function(a){F();d.end&&(a=b(a,this[0]),d.end.call(d.context||this,n,new Vec2(a.pageX-k.pageX,a.pageY-k.pageY),a));this.removeClass(d.cls||"")}),E=this.$(function(a){F();S(a)});a(e||document.body).css(e?{display:"",cursor:d.cursor||""}:{}).on("mousemove touchmove",ea).one("mouseup touchend",
S);d.callMoveAtStart&&d.move.call(d.context||this,n,Vec2.zero,new Vec2(k.pageX-m.left,k.pageY-m.top),k)}}}),l=_.$(this,function(a){var e=_.extend({},b(a,this[0]));if($platform.touch&&d.longPress){var f=void 0,l=window.setTimeout(_.$(this,function(){this.off("touchmove touchend",f);k(e)}),300),f=this.$(function(){window.clearTimeout(l);this.off("touchmove touchend",f)});this.one("touchmove touchend",f)}else k(e),a.preventDefault(),a.stopPropagation()});this.on($platform.touch?"touchstart":"mousedown",
l);return _.extend(this,{cancel:this.$(function(){this.off($platform.touch?"touchstart":"mousedown",l)})})}}(),transform:function(a){if(0===arguments.length){var b=(this.css("transform")||"").match(/^matrix\((.+\))$/);return b?(b=b[1].split(",").map(parseFloat),new Transform({a:b[0],b:b[1],c:b[2],d:b[3],e:b[4],f:b[5]})):Transform.identity}return this.css("transform",_.isStrictlyObject(a)&&(a.translate?"translate("+a.translate.x+"px,"+a.translate.y+"px) ":"")+(a.rotate?"rotate("+a.rotate+"rad) ":"")+
(a.scale?"scale("+(new Vec2(a.scale)).separatedWith(",")+")":"")||"")},svgTranslate:function(a){return this.attr("transform","translate("+a.x+","+a.y+")")},svgTransformMatrix:function(a){a=a.components;return this.attr("transform","matrix("+a[0][0]+","+a[1][0]+","+a[0][1]+","+a[1][1]+","+a[0][2]+","+a[1][2]+")")},svgTransformToElement:function(a){return Transform.svgMatrix(this[0].getTransformToElement(a[0]))},svgBBox:function(a){return 0===arguments.length?new BBox(this[0].getBBox()):this.attr(a.xywh)},
outerExtent:function(){return new Vec2(this.outerWidth(),this.outerHeight())},extent:function(){return new Vec2(this.width(),this.height())},innerExtent:function(){return new Vec2(this.innerWidth(),this.innerHeight())},outerBBox:function(){return BBox.fromLTWH(_.extend(this.offset(),this.outerExtent().asWidthHeight))},clientBBox:function(){return BBox.fromLTWH(this[0].getBoundingClientRect())},leftTop:function(){return new Vec2.fromLT(this.offset())},offsetInParent:function(){return Vec2.fromLeftTop(this.offset()).sub(Vec2.fromLeftTop(this.parent().offset()))},
monitorInput:function(b){var d=function(){""===a.trim(a(this).val())?b.empty(!0):b.empty(!1)};return this.keyup(d).change(d).focus(_.bind(b.focus||_.noop,b,!0)).blur(_.bind(b.focus||_.noop,b,!1))},touchClick:function(a,b){var e=this;b=b||{};if(!b.disableTouch&&$platform.touch){var f=function(b){a.apply(this,arguments);b.preventDefault();return!1},k=function(a){a.preventDefault();return!1};b.handler&&b.handler({unbind:function(){e.off("touchstart",f).off("click",k)}});return this.on("touchstart",f).on("click",
k)}b.handler&&b.handler({unbind:function(){e.off("click",a)}});return this.click(a)},touchDoubleclick:function(a){if($platform.touch){var b=Date.now();return this.on("touchend",function(){var e=Date.now();200>e-b&&a.apply(this,arguments);b=e})}return this.dblclick(a)},nodoubletapzoom:function(){return a(this).bind("touchstart",function(b){var d=b.timeStamp,e=a(this).data("lastTouch")||d,e=d-e,f=b.originalEvent.touches.length;a(this).data("lastTouch",d);!e||500<e||1<f||(b.preventDefault(),a(b.target).trigger("click"))})}})}(jQuery)},
function(m,n){(function(a){"undefined"===typeof UI&&(UI={});Panic=function(a,c){c=_.defaults(_.clone(c||{}),{dismiss:_.identity,raw:!1});_.isTypeOf(Error,a)&&_.extend(c,_.pick(a,"retry","dismiss"));Panic.widget.append(a,c.raw);if(_.isFunction(c.retry))Panic.widget.onRetry(c.retry);if(_.isFunction(c.dismiss))Panic.widget.onClose(c.dismiss)};Panic.init=function(){Panic._initialized||(Panic._initialized=!0,_.withUncaughtExceptionHandler(function(a){Panic(a);throw a;}))};Panic.widget=$singleton(Component,
{retryTriggered:$triggerOnce(),closeTriggered:$triggerOnce(),el:$memoized($property(function(){var b=a('<div class="panic-modal-overlay" style="z-index:5000; display:none;">').append([this.bg=a('<div class="panic-modal-overlay-background">'),this.modal=a('<div class="panic-modal">').append([this.modalBody=a('<div class="panic-modal-body">').append(this.title=a('<div class="panic-modal-title">Now panic!</div>')),a('<div class="panic-modal-footer">').append([this.btnRetry=a('<button type="button" class="panic-btn panic-btn-warning" style="display:none;">Try again</button>').touchClick(this.retry),
this.btnClose=a('<button type="button" class="panic-btn panic-btn-danger" style="display:none;">Close</button>').touchClick(this.close)])])]);b.appendTo(document.body);a(document).ready(function(){b.appendTo(document.body)});try{a(window).resize(this.layout).resize(),this.modal.enableScrollFaders({scroller:this.modalBody}),a(document).keydown(this.$(function(a){27===a.keyCode&&this.close()}))}catch(c){_.delay(function(){Panic(c)})}return b})),layout:function(){var b=_.coerceToUndefined(_.max(_.map(this.modal.find("pre"),
_.property("scrollWidth"))));this.modal.css({"max-height":a(window).height()-100,width:b&&b+120});this.modalBody.scroll()},toggleVisibility:function(a){a!==("none"!==this.el.css("display"))&&(a&&this.el.css("display",""),this.el.animateWith(a?"panic-modal-appear":"panic-modal-disappear",this.$(function(){a||this.el.css("display","none")})))},onRetry:function(a){this.retryTriggered(a);this.btnRetry.css("display","")},onClose:function(a){this.closeTriggered(a);this.btnClose.css("display","")},retry:function(){this._clean();
this.closeTriggered.off();this.toggleVisibility(!1);this.retryTriggered()},close:function(){this._clean();this.retryTriggered.off();this.toggleVisibility(!1);this.closeTriggered()},_clean:function(){this.modalBody.find(".panic-alert-error").remove();this.modalBody.scroll();this.btnRetry.css("display","none");this.btnClose.css("display","none")},append:function(b,c){var d="panic"+this.hash(b),e=a("#"+d+" .panic-alert-counter");e.length?e.text((e.text()||"1").parsedInt+1):a('<div class="panic-alert-error">').attr("id",
d).append('<span class="panic-alert-counter">').append(this.print(b,c)).insertAfter(this.el.find(".panic-modal-title"));this.toggleVisibility(!0);this.layout()},hash:function(a){return((_.isTypeOf(Error,a)?a&&a.stack:_.isTypeOf(Test,a)?a.suite+a.name:_.stringify(a))||"").hash},print:function(a,c){return _.isTypeOf(Error,a)?this.printError(a):_.isTypeOf(Test,a)?this.printFailedTest(a):this.printUnknownStuff(a,c)},printUnknownStuff:function(b,c){return c?b:a("<span>").text(log.impl.stringify(b))},printLocation:function(b){return a('<span class="location">').append([a('<span class="callee">').text(b.calleeShort),
a('<span class="file">').text(b.fileName),a('<span class="line">').text(b.line)])},printFailedTest:function(b){var c=a('<pre class="test-log" style="margin-top: 13px;">');log.withWriteBackend(this.$(function(b){_.isTypeOf(Error,b.args.first)&&console.log(b.args.first);c.append(_.isTypeOf(Error,b.args.first)?a('<div class="inline-exception-entry">').append([_.escape(b.indentation),a('<div class="panic-alert-error inline-exception">').append(this.printError(b.args.first))]):a('<div class="log-entry">').append(_.map(b.lines,
function(c,f,k){return a('<div class="line">').append(_.escape(b.indentation)).append(_.map(c,function(b){return a("<span>").attr("style",b.config.color&&b.config.color.css||"").text(b.text)})).append(f===k.lastIndex?[b.where&&this.printLocation(b.where),b.trailNewlines.replace(/\n/g,"<br>")]:[])},this)))}),function(a){b.evalLogCalls();a()});return[a('<div class="panic-alert-error-message" style="font-weight: bold;">').text(b.name).append('<span style="float:right; opacity: 0.25;">test failed</span>'),
c]},printError:function(b){var c=CallStack.fromErrorWithAsync(b);return[a('<div class="panic-alert-error-message" style="font-weight: bold;">').text(b.message).append(_.any(c,function(a,b){return(a.thirdParty||a["native"]||a.hide)&&0!==b})?'<a class="clean-toggle" href="javascript:{}"></a>':"").click(this.$(function(b){a(b.delegateTarget).parent().toggleClass("all-stack-entries").transitionend(this.$(function(){this.modalBody.scroll()}))})),a('<div class="not-matching" style="margin-top: 5px; padding-left: 10px;">').append(_.map(_.coerceToArray(b.notMatching||
[]),function(b){return a("<pre>").text(log.impl.stringify(b))})),a('<ul class="callstack">').append(_.map(c,this.$(function(b){var c=a('<li class="callstack-entry">').toggleClass("third-party",b.thirdParty||!1).toggleClass("hide",b.hide||!1).toggleClass("native",b["native"]||!1).append([a('<span class="file">').text(_.nonempty([b.index?"(index)":b.fileShort,b.line]).join(":")),a('<span class="callee">').text(b.calleeShort),a('<span class="src i-am-busy">').click(this.$(function(f){var k=a(f.delegateTarget);
k.waitUntil(SourceFiles.read.partial((b.remote?"api/source/":"")+b.file),this.$(function(f){c.is(".full")?(c.removeClass("full"),c.transitionend(function(){c.is(".full")||b.sourceReady(k.$(a.fn.text))})):(c.addClass("full"),k.html(_.map(f.split("\n"),function(b){return a('<div class="line">').text(b)})),f=k.find(".line").eq(b.line-1).addClass("hili"),f.length&&(f=f.offset().top-k.offset().top,k.scrollTop(f-100)),_.delay(this.$(function(){var a=k.outerBBox().bottom+242-this.modalBody.outerBBox().bottom;
0<a&&this.modalBody.animate({scrollTop:this.modalBody.scrollTop()+a},250)})))}))}))]);b.sourceReady(function(a){c.find(".src").removeClass("i-am-busy").text(a)});return c})))]}});a.fn.extend({enableScrollFaders:function(b){var c=b&&b.horizontal,d,e;b=this.find(b&&b.scroller||".scroller");this.css({position:"relative"});this.append(d=a('<div class="scroll-fader scroll-fader-'+(c?"left":"top")+'"></div>')).append(e=a('<div class="scroll-fader scroll-fader-'+(c?"right":"bottom")+'"></div>'));b.scroll(function(){var b=
c?a(this).scrollLeft():a(this).scrollTop(),k=c?a(this).width():a(this).height(),l=(c?this.scrollWidth:this.scrollHeight)-1;d.css({opacity:0<b?1:0});e.css({opacity:b+k<l?1:0})}).scroll();return this}})})(jQuery)},function(m,n){(function(a){LogOverlay=$singleton(Component,{$defaults:{opaque:!1},init:function(){log.withWriteBackend(this.write,function(){});a(document).keydown(this.$(function(a){192===a.keyCode?this.toggle():27===a.keyCode&&this.body.empty()}))},el:$memoized($property(function(){return a('<div class="useless-log-overlay" style="display: none;">').append('<div class="useless-log-overlay-body">').appendTo(document.body)})),
body:$memoized($property(function(){return this.el.find(".useless-log-overlay-body")})),toggle:function(a){this.el.toggle(a)},visible:$property(function(){return this.el.is(":visible")}),clip:function(){var b=this.el.height(),c=this.body.height();this.body.children().filter(this.$(function(d,e){var f=c-a(e).offsetInParent().y,k=f-a(e).height(),l=b/2;return f>l&&k>l})).remove()},write:function(b){this.toggle(!0);b.config.clear&&this.body.empty();this.body.append(a('<div class="ulo-line">').attr("style",
b.color&&b.color.css||"").append(a('<span class="ulo-line-text">').text(b.indentedText+" ")).append(a('<span class="ulo-line-where">').text(b.codeLocation+" ")).append(a('<span class="ulo-line-trail">').text(b.trailNewlines)));this.clip.postpone();this.opaque||log.impl.defaultWriteBackend(b)}})})(jQuery)},function(m,n,a){n=a(51);"string"===typeof n&&(n=[[m.id,n,""]]);a(53)(n,{});n.locals&&(m.exports=n.locals)},function(m,n,a){n=m.exports=a(52)();n.push([m.id,"@-webkit-keyframes bombo-jumbo {\n  0%   { -webkit-transform: scale(0); }\n  80%  { -webkit-transform: scale(1.2); }\n  100% { -webkit-transform: scale(1); } }\n\n@keyframes bombo-jumbo {\n  0%   { transform: scale(0); }\n  80%  { transform: scale(1.2); }\n  100% { transform: scale(1); } }\n\n@-webkit-keyframes pulse-opacity {\n  0% { opacity: 0.5; }\n  50% { opacity: 0.25; }\n  100% { opacity: 0.5; } }\n\n@keyframes pulse-opacity {\n  0% { opacity: 0.5; }\n  50% { opacity: 0.25; }\n  100% { opacity: 0.5; } }\n\n.i-am-busy { -webkit-animation: pulse-opacity 1s ease-in infinite; animation: pulse-opacity 1s ease-in infinite; pointer-events: none; }\n\n.panic-modal .scroll-fader-top, .scroll-fader-bottom { left: 42px; right: 42px; position: absolute; height: 20px; pointer-events: none; }\n.panic-modal .scroll-fader-top { top: 36px; background: -webkit-linear-gradient(bottom, rgba(255,255,255,0), rgba(255,255,255,1)); }\n.panic-modal .scroll-fader-bottom { bottom: 128px; background: -webkit-linear-gradient(top, rgba(255,255,255,0), rgba(255,255,255,1)); }\n\n.panic-modal-appear {\n  -webkit-animation: bombo-jumbo 0.25s cubic-bezier(1,.03,.48,1);\n  animation: bombo-jumbo 0.25s cubic-bezier(1,.03,.48,1); }\n\n.panic-modal-disappear {\n  -webkit-animation: bombo-jumbo 0.25s cubic-bezier(1,.03,.48,1); -webkit-animation-direction: reverse;\n  animation: bombo-jumbo 0.25s cubic-bezier(1,.03,.48,1); animation-direction: reverse; }\n\n.panic-modal-overlay {\n          display: -ms-flexbox; display: -moz-flex; display: -webkit-flex; display: flex;\n          -ms-flex-direction: column; -moz-flex-direction: column; -webkit-flex-direction: column; flex-direction: column;\n          -ms-align-items: center; -moz-align-items: center; -webkit-align-items: center; align-items: center;\n          -ms-flex-pack: center; -ms-align-content: center; -moz-align-content: center; -webkit-align-content: center; align-content: center;\n          -ms-justify-content: center; -moz-justify-content: center; -webkit-justify-content: center; justify-content: center;\n          position: fixed; left: 0; right: 0; top: 0; bottom: 0; }\n\n.panic-modal-overlay-background { z-index: 1; position: absolute; left: 0; right: 0; top: 0; bottom: 0; background: white; opacity: 0.75; }\n\n.panic-modal * { letter-spacing: 0; font-family: Helvetica, sans-serif; }\n.panic-modal { font-family: Helvetica, sans-serif; min-width: 640px; max-width: 90%; transition: 0.25s width ease-in-out; box-sizing: border-box; display: -webkit-flex; display: flex; position: relative; border-radius: 4px; z-index: 2; width: 640px; background: white; padding: 36px 42px 128px 42px; box-shadow: 0px 30px 80px rgba(0,0,0,0.25), 0 1px 2px rgba(0,0,0,0.15); }\n.panic-alert-counter { float: left; background: #904C34; border-radius: 8px; width: 17px; height: 17px; display: inline-block; text-align: center; line-height: 16px; margin-right: 1em; margin-left: -2px; font-size: 10px; color: white; font-weight: bold; }\n.panic-alert-counter:empty { display: none; }\n\n.panic-modal-title { font-family: Helvetica, sans-serif; color: black; font-weight: 300; font-size: 30px; opacity: 0.5; margin-bottom: 1em; }\n.panic-modal-body { overflow-y: auto; width: 100%; }\n.panic-modal-footer { text-align: right; position: absolute; left: 0; right: 0; bottom: 0; padding: 42px; }\n\n.panic-btn { margin-left: 1em; font-weight: 300; font-family: Helvetica, sans-serif; -webkit-user-select: none; user-select: none; cursor: pointer; display: inline-block; padding: 1em 1.5em; border-radius: 4px; font-size: 14px; border: 1px solid black; color: white; }\n.panic-btn:focus { outline: none; }\n.panic-btn:focus { box-shadow: inset 0px 2px 10px rgba(0,0,0,0.25); }\n\n.panic-btn-danger       { background-color: #d9534f; border-color: #d43f3a; }\n.panic-btn-danger:hover { background-color: #c9302c; border-color: #ac2925; }\n\n.panic-btn-warning       { background-color: #f0ad4e; border-color: #eea236; }\n.panic-btn-warning:hover { background-color: #ec971f; border-color: #d58512; }\n\n.panic-alert-error { border-radius: 4px; background: #FFE8E2; color: #904C34; padding: 1em 1.2em 1.2em 1.2em; margin-bottom: 1em; font-size: 14px; }\n\n.panic-alert-error { position: relative; text-shadow: 0px 1px 0px rgba(255,255,255,0.25); }\n\n.panic-alert-error .clean-toggle { height: 2em; text-decoration: none; font-weight: 300; position: absolute; color: black; opacity: 0.25; right: 0; top: 0; display: block; text-align: right; }\n.panic-alert-error .clean-toggle:hover { text-decoration: underline; }\n.panic-alert-error .clean-toggle:before,\n.panic-alert-error .clean-toggle:after { position: absolute; right: 0; transition: all 0.25s ease-in-out; display: inline-block; overflow: hidden; }\n.panic-alert-error .clean-toggle:before { -webkit-transform-origin: center left; transform-origin: center left; content: 'more'; }\n.panic-alert-error .clean-toggle:after { -webkit-transform-origin: center left; transform-origin: center right; content: 'less'; }\n.panic-alert-error.all-stack-entries .clean-toggle:before { -webkit-transform: scale(0); transform: scale(0); }\n.panic-alert-error:not(.all-stack-entries) .clean-toggle:after { -webkit-transform: scale(0); transform: scale(0); }\n\n.panic-alert-error:last-child { margin-bottom: 0; }\n\n.panic-alert-error-message { line-height: 1.2em; position: relative; }\n\n.panic-alert-error .callstack { font-size: 12px; margin: 2em 0 0.1em 0; padding: 0; }\n.panic-alert-error .callstack * { font-family: Menlo, monospace; }\n\n.panic-alert-error .callstack-entry { white-space: nowrap; opacity: 1; transition: all 0.25s ease-in-out; margin-top: 10px; list-style-type: none; max-height: 38px; overflow: hidden; }\n.panic-alert-error .callstack-entry .file { }\n.panic-alert-error .callstack-entry .file:not(:empty) + .callee:not(:empty):before { content: ' \\2192   '; }\n\n.panic-alert-error:not(.all-stack-entries) > .callstack > .callstack-entry.third-party:not(:first-child),\n.panic-alert-error:not(.all-stack-entries) > .callstack > .callstack-entry.hide:not(:first-child),\n.panic-alert-error:not(.all-stack-entries) > .callstack > .callstack-entry.native:not(:first-child) { max-height: 0; margin-top: 0; opacity: 0; }\n\n.panic-alert-error .callstack-entry,\n.panic-alert-error .callstack-entry * { line-height: initial; }\n.panic-alert-error .callstack-entry .src { overflow: hidden; transition: height 0.25s ease-in-out; height: 22px; border-radius: 2px; cursor: pointer; margin-top: 2px; white-space: pre; display: block; color: black; background: rgba(255,255,255,0.75); padding: 4px; }\n.panic-alert-error .callstack-entry.full .src { font-size: 12px; height: 200px; overflow: scroll; }\n.panic-alert-error .callstack-entry.full .src .line.hili { background: yellow; }\n.panic-alert-error .callstack-entry.full { max-height: 220px; }\n\n.panic-alert-error .callstack-entry .src.i-am-busy { background: white; }\n\n.panic-alert-error .callstack-entry        .src:empty                  { pointer-events: none; }\n.panic-alert-error .callstack-entry        .src:empty:before           { content: '<< SOURCE NOT LOADED >>'; color: rgba(0,0,0,0.25); }\n.panic-alert-error .callstack-entry.native .src:empty:before           { content: '<< NATIVE CODE >>'; color: rgba(0,0,0,0.25); }\n.panic-alert-error .callstack-entry        .src.i-am-busy:empty:before { content: '<< SOURCE LOADING >>'; color: rgba(0,0,0,0.5); }\n\n.panic-alert-error .test-log .location { transition: opacity 0.25s ease-in-out; color: black; opacity: 0.25; display: inline-block; overflow: hidden; text-overflow: ellipsis; vertical-align: middle; }\n.panic-alert-error .test-log .location:hover { opacity: 1; }\n\n.panic-alert-error .test-log .location:before { content: ' @ '; }\n\n.panic-alert-error .test-log .location .callee:after  { content: ', '; }\n.panic-alert-error .test-log .location .file          { opacity: 0.5; }\n.panic-alert-error .test-log .location .line:before   { content: ':'; }\n.panic-alert-error .test-log .location .line          { opacity: 0.25; }\n\n/*  Hack to prevent inline-blocked divs from wrapping within white-space: pre;\n */\n.panic-alert-error .test-log .inline-exception-entry:after { content: ' '; }\n.panic-alert-error .test-log .log-entry        .line:after { content: ' '; }\n.panic-alert-error           .callstack-entry  .line:after { content: ' '; }\n\n.panic-alert-error pre { overflow: scroll; border-radius: 2px; color: black; background: rgba(255,255,255,0.75); padding: 4px; margin: 0; }\n.panic-alert-error pre,\n.panic-alert-error pre * { font-family: Menlo, monospace; font-size: 11px; white-space: pre !important; }\n\n.panic-alert-error.inline-exception { max-width: 640px; border-radius: 0; margin: 0; background: none; display: inline-block; transform-origin: 0 0; transform: scale(0.95); }\n.panic-alert-error.inline-exception .panic-alert-error-message { cursor: pointer; }\n.panic-alert-error.inline-exception:not(:first-child) { margin-top: 10px; border-top: 1px solid #904C34; }\n\n",
""])},function(m,n){m.exports=function(){var a=[];a.toString=function(){for(var a=[],c=0;c<this.length;c++){var d=this[c];d[2]?a.push("@media "+d[2]+"{"+d[1]+"}"):a.push(d[1])}return a.join("")};a.i=function(b,c){"string"===typeof b&&(b=[[null,b,""]]);for(var d={},e=0;e<this.length;e++){var f=this[e][0];"number"===typeof f&&(d[f]=!0)}for(e=0;e<b.length;e++)f=b[e],"number"===typeof f[0]&&d[f[0]]||(c&&!f[2]?f[2]=c:c&&(f[2]="("+f[2]+") and ("+c+")"),a.push(f))};return a}},function(m,n,a){function b(a,
b){for(var c=0;c<a.length;c++){var d=a[c],e=B[d.id];if(e){e.refs++;for(var f=0;f<e.parts.length;f++)e.parts[f](d.parts[f]);for(;f<d.parts.length;f++)e.parts.push(l(d.parts[f],b))}else{e=[];for(f=0;f<d.parts.length;f++)e.push(l(d.parts[f],b));B[d.id]={id:d.id,refs:1,parts:e}}}}function c(a){for(var b=[],c={},d=0;d<a.length;d++){var e=a[d],f=e[0],e={css:e[1],media:e[2],sourceMap:e[3]};c[f]?c[f].parts.push(e):b.push(c[f]={id:f,parts:[e]})}return b}function d(a,b){var c=F(),d=I[I.length-1];if("top"===
a.insertAt)d?d.nextSibling?c.insertBefore(b,d.nextSibling):c.appendChild(b):c.insertBefore(b,c.firstChild),I.push(b);else if("bottom"===a.insertAt)c.appendChild(b);else throw Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");}function e(a){a.parentNode.removeChild(a);a=I.indexOf(a);0<=a&&I.splice(a,1)}function f(a){var b=document.createElement("style");b.type="text/css";d(a,b);return b}function k(a){var b=document.createElement("link");b.rel="stylesheet";d(a,b);return b}
function l(a,b){var c,d,l;if(b.singleton){var m=ea++;c=S||(S=f(b));d=p.bind(null,c,m,!1);l=p.bind(null,c,m,!0)}else a.sourceMap&&"function"===typeof URL&&"function"===typeof URL.createObjectURL&&"function"===typeof URL.revokeObjectURL&&"function"===typeof Blob&&"function"===typeof btoa?(c=k(b),d=D.bind(null,c),l=function(){e(c);c.href&&URL.revokeObjectURL(c.href)}):(c=f(b),d=q.bind(null,c),l=function(){e(c)});d(a);return function(b){b?b.css===a.css&&b.media===a.media&&b.sourceMap===a.sourceMap||d(a=
b):l()}}function p(a,b,c,d){c=c?"":d.css;a.styleSheet?a.styleSheet.cssText=fa(b,c):(c=document.createTextNode(c),d=a.childNodes,d[b]&&a.removeChild(d[b]),d.length?a.insertBefore(c,d[b]):a.appendChild(c))}function q(a,b){var c=b.css,d=b.media;d&&a.setAttribute("media",d);if(a.styleSheet)a.styleSheet.cssText=c;else{for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(document.createTextNode(c))}}function D(a,b){var c=b.css,d=b.sourceMap;d&&(c+="\n/*# sourceMappingURL=data:application/json;base64,"+
btoa(unescape(encodeURIComponent(JSON.stringify(d))))+" */");c=new Blob([c],{type:"text/css"});d=a.href;a.href=URL.createObjectURL(c);d&&URL.revokeObjectURL(d)}var B={};n=function(a){var b;return function(){"undefined"===typeof b&&(b=a.apply(this,arguments));return b}};var E=n(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),F=n(function(){return document.head||document.getElementsByTagName("head")[0]}),S=null,ea=0,I=[];m.exports=function(a,d){d=d||{};"undefined"===
typeof d.singleton&&(d.singleton=E());"undefined"===typeof d.insertAt&&(d.insertAt="bottom");var e=c(a);b(e,d);return function(a){for(var f=[],k=0;k<e.length;k++){var l=B[e[k].id];l.refs--;f.push(l)}a&&(k=c(a),b(k,d));for(k=0;k<f.length;k++)if(l=f[k],0===l.refs){for(a=0;a<l.parts.length;a++)l.parts[a]();delete B[l.id]}}};var fa=function(){var a=[];return function(b,c){a[b]=c;return a.filter(Boolean).join("\n")}}()},function(m,n,a){n=a(55);"string"===typeof n&&(n=[[m.id,n,""]]);a(53)(n,{});n.locals&&
(m.exports=n.locals)},function(m,n,a){n=m.exports=a(52)();n.push([m.id,".useless-log-overlay {\tposition: fixed; bottom: 10px; left: 10px; right: 10px; top: 10px; z-index: 5000;\n\t\t\t\t\t\toverflow: hidden;\n\t\t\t\t\t\tpointer-events: none;\n\t\t\t\t\t\t-webkit-mask-image: -webkit-gradient(linear, left top, left bottom,\n\t\t\t\t\t\t\tcolor-stop(0.00, rgba(0,0,0,0)),\n\t\t\t\t\t\t\tcolor-stop(0.50, rgba(0,0,0,0)),\n\t\t\t\t\t\t\tcolor-stop(0.60, rgba(0,0,0,0.8)),\n\t\t\t\t\t\t\tcolor-stop(1.00, rgba(0,0,0,1))); }\n\n.useless-log-overlay-body {\n\n\tfont-family: Menlo, monospace;\n\tfont-size: 11px;\n\twhite-space: pre;\n\tbackground: rgba(255,255,255,1);\n\ttext-shadow: 1px 1px 0px rgba(0,0,0,0.07); position: absolute; bottom: 0; left: 0; right: 0; }\n\n.ulo-line \t\t{ white-space: pre; word-wrap: normal; }\n.ulo-line-where { color: black; opacity: 0.25; }",
""])}]);
